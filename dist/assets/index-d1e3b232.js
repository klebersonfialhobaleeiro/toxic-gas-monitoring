var kx=Object.defineProperty;var Mx=(t,e,n)=>e in t?kx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var D=(t,e,n)=>(Mx(t,typeof e!="symbol"?e+"":e,n),n);function Tx(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Px(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fr={},Ix={get exports(){return Fr},set exports(t){Fr=t}},Wl={},T={},Nx={get exports(){return T},set exports(t){T=t}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=Symbol.for("react.element"),Rx=Symbol.for("react.portal"),Dx=Symbol.for("react.fragment"),Ox=Symbol.for("react.strict_mode"),Ax=Symbol.for("react.profiler"),Lx=Symbol.for("react.provider"),Fx=Symbol.for("react.context"),zx=Symbol.for("react.forward_ref"),Bx=Symbol.for("react.suspense"),Wx=Symbol.for("react.memo"),Hx=Symbol.for("react.lazy"),qf=Symbol.iterator;function Vx(t){return t===null||typeof t!="object"?null:(t=qf&&t[qf]||t["@@iterator"],typeof t=="function"?t:null)}var b_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S_=Object.assign,C_={};function Os(t,e,n){this.props=t,this.context=e,this.refs=C_,this.updater=n||b_}Os.prototype.isReactComponent={};Os.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Os.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function E_(){}E_.prototype=Os.prototype;function nd(t,e,n){this.props=t,this.context=e,this.refs=C_,this.updater=n||b_}var id=nd.prototype=new E_;id.constructor=nd;S_(id,Os.prototype);id.isPureReactComponent=!0;var Kf=Array.isArray,k_=Object.prototype.hasOwnProperty,sd={current:null},M_={key:!0,ref:!0,__self:!0,__source:!0};function T_(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)k_.call(e,i)&&!M_.hasOwnProperty(i)&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:wo,type:t,key:r,ref:o,props:s,_owner:sd.current}}function jx(t,e){return{$$typeof:wo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rd(t){return typeof t=="object"&&t!==null&&t.$$typeof===wo}function Ux(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qf=/\/+/g;function xc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ux(""+t.key):e.toString(36)}function xa(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wo:case Rx:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+xc(o,0):i,Kf(s)?(n="",t!=null&&(n=t.replace(Qf,"$&/")+"/"),xa(s,e,n,"",function(c){return c})):s!=null&&(rd(s)&&(s=jx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Qf,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",Kf(t))for(var a=0;a<t.length;a++){r=t[a];var l=i+xc(r,a);o+=xa(r,e,n,l,s)}else if(l=Vx(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=i+xc(r,a++),o+=xa(r,e,n,l,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vo(t,e,n){if(t==null)return t;var i=[],s=0;return xa(t,i,"","",function(r){return e.call(n,r,s++)}),i}function $x(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Je={current:null},wa={transition:null},Yx={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:wa,ReactCurrentOwner:sd};$.Children={map:Vo,forEach:function(t,e,n){Vo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vo(t,function(){e++}),e},toArray:function(t){return Vo(t,function(e){return e})||[]},only:function(t){if(!rd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=Os;$.Fragment=Dx;$.Profiler=Ax;$.PureComponent=nd;$.StrictMode=Ox;$.Suspense=Bx;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yx;$.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=S_({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=sd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)k_.call(e,l)&&!M_.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:wo,type:t.type,key:s,ref:r,props:i,_owner:o}};$.createContext=function(t){return t={$$typeof:Fx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lx,_context:t},t.Consumer=t};$.createElement=T_;$.createFactory=function(t){var e=T_.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:zx,render:t}};$.isValidElement=rd;$.lazy=function(t){return{$$typeof:Hx,_payload:{_status:-1,_result:t},_init:$x}};$.memo=function(t,e){return{$$typeof:Wx,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=wa.transition;wa.transition={};try{t()}finally{wa.transition=e}};$.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};$.useCallback=function(t,e){return Je.current.useCallback(t,e)};$.useContext=function(t){return Je.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return Je.current.useDeferredValue(t)};$.useEffect=function(t,e){return Je.current.useEffect(t,e)};$.useId=function(){return Je.current.useId()};$.useImperativeHandle=function(t,e,n){return Je.current.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return Je.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return Je.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return Je.current.useMemo(t,e)};$.useReducer=function(t,e,n){return Je.current.useReducer(t,e,n)};$.useRef=function(t){return Je.current.useRef(t)};$.useState=function(t){return Je.current.useState(t)};$.useSyncExternalStore=function(t,e,n){return Je.current.useSyncExternalStore(t,e,n)};$.useTransition=function(){return Je.current.useTransition()};$.version="18.2.0";(function(t){t.exports=$})(Nx);const qt=Px(T),bu=Tx({__proto__:null,default:qt},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=T,qx=Symbol.for("react.element"),Kx=Symbol.for("react.fragment"),Qx=Object.prototype.hasOwnProperty,Xx=Gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jx={key:!0,ref:!0,__self:!0,__source:!0};function P_(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Qx.call(e,i)&&!Jx.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:qx,type:t,key:r,ref:o,props:s,_owner:Xx.current}}Wl.Fragment=Kx;Wl.jsx=P_;Wl.jsxs=P_;(function(t){t.exports=Wl})(Ix);const Hl=Fr.Fragment,E=Fr.jsx,O=Fr.jsxs;var Su={},Cu={},Zx={get exports(){return Cu},set exports(t){Cu=t}},yt={},Eu={},ew={get exports(){return Eu},set exports(t){Eu=t}},I_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,A){var z=P.length;P.push(A);e:for(;0<z;){var ee=z-1>>>1,oe=P[ee];if(0<s(oe,A))P[ee]=A,P[z]=oe,z=ee;else break e}}function n(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var A=P[0],z=P.pop();if(z!==A){P[0]=z;e:for(var ee=0,oe=P.length,Vt=oe>>>1;ee<Vt;){var ct=2*(ee+1)-1,Zt=P[ct],ut=ct+1,Ho=P[ut];if(0>s(Zt,z))ut<oe&&0>s(Ho,Zt)?(P[ee]=Ho,P[ut]=z,ee=ut):(P[ee]=Zt,P[ct]=z,ee=ct);else if(ut<oe&&0>s(Ho,z))P[ee]=Ho,P[ut]=z,ee=ut;else break e}}return A}function s(P,A){var z=P.sortIndex-A.sortIndex;return z!==0?z:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var A=n(c);A!==null;){if(A.callback===null)i(c);else if(A.startTime<=P)i(c),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(c)}}function x(P){if(g=!1,y(P),!p)if(n(l)!==null)p=!0,J(w);else{var A=n(c);A!==null&&re(x,A.startTime-P)}}function w(P,A){p=!1,g&&(g=!1,_(C),C=-1),f=!0;var z=d;try{for(y(A),h=n(l);h!==null&&(!(h.expirationTime>A)||P&&!L());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,d=h.priorityLevel;var oe=ee(h.expirationTime<=A);A=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===n(l)&&i(l),y(A)}else i(l);h=n(l)}if(h!==null)var Vt=!0;else{var ct=n(c);ct!==null&&re(x,ct.startTime-A),Vt=!1}return Vt}finally{h=null,d=z,f=!1}}var b=!1,S=null,C=-1,N=5,I=-1;function L(){return!(t.unstable_now()-I<N)}function H(){if(S!==null){var P=t.unstable_now();I=P;var A=!0;try{A=S(!0,P)}finally{A?pe():(b=!1,S=null)}}else b=!1}var pe;if(typeof m=="function")pe=function(){m(H)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,K=We.port2;We.port1.onmessage=H,pe=function(){K.postMessage(null)}}else pe=function(){v(H,0)};function J(P){S=P,b||(b=!0,pe())}function re(P,A){C=v(function(){P(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,J(w))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(d){case 1:case 2:case 3:var A=3;break;default:A=d}var z=d;d=A;try{return P()}finally{d=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var z=d;d=P;try{return A()}finally{d=z}},t.unstable_scheduleCallback=function(P,A,z){var ee=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ee+z:ee):z=ee,P){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=z+oe,P={id:u++,callback:A,priorityLevel:P,startTime:z,expirationTime:oe,sortIndex:-1},z>ee?(P.sortIndex=z,e(c,P),n(l)===null&&P===n(c)&&(g?(_(C),C=-1):g=!0,re(x,z-ee))):(P.sortIndex=oe,e(l,P),p||f||(p=!0,J(w))),P},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(P){var A=d;return function(){var z=d;d=A;try{return P.apply(this,arguments)}finally{d=z}}}})(I_);(function(t){t.exports=I_})(ew);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_=T,_t=Eu;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R_=new Set,zr={};function Bi(t,e){vs(t,e),vs(t+"Capture",e)}function vs(t,e){for(zr[t]=e,t=0;t<e.length;t++)R_.add(e[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ku=Object.prototype.hasOwnProperty,tw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xf={},Jf={};function nw(t){return ku.call(Jf,t)?!0:ku.call(Xf,t)?!1:tw.test(t)?Jf[t]=!0:(Xf[t]=!0,!1)}function iw(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sw(t,e,n,i){if(e===null||typeof e>"u"||iw(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ze(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Be[t]=new Ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Be[e]=new Ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Be[t]=new Ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Be[t]=new Ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Be[t]=new Ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Be[t]=new Ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Be[t]=new Ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Be[t]=new Ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Be[t]=new Ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var od=/[\-:]([a-z])/g;function ad(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(od,ad);Be[e]=new Ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(od,ad);Be[e]=new Ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(od,ad);Be[e]=new Ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Be[t]=new Ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Be.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Be[t]=new Ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function ld(t,e,n,i){var s=Be.hasOwnProperty(e)?Be[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sw(e,n,s,i)&&(n=null),i||s===null?nw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var vn=N_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jo=Symbol.for("react.element"),qi=Symbol.for("react.portal"),Ki=Symbol.for("react.fragment"),cd=Symbol.for("react.strict_mode"),Mu=Symbol.for("react.profiler"),D_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),ud=Symbol.for("react.forward_ref"),Tu=Symbol.for("react.suspense"),Pu=Symbol.for("react.suspense_list"),hd=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),A_=Symbol.for("react.offscreen"),Zf=Symbol.iterator;function Vs(t){return t===null||typeof t!="object"?null:(t=Zf&&t[Zf]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,wc;function ar(t){if(wc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wc=e&&e[1]||""}return`
`+wc+t}var bc=!1;function Sc(t,e){if(!t||bc)return"";bc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ar(t):""}function rw(t){switch(t.tag){case 5:return ar(t.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 2:case 15:return t=Sc(t.type,!1),t;case 11:return t=Sc(t.type.render,!1),t;case 1:return t=Sc(t.type,!0),t;default:return""}}function Iu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ki:return"Fragment";case qi:return"Portal";case Mu:return"Profiler";case cd:return"StrictMode";case Tu:return"Suspense";case Pu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O_:return(t.displayName||"Context")+".Consumer";case D_:return(t._context.displayName||"Context")+".Provider";case ud:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hd:return e=t.displayName||null,e!==null?e:Iu(t.type)||"Memo";case Cn:e=t._payload,t=t._init;try{return Iu(t(e))}catch{}}return null}function ow(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iu(e);case 8:return e===cd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function L_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aw(t){var e=L_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uo(t){t._valueTracker||(t._valueTracker=aw(t))}function F_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=L_(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ha(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nu(t,e){var n=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ep(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Xn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z_(t,e){e=e.checked,e!=null&&ld(t,"checked",e,!1)}function Ru(t,e){z_(t,e);var n=Xn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Du(t,e.type,n):e.hasOwnProperty("defaultValue")&&Du(t,e.type,Xn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Du(t,e,n){(e!=="number"||Ha(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lr=Array.isArray;function ls(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Xn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ou(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function np(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(lr(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xn(n)}}function B_(t,e){var n=Xn(e.value),i=Xn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function ip(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function W_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?W_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $o,H_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($o=$o||document.createElement("div"),$o.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$o.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Br(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lw=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(t){lw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_r[e]=_r[t]})});function V_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_r.hasOwnProperty(t)&&_r[t]?(""+e).trim():e+"px"}function j_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=V_(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var cw=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lu(t,e){if(e){if(cw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function Fu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=null;function dd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bu=null,cs=null,us=null;function sp(t){if(t=Co(t)){if(typeof Bu!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Yl(e),Bu(t.stateNode,t.type,e))}}function U_(t){cs?us?us.push(t):us=[t]:cs=t}function $_(){if(cs){var t=cs,e=us;if(us=cs=null,sp(t),e)for(t=0;t<e.length;t++)sp(e[t])}}function Y_(t,e){return t(e)}function G_(){}var Cc=!1;function q_(t,e,n){if(Cc)return t(e,n);Cc=!0;try{return Y_(t,e,n)}finally{Cc=!1,(cs!==null||us!==null)&&(G_(),$_())}}function Wr(t,e){var n=t.stateNode;if(n===null)return null;var i=Yl(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var Wu=!1;if(pn)try{var js={};Object.defineProperty(js,"passive",{get:function(){Wu=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Wu=!1}function uw(t,e,n,i,s,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var yr=!1,Va=null,ja=!1,Hu=null,hw={onError:function(t){yr=!0,Va=t}};function dw(t,e,n,i,s,r,o,a,l){yr=!1,Va=null,uw.apply(hw,arguments)}function fw(t,e,n,i,s,r,o,a,l){if(dw.apply(this,arguments),yr){if(yr){var c=Va;yr=!1,Va=null}else throw Error(k(198));ja||(ja=!0,Hu=c)}}function Wi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function K_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rp(t){if(Wi(t)!==t)throw Error(k(188))}function pw(t){var e=t.alternate;if(!e){if(e=Wi(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return rp(s),t;if(r===i)return rp(s),e;r=r.sibling}throw Error(k(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==i)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function Q_(t){return t=pw(t),t!==null?X_(t):null}function X_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X_(t);if(e!==null)return e;t=t.sibling}return null}var J_=_t.unstable_scheduleCallback,op=_t.unstable_cancelCallback,gw=_t.unstable_shouldYield,mw=_t.unstable_requestPaint,be=_t.unstable_now,_w=_t.unstable_getCurrentPriorityLevel,fd=_t.unstable_ImmediatePriority,Z_=_t.unstable_UserBlockingPriority,Ua=_t.unstable_NormalPriority,yw=_t.unstable_LowPriority,ey=_t.unstable_IdlePriority,Vl=null,Kt=null;function vw(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Vl,t,void 0,(t.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:bw,xw=Math.log,ww=Math.LN2;function bw(t){return t>>>=0,t===0?32:31-(xw(t)/ww|0)|0}var Yo=64,Go=4194304;function cr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $a(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?i=cr(a):(r&=o,r!==0&&(i=cr(r)))}else o=n&~s,o!==0?i=cr(o):r!==0&&(i=cr(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Lt(e),s=1<<n,i|=t[n],e&=~s;return i}function Sw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cw(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Lt(r),a=1<<o,l=s[o];l===-1?(!(a&n)||a&i)&&(s[o]=Sw(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function Vu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ty(){var t=Yo;return Yo<<=1,!(Yo&4194240)&&(Yo=64),t}function Ec(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lt(e),t[e]=n}function Ew(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Lt(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function pd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Lt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var X=0;function ny(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iy,gd,sy,ry,oy,ju=!1,qo=[],Ln=null,Fn=null,zn=null,Hr=new Map,Vr=new Map,kn=[],kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ap(t,e){switch(t){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Hr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(e.pointerId)}}function Us(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Co(e),e!==null&&gd(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Mw(t,e,n,i,s){switch(e){case"focusin":return Ln=Us(Ln,t,e,n,i,s),!0;case"dragenter":return Fn=Us(Fn,t,e,n,i,s),!0;case"mouseover":return zn=Us(zn,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Hr.set(r,Us(Hr.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Vr.set(r,Us(Vr.get(r)||null,t,e,n,i,s)),!0}return!1}function ay(t){var e=vi(t.target);if(e!==null){var n=Wi(e);if(n!==null){if(e=n.tag,e===13){if(e=K_(n),e!==null){t.blockedOn=e,oy(t.priority,function(){sy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ba(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);zu=i,n.target.dispatchEvent(i),zu=null}else return e=Co(n),e!==null&&gd(e),t.blockedOn=n,!1;e.shift()}return!0}function lp(t,e,n){ba(t)&&n.delete(e)}function Tw(){ju=!1,Ln!==null&&ba(Ln)&&(Ln=null),Fn!==null&&ba(Fn)&&(Fn=null),zn!==null&&ba(zn)&&(zn=null),Hr.forEach(lp),Vr.forEach(lp)}function $s(t,e){t.blockedOn===e&&(t.blockedOn=null,ju||(ju=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,Tw)))}function jr(t){function e(s){return $s(s,t)}if(0<qo.length){$s(qo[0],t);for(var n=1;n<qo.length;n++){var i=qo[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ln!==null&&$s(Ln,t),Fn!==null&&$s(Fn,t),zn!==null&&$s(zn,t),Hr.forEach(e),Vr.forEach(e),n=0;n<kn.length;n++)i=kn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)ay(n),n.blockedOn===null&&kn.shift()}var hs=vn.ReactCurrentBatchConfig,Ya=!0;function Pw(t,e,n,i){var s=X,r=hs.transition;hs.transition=null;try{X=1,md(t,e,n,i)}finally{X=s,hs.transition=r}}function Iw(t,e,n,i){var s=X,r=hs.transition;hs.transition=null;try{X=4,md(t,e,n,i)}finally{X=s,hs.transition=r}}function md(t,e,n,i){if(Ya){var s=Uu(t,e,n,i);if(s===null)Ac(t,e,i,Ga,n),ap(t,i);else if(Mw(s,t,e,n,i))i.stopPropagation();else if(ap(t,i),e&4&&-1<kw.indexOf(t)){for(;s!==null;){var r=Co(s);if(r!==null&&iy(r),r=Uu(t,e,n,i),r===null&&Ac(t,e,i,Ga,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Ac(t,e,i,null,n)}}var Ga=null;function Uu(t,e,n,i){if(Ga=null,t=dd(i),t=vi(t),t!==null)if(e=Wi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=K_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ga=t,null}function ly(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_w()){case fd:return 1;case Z_:return 4;case Ua:case yw:return 16;case ey:return 536870912;default:return 16}default:return 16}}var Tn=null,_d=null,Sa=null;function cy(){if(Sa)return Sa;var t,e=_d,n=e.length,i,s="value"in Tn?Tn.value:Tn.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return Sa=s.slice(t,1<i?1-i:void 0)}function Ca(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ko(){return!0}function cp(){return!1}function vt(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ko:cp,this.isPropagationStopped=cp,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),e}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yd=vt(As),So=_e({},As,{view:0,detail:0}),Nw=vt(So),kc,Mc,Ys,jl=_e({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ys&&(Ys&&t.type==="mousemove"?(kc=t.screenX-Ys.screenX,Mc=t.screenY-Ys.screenY):Mc=kc=0,Ys=t),kc)},movementY:function(t){return"movementY"in t?t.movementY:Mc}}),up=vt(jl),Rw=_e({},jl,{dataTransfer:0}),Dw=vt(Rw),Ow=_e({},So,{relatedTarget:0}),Tc=vt(Ow),Aw=_e({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),Lw=vt(Aw),Fw=_e({},As,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zw=vt(Fw),Bw=_e({},As,{data:0}),hp=vt(Bw),Ww={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vw[t])?!!e[t]:!1}function vd(){return jw}var Uw=_e({},So,{key:function(t){if(t.key){var e=Ww[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vd,charCode:function(t){return t.type==="keypress"?Ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$w=vt(Uw),Yw=_e({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dp=vt(Yw),Gw=_e({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vd}),qw=vt(Gw),Kw=_e({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qw=vt(Kw),Xw=_e({},jl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jw=vt(Xw),Zw=[9,13,27,32],xd=pn&&"CompositionEvent"in window,vr=null;pn&&"documentMode"in document&&(vr=document.documentMode);var eb=pn&&"TextEvent"in window&&!vr,uy=pn&&(!xd||vr&&8<vr&&11>=vr),fp=String.fromCharCode(32),pp=!1;function hy(t,e){switch(t){case"keyup":return Zw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qi=!1;function tb(t,e){switch(t){case"compositionend":return dy(e);case"keypress":return e.which!==32?null:(pp=!0,fp);case"textInput":return t=e.data,t===fp&&pp?null:t;default:return null}}function nb(t,e){if(Qi)return t==="compositionend"||!xd&&hy(t,e)?(t=cy(),Sa=_d=Tn=null,Qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uy&&e.locale!=="ko"?null:e.data;default:return null}}var ib={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ib[t.type]:e==="textarea"}function fy(t,e,n,i){U_(i),e=qa(e,"onChange"),0<e.length&&(n=new yd("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var xr=null,Ur=null;function sb(t){Cy(t,0)}function Ul(t){var e=Zi(t);if(F_(e))return t}function rb(t,e){if(t==="change")return e}var py=!1;if(pn){var Pc;if(pn){var Ic="oninput"in document;if(!Ic){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),Ic=typeof mp.oninput=="function"}Pc=Ic}else Pc=!1;py=Pc&&(!document.documentMode||9<document.documentMode)}function _p(){xr&&(xr.detachEvent("onpropertychange",gy),Ur=xr=null)}function gy(t){if(t.propertyName==="value"&&Ul(Ur)){var e=[];fy(e,Ur,t,dd(t)),q_(sb,e)}}function ob(t,e,n){t==="focusin"?(_p(),xr=e,Ur=n,xr.attachEvent("onpropertychange",gy)):t==="focusout"&&_p()}function ab(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ul(Ur)}function lb(t,e){if(t==="click")return Ul(e)}function cb(t,e){if(t==="input"||t==="change")return Ul(e)}function ub(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wt=typeof Object.is=="function"?Object.is:ub;function $r(t,e){if(Wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!ku.call(e,s)||!Wt(t[s],e[s]))return!1}return!0}function yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vp(t,e){var n=yp(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yp(n)}}function my(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?my(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _y(){for(var t=window,e=Ha();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ha(t.document)}return e}function wd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hb(t){var e=_y(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&my(n.ownerDocument.documentElement,n)){if(i!==null&&wd(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=vp(n,r);var o=vp(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var db=pn&&"documentMode"in document&&11>=document.documentMode,Xi=null,$u=null,wr=null,Yu=!1;function xp(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yu||Xi==null||Xi!==Ha(i)||(i=Xi,"selectionStart"in i&&wd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),wr&&$r(wr,i)||(wr=i,i=qa($u,"onSelect"),0<i.length&&(e=new yd("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Xi)))}function Qo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ji={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},Nc={},yy={};pn&&(yy=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function $l(t){if(Nc[t])return Nc[t];if(!Ji[t])return t;var e=Ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yy)return Nc[t]=e[n];return t}var vy=$l("animationend"),xy=$l("animationiteration"),wy=$l("animationstart"),by=$l("transitionend"),Sy=new Map,wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(t,e){Sy.set(t,e),Bi(e,[t])}for(var Rc=0;Rc<wp.length;Rc++){var Dc=wp[Rc],fb=Dc.toLowerCase(),pb=Dc[0].toUpperCase()+Dc.slice(1);si(fb,"on"+pb)}si(vy,"onAnimationEnd");si(xy,"onAnimationIteration");si(wy,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(by,"onTransitionEnd");vs("onMouseEnter",["mouseout","mouseover"]);vs("onMouseLeave",["mouseout","mouseover"]);vs("onPointerEnter",["pointerout","pointerover"]);vs("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ur));function bp(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,fw(i,e,void 0,t),t.currentTarget=null}function Cy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;bp(s,a,c),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;bp(s,a,c),r=l}}}if(ja)throw t=Hu,ja=!1,Hu=null,t}function ae(t,e){var n=e[Xu];n===void 0&&(n=e[Xu]=new Set);var i=t+"__bubble";n.has(i)||(Ey(e,t,2,!1),n.add(i))}function Oc(t,e,n){var i=0;e&&(i|=4),Ey(n,t,i,e)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function Yr(t){if(!t[Xo]){t[Xo]=!0,R_.forEach(function(n){n!=="selectionchange"&&(gb.has(n)||Oc(n,!1,t),Oc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xo]||(e[Xo]=!0,Oc("selectionchange",!1,e))}}function Ey(t,e,n,i){switch(ly(e)){case 1:var s=Pw;break;case 4:s=Iw;break;default:s=md}n=s.bind(null,e,n,t),s=void 0,!Wu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ac(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=vi(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}a=a.parentNode}}i=i.return}q_(function(){var c=r,u=dd(n),h=[];e:{var d=Sy.get(t);if(d!==void 0){var f=yd,p=t;switch(t){case"keypress":if(Ca(n)===0)break e;case"keydown":case"keyup":f=$w;break;case"focusin":p="focus",f=Tc;break;case"focusout":p="blur",f=Tc;break;case"beforeblur":case"afterblur":f=Tc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=up;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Dw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=qw;break;case vy:case xy:case wy:f=Lw;break;case by:f=Qw;break;case"scroll":f=Nw;break;case"wheel":f=Jw;break;case"copy":case"cut":case"paste":f=zw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=dp}var g=(e&4)!==0,v=!g&&t==="scroll",_=g?d!==null?d+"Capture":null:d;g=[];for(var m=c,y;m!==null;){y=m;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,_!==null&&(x=Wr(m,_),x!=null&&g.push(Gr(m,x,y)))),v)break;m=m.return}0<g.length&&(d=new f(d,p,null,n,u),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==zu&&(p=n.relatedTarget||n.fromElement)&&(vi(p)||p[gn]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?vi(p):null,p!==null&&(v=Wi(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=up,x="onMouseLeave",_="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=dp,x="onPointerLeave",_="onPointerEnter",m="pointer"),v=f==null?d:Zi(f),y=p==null?d:Zi(p),d=new g(x,m+"leave",f,n,u),d.target=v,d.relatedTarget=y,x=null,vi(u)===c&&(g=new g(_,m+"enter",p,n,u),g.target=y,g.relatedTarget=v,x=g),v=x,f&&p)t:{for(g=f,_=p,m=0,y=g;y;y=Ui(y))m++;for(y=0,x=_;x;x=Ui(x))y++;for(;0<m-y;)g=Ui(g),m--;for(;0<y-m;)_=Ui(_),y--;for(;m--;){if(g===_||_!==null&&g===_.alternate)break t;g=Ui(g),_=Ui(_)}g=null}else g=null;f!==null&&Sp(h,d,f,g,!1),p!==null&&v!==null&&Sp(h,v,p,g,!0)}}e:{if(d=c?Zi(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var w=rb;else if(gp(d))if(py)w=cb;else{w=ab;var b=ob}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=lb);if(w&&(w=w(t,c))){fy(h,w,n,u);break e}b&&b(t,d,c),t==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&Du(d,"number",d.value)}switch(b=c?Zi(c):window,t){case"focusin":(gp(b)||b.contentEditable==="true")&&(Xi=b,$u=c,wr=null);break;case"focusout":wr=$u=Xi=null;break;case"mousedown":Yu=!0;break;case"contextmenu":case"mouseup":case"dragend":Yu=!1,xp(h,n,u);break;case"selectionchange":if(db)break;case"keydown":case"keyup":xp(h,n,u)}var S;if(xd)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Qi?hy(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(uy&&n.locale!=="ko"&&(Qi||C!=="onCompositionStart"?C==="onCompositionEnd"&&Qi&&(S=cy()):(Tn=u,_d="value"in Tn?Tn.value:Tn.textContent,Qi=!0)),b=qa(c,C),0<b.length&&(C=new hp(C,t,null,n,u),h.push({event:C,listeners:b}),S?C.data=S:(S=dy(n),S!==null&&(C.data=S)))),(S=eb?tb(t,n):nb(t,n))&&(c=qa(c,"onBeforeInput"),0<c.length&&(u=new hp("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=S))}Cy(h,e)})}function Gr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qa(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Wr(t,n),r!=null&&i.unshift(Gr(t,r,s)),r=Wr(t,e),r!=null&&i.push(Gr(t,r,s))),t=t.return}return i}function Ui(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sp(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,s?(l=Wr(n,r),l!=null&&o.unshift(Gr(n,l,a))):s||(l=Wr(n,r),l!=null&&o.push(Gr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mb=/\r\n?/g,_b=/\u0000|\uFFFD/g;function Cp(t){return(typeof t=="string"?t:""+t).replace(mb,`
`).replace(_b,"")}function Jo(t,e,n){if(e=Cp(e),Cp(t)!==e&&n)throw Error(k(425))}function Ka(){}var Gu=null,qu=null;function Ku(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qu=typeof setTimeout=="function"?setTimeout:void 0,yb=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(t){return Ep.resolve(null).then(t).catch(xb)}:Qu;function xb(t){setTimeout(function(){throw t})}function Lc(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),jr(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);jr(e)}function Bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Ls,qr="__reactProps$"+Ls,gn="__reactContainer$"+Ls,Xu="__reactEvents$"+Ls,wb="__reactListeners$"+Ls,bb="__reactHandles$"+Ls;function vi(t){var e=t[Gt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gn]||n[Gt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kp(t);t!==null;){if(n=t[Gt])return n;t=kp(t)}return e}t=n,n=t.parentNode}return null}function Co(t){return t=t[Gt]||t[gn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Yl(t){return t[qr]||null}var Ju=[],es=-1;function ri(t){return{current:t}}function ue(t){0>es||(t.current=Ju[es],Ju[es]=null,es--)}function se(t,e){es++,Ju[es]=t.current,t.current=e}var Jn={},Ge=ri(Jn),rt=ri(!1),Ti=Jn;function xs(t,e){var n=t.type.contextTypes;if(!n)return Jn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ot(t){return t=t.childContextTypes,t!=null}function Qa(){ue(rt),ue(Ge)}function Mp(t,e,n){if(Ge.current!==Jn)throw Error(k(168));se(Ge,e),se(rt,n)}function ky(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(k(108,ow(t)||"Unknown",s));return _e({},n,i)}function Xa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jn,Ti=Ge.current,se(Ge,t),se(rt,rt.current),!0}function Tp(t,e,n){var i=t.stateNode;if(!i)throw Error(k(169));n?(t=ky(t,e,Ti),i.__reactInternalMemoizedMergedChildContext=t,ue(rt),ue(Ge),se(Ge,t)):ue(rt),se(rt,n)}var rn=null,Gl=!1,Fc=!1;function My(t){rn===null?rn=[t]:rn.push(t)}function Sb(t){Gl=!0,My(t)}function oi(){if(!Fc&&rn!==null){Fc=!0;var t=0,e=X;try{var n=rn;for(X=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}rn=null,Gl=!1}catch(s){throw rn!==null&&(rn=rn.slice(t+1)),J_(fd,oi),s}finally{X=e,Fc=!1}}return null}var ts=[],ns=0,Ja=null,Za=0,wt=[],bt=0,Pi=null,an=1,ln="";function fi(t,e){ts[ns++]=Za,ts[ns++]=Ja,Ja=t,Za=e}function Ty(t,e,n){wt[bt++]=an,wt[bt++]=ln,wt[bt++]=Pi,Pi=t;var i=an;t=ln;var s=32-Lt(i)-1;i&=~(1<<s),n+=1;var r=32-Lt(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,an=1<<32-Lt(e)+s|n<<s|i,ln=r+t}else an=1<<r|n<<s|i,ln=t}function bd(t){t.return!==null&&(fi(t,1),Ty(t,1,0))}function Sd(t){for(;t===Ja;)Ja=ts[--ns],ts[ns]=null,Za=ts[--ns],ts[ns]=null;for(;t===Pi;)Pi=wt[--bt],wt[bt]=null,ln=wt[--bt],wt[bt]=null,an=wt[--bt],wt[bt]=null}var gt=null,pt=null,de=!1,Nt=null;function Py(t,e){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Pp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gt=t,pt=Bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gt=t,pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pi!==null?{id:an,overflow:ln}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gt=t,pt=null,!0):!1;default:return!1}}function Zu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function eh(t){if(de){var e=pt;if(e){var n=e;if(!Pp(t,e)){if(Zu(t))throw Error(k(418));e=Bn(n.nextSibling);var i=gt;e&&Pp(t,e)?Py(i,n):(t.flags=t.flags&-4097|2,de=!1,gt=t)}}else{if(Zu(t))throw Error(k(418));t.flags=t.flags&-4097|2,de=!1,gt=t}}}function Ip(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gt=t}function Zo(t){if(t!==gt)return!1;if(!de)return Ip(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ku(t.type,t.memoizedProps)),e&&(e=pt)){if(Zu(t))throw Iy(),Error(k(418));for(;e;)Py(t,e),e=Bn(e.nextSibling)}if(Ip(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pt=Bn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pt=null}}else pt=gt?Bn(t.stateNode.nextSibling):null;return!0}function Iy(){for(var t=pt;t;)t=Bn(t.nextSibling)}function ws(){pt=gt=null,de=!1}function Cd(t){Nt===null?Nt=[t]:Nt.push(t)}var Cb=vn.ReactCurrentBatchConfig;function Pt(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var el=ri(null),tl=null,is=null,Ed=null;function kd(){Ed=is=tl=null}function Md(t){var e=el.current;ue(el),t._currentValue=e}function th(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ds(t,e){tl=t,Ed=is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(it=!0),t.firstContext=null)}function Et(t){var e=t._currentValue;if(Ed!==t)if(t={context:t,memoizedValue:e,next:null},is===null){if(tl===null)throw Error(k(308));is=t,tl.dependencies={lanes:0,firstContext:t}}else is=is.next=t;return e}var xi=null;function Td(t){xi===null?xi=[t]:xi.push(t)}function Ny(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Td(e)):(n.next=s.next,s.next=n),e.interleaved=n,mn(t,i)}function mn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var En=!1;function Pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ry(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Y&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,mn(t,n)}return s=i.interleaved,s===null?(e.next=e,Td(i)):(e.next=s.next,s.next=e),i.interleaved=e,mn(t,n)}function Ea(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,pd(t,n)}}function Np(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nl(t,e,n,i){var s=t.updateQueue;En=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var h=s.baseState;o=0,u=c=l=null,a=r;do{var d=a.lane,f=a.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=_e({},h,d);break e;case 2:En=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Ni|=o,t.lanes=o,t.memoizedState=h}}function Rp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(k(191,s));s.call(i)}}}var Dy=new N_.Component().refs;function nh(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:_e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ql={isMounted:function(t){return(t=t._reactInternals)?Wi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Xe(),s=Vn(t),r=dn(i,s);r.payload=e,n!=null&&(r.callback=n),e=Wn(t,r,s),e!==null&&(Ft(e,t,s,i),Ea(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Xe(),s=Vn(t),r=dn(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Wn(t,r,s),e!==null&&(Ft(e,t,s,i),Ea(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xe(),i=Vn(t),s=dn(n,i);s.tag=2,e!=null&&(s.callback=e),e=Wn(t,s,i),e!==null&&(Ft(e,t,i,n),Ea(e,t,i))}};function Dp(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!$r(n,i)||!$r(s,r):!0}function Oy(t,e,n){var i=!1,s=Jn,r=e.contextType;return typeof r=="object"&&r!==null?r=Et(r):(s=ot(e)?Ti:Ge.current,i=e.contextTypes,r=(i=i!=null)?xs(t,s):Jn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ql,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Op(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ql.enqueueReplaceState(e,e.state,null)}function ih(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Dy,Pd(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=Et(r):(r=ot(e)?Ti:Ge.current,s.context=xs(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(nh(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ql.enqueueReplaceState(s,s.state,null),nl(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Gs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var i=n.stateNode}if(!i)throw Error(k(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;a===Dy&&(a=s.refs={}),o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function ea(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ap(t){var e=t._init;return e(t._payload)}function Ay(t){function e(_,m){if(t){var y=_.deletions;y===null?(_.deletions=[m],_.flags|=16):y.push(m)}}function n(_,m){if(!t)return null;for(;m!==null;)e(_,m),m=m.sibling;return null}function i(_,m){for(_=new Map;m!==null;)m.key!==null?_.set(m.key,m):_.set(m.index,m),m=m.sibling;return _}function s(_,m){return _=jn(_,m),_.index=0,_.sibling=null,_}function r(_,m,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<m?(_.flags|=2,m):y):(_.flags|=2,m)):(_.flags|=1048576,m)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,m,y,x){return m===null||m.tag!==6?(m=Uc(y,_.mode,x),m.return=_,m):(m=s(m,y),m.return=_,m)}function l(_,m,y,x){var w=y.type;return w===Ki?u(_,m,y.props.children,x,y.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Cn&&Ap(w)===m.type)?(x=s(m,y.props),x.ref=Gs(_,m,y),x.return=_,x):(x=Na(y.type,y.key,y.props,null,_.mode,x),x.ref=Gs(_,m,y),x.return=_,x)}function c(_,m,y,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=$c(y,_.mode,x),m.return=_,m):(m=s(m,y.children||[]),m.return=_,m)}function u(_,m,y,x,w){return m===null||m.tag!==7?(m=Ci(y,_.mode,x,w),m.return=_,m):(m=s(m,y),m.return=_,m)}function h(_,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Uc(""+m,_.mode,y),m.return=_,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case jo:return y=Na(m.type,m.key,m.props,null,_.mode,y),y.ref=Gs(_,null,m),y.return=_,y;case qi:return m=$c(m,_.mode,y),m.return=_,m;case Cn:var x=m._init;return h(_,x(m._payload),y)}if(lr(m)||Vs(m))return m=Ci(m,_.mode,y,null),m.return=_,m;ea(_,m)}return null}function d(_,m,y,x){var w=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:a(_,m,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jo:return y.key===w?l(_,m,y,x):null;case qi:return y.key===w?c(_,m,y,x):null;case Cn:return w=y._init,d(_,m,w(y._payload),x)}if(lr(y)||Vs(y))return w!==null?null:u(_,m,y,x,null);ea(_,y)}return null}function f(_,m,y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(y)||null,a(m,_,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jo:return _=_.get(x.key===null?y:x.key)||null,l(m,_,x,w);case qi:return _=_.get(x.key===null?y:x.key)||null,c(m,_,x,w);case Cn:var b=x._init;return f(_,m,y,b(x._payload),w)}if(lr(x)||Vs(x))return _=_.get(y)||null,u(m,_,x,w,null);ea(m,x)}return null}function p(_,m,y,x){for(var w=null,b=null,S=m,C=m=0,N=null;S!==null&&C<y.length;C++){S.index>C?(N=S,S=null):N=S.sibling;var I=d(_,S,y[C],x);if(I===null){S===null&&(S=N);break}t&&S&&I.alternate===null&&e(_,S),m=r(I,m,C),b===null?w=I:b.sibling=I,b=I,S=N}if(C===y.length)return n(_,S),de&&fi(_,C),w;if(S===null){for(;C<y.length;C++)S=h(_,y[C],x),S!==null&&(m=r(S,m,C),b===null?w=S:b.sibling=S,b=S);return de&&fi(_,C),w}for(S=i(_,S);C<y.length;C++)N=f(S,_,C,y[C],x),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?C:N.key),m=r(N,m,C),b===null?w=N:b.sibling=N,b=N);return t&&S.forEach(function(L){return e(_,L)}),de&&fi(_,C),w}function g(_,m,y,x){var w=Vs(y);if(typeof w!="function")throw Error(k(150));if(y=w.call(y),y==null)throw Error(k(151));for(var b=w=null,S=m,C=m=0,N=null,I=y.next();S!==null&&!I.done;C++,I=y.next()){S.index>C?(N=S,S=null):N=S.sibling;var L=d(_,S,I.value,x);if(L===null){S===null&&(S=N);break}t&&S&&L.alternate===null&&e(_,S),m=r(L,m,C),b===null?w=L:b.sibling=L,b=L,S=N}if(I.done)return n(_,S),de&&fi(_,C),w;if(S===null){for(;!I.done;C++,I=y.next())I=h(_,I.value,x),I!==null&&(m=r(I,m,C),b===null?w=I:b.sibling=I,b=I);return de&&fi(_,C),w}for(S=i(_,S);!I.done;C++,I=y.next())I=f(S,_,C,I.value,x),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),m=r(I,m,C),b===null?w=I:b.sibling=I,b=I);return t&&S.forEach(function(H){return e(_,H)}),de&&fi(_,C),w}function v(_,m,y,x){if(typeof y=="object"&&y!==null&&y.type===Ki&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case jo:e:{for(var w=y.key,b=m;b!==null;){if(b.key===w){if(w=y.type,w===Ki){if(b.tag===7){n(_,b.sibling),m=s(b,y.props.children),m.return=_,_=m;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Cn&&Ap(w)===b.type){n(_,b.sibling),m=s(b,y.props),m.ref=Gs(_,b,y),m.return=_,_=m;break e}n(_,b);break}else e(_,b);b=b.sibling}y.type===Ki?(m=Ci(y.props.children,_.mode,x,y.key),m.return=_,_=m):(x=Na(y.type,y.key,y.props,null,_.mode,x),x.ref=Gs(_,m,y),x.return=_,_=x)}return o(_);case qi:e:{for(b=y.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(_,m.sibling),m=s(m,y.children||[]),m.return=_,_=m;break e}else{n(_,m);break}else e(_,m);m=m.sibling}m=$c(y,_.mode,x),m.return=_,_=m}return o(_);case Cn:return b=y._init,v(_,m,b(y._payload),x)}if(lr(y))return p(_,m,y,x);if(Vs(y))return g(_,m,y,x);ea(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(_,m.sibling),m=s(m,y),m.return=_,_=m):(n(_,m),m=Uc(y,_.mode,x),m.return=_,_=m),o(_)):n(_,m)}return v}var bs=Ay(!0),Ly=Ay(!1),Eo={},Qt=ri(Eo),Kr=ri(Eo),Qr=ri(Eo);function wi(t){if(t===Eo)throw Error(k(174));return t}function Id(t,e){switch(se(Qr,e),se(Kr,t),se(Qt,Eo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Au(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Au(e,t)}ue(Qt),se(Qt,e)}function Ss(){ue(Qt),ue(Kr),ue(Qr)}function Fy(t){wi(Qr.current);var e=wi(Qt.current),n=Au(e,t.type);e!==n&&(se(Kr,t),se(Qt,n))}function Nd(t){Kr.current===t&&(ue(Qt),ue(Kr))}var ge=ri(0);function il(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zc=[];function Rd(){for(var t=0;t<zc.length;t++)zc[t]._workInProgressVersionPrimary=null;zc.length=0}var ka=vn.ReactCurrentDispatcher,Bc=vn.ReactCurrentBatchConfig,Ii=0,me=null,Ee=null,Re=null,sl=!1,br=!1,Xr=0,Eb=0;function He(){throw Error(k(321))}function Dd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wt(t[n],e[n]))return!1;return!0}function Od(t,e,n,i,s,r){if(Ii=r,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ka.current=t===null||t.memoizedState===null?Pb:Ib,t=n(i,s),br){r=0;do{if(br=!1,Xr=0,25<=r)throw Error(k(301));r+=1,Re=Ee=null,e.updateQueue=null,ka.current=Nb,t=n(i,s)}while(br)}if(ka.current=rl,e=Ee!==null&&Ee.next!==null,Ii=0,Re=Ee=me=null,sl=!1,e)throw Error(k(300));return t}function Ad(){var t=Xr!==0;return Xr=0,t}function $t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?me.memoizedState=Re=t:Re=Re.next=t,Re}function kt(){if(Ee===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Re===null?me.memoizedState:Re.next;if(e!==null)Re=e,Ee=t;else{if(t===null)throw Error(k(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Re===null?me.memoizedState=Re=t:Re=Re.next=t}return Re}function Jr(t,e){return typeof e=="function"?e(t):e}function Wc(t){var e=kt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var i=Ee,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,c=r;do{var u=c.lane;if((Ii&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,me.lanes|=u,Ni|=u}c=c.next}while(c!==null&&c!==r);l===null?o=i:l.next=a,Wt(i,e.memoizedState)||(it=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,me.lanes|=r,Ni|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hc(t){var e=kt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);Wt(r,e.memoizedState)||(it=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function zy(){}function By(t,e){var n=me,i=kt(),s=e(),r=!Wt(i.memoizedState,s);if(r&&(i.memoizedState=s,it=!0),i=i.queue,Ld(Vy.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,Zr(9,Hy.bind(null,n,i,s,e),void 0,null),Ae===null)throw Error(k(349));Ii&30||Wy(n,e,s)}return s}function Wy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Hy(t,e,n,i){e.value=n,e.getSnapshot=i,jy(e)&&Uy(t)}function Vy(t,e,n){return n(function(){jy(e)&&Uy(t)})}function jy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wt(t,n)}catch{return!0}}function Uy(t){var e=mn(t,1);e!==null&&Ft(e,t,1,-1)}function Lp(t){var e=$t();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:t},e.queue=t,t=t.dispatch=Tb.bind(null,me,t),[e.memoizedState,t]}function Zr(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function $y(){return kt().memoizedState}function Ma(t,e,n,i){var s=$t();me.flags|=t,s.memoizedState=Zr(1|e,n,void 0,i===void 0?null:i)}function Kl(t,e,n,i){var s=kt();i=i===void 0?null:i;var r=void 0;if(Ee!==null){var o=Ee.memoizedState;if(r=o.destroy,i!==null&&Dd(i,o.deps)){s.memoizedState=Zr(e,n,r,i);return}}me.flags|=t,s.memoizedState=Zr(1|e,n,r,i)}function Fp(t,e){return Ma(8390656,8,t,e)}function Ld(t,e){return Kl(2048,8,t,e)}function Yy(t,e){return Kl(4,2,t,e)}function Gy(t,e){return Kl(4,4,t,e)}function qy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ky(t,e,n){return n=n!=null?n.concat([t]):null,Kl(4,4,qy.bind(null,e,t),n)}function Fd(){}function Qy(t,e){var n=kt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Dd(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Xy(t,e){var n=kt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Dd(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Jy(t,e,n){return Ii&21?(Wt(n,e)||(n=ty(),me.lanes|=n,Ni|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,it=!0),t.memoizedState=n)}function kb(t,e){var n=X;X=n!==0&&4>n?n:4,t(!0);var i=Bc.transition;Bc.transition={};try{t(!1),e()}finally{X=n,Bc.transition=i}}function Zy(){return kt().memoizedState}function Mb(t,e,n){var i=Vn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},e0(t))t0(e,n);else if(n=Ny(t,e,n,i),n!==null){var s=Xe();Ft(n,t,i,s),n0(n,e,i)}}function Tb(t,e,n){var i=Vn(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(e0(t))t0(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,Wt(a,o)){var l=e.interleaved;l===null?(s.next=s,Td(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Ny(t,e,s,i),n!==null&&(s=Xe(),Ft(n,t,i,s),n0(n,e,i))}}function e0(t){var e=t.alternate;return t===me||e!==null&&e===me}function t0(t,e){br=sl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function n0(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,pd(t,n)}}var rl={readContext:Et,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Pb={readContext:Et,useCallback:function(t,e){return $t().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:Fp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ma(4194308,4,qy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ma(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ma(4,2,t,e)},useMemo:function(t,e){var n=$t();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=$t();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Mb.bind(null,me,t),[i.memoizedState,t]},useRef:function(t){var e=$t();return t={current:t},e.memoizedState=t},useState:Lp,useDebugValue:Fd,useDeferredValue:function(t){return $t().memoizedState=t},useTransition:function(){var t=Lp(!1),e=t[0];return t=kb.bind(null,t[1]),$t().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=me,s=$t();if(de){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),Ae===null)throw Error(k(349));Ii&30||Wy(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,Fp(Vy.bind(null,i,r,t),[t]),i.flags|=2048,Zr(9,Hy.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=$t(),e=Ae.identifierPrefix;if(de){var n=ln,i=an;n=(i&~(1<<32-Lt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Eb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ib={readContext:Et,useCallback:Qy,useContext:Et,useEffect:Ld,useImperativeHandle:Ky,useInsertionEffect:Yy,useLayoutEffect:Gy,useMemo:Xy,useReducer:Wc,useRef:$y,useState:function(){return Wc(Jr)},useDebugValue:Fd,useDeferredValue:function(t){var e=kt();return Jy(e,Ee.memoizedState,t)},useTransition:function(){var t=Wc(Jr)[0],e=kt().memoizedState;return[t,e]},useMutableSource:zy,useSyncExternalStore:By,useId:Zy,unstable_isNewReconciler:!1},Nb={readContext:Et,useCallback:Qy,useContext:Et,useEffect:Ld,useImperativeHandle:Ky,useInsertionEffect:Yy,useLayoutEffect:Gy,useMemo:Xy,useReducer:Hc,useRef:$y,useState:function(){return Hc(Jr)},useDebugValue:Fd,useDeferredValue:function(t){var e=kt();return Ee===null?e.memoizedState=t:Jy(e,Ee.memoizedState,t)},useTransition:function(){var t=Hc(Jr)[0],e=kt().memoizedState;return[t,e]},useMutableSource:zy,useSyncExternalStore:By,useId:Zy,unstable_isNewReconciler:!1};function Cs(t,e){try{var n="",i=e;do n+=rw(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function Vc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Rb=typeof WeakMap=="function"?WeakMap:Map;function i0(t,e,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){al||(al=!0,ph=i),sh(t,e)},n}function s0(t,e,n){n=dn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){sh(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){sh(t,e),typeof i!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zp(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Rb;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=Yb.bind(null,t,e,n),e.then(t,t))}function Bp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Wp(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dn(-1,1),e.tag=2,Wn(n,e,1))),n.lanes|=1),t)}var Db=vn.ReactCurrentOwner,it=!1;function Ke(t,e,n,i){e.child=t===null?Ly(e,null,n,i):bs(e,t.child,n,i)}function Hp(t,e,n,i,s){n=n.render;var r=e.ref;return ds(e,s),i=Od(t,e,n,i,r,s),n=Ad(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_n(t,e,s)):(de&&n&&bd(e),e.flags|=1,Ke(t,e,i,s),e.child)}function Vp(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!$d(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,r0(t,e,r,i,s)):(t=Na(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:$r,n(o,i)&&t.ref===e.ref)return _n(t,e,s)}return e.flags|=1,t=jn(r,i),t.ref=e.ref,t.return=e,e.child=t}function r0(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if($r(r,i)&&t.ref===e.ref)if(it=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(it=!0);else return e.lanes=t.lanes,_n(t,e,s)}return rh(t,e,n,i,s)}function o0(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(rs,dt),dt|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,se(rs,dt),dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,se(rs,dt),dt|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,se(rs,dt),dt|=i;return Ke(t,e,s,n),e.child}function a0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rh(t,e,n,i,s){var r=ot(n)?Ti:Ge.current;return r=xs(e,r),ds(e,s),n=Od(t,e,n,i,r,s),i=Ad(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_n(t,e,s)):(de&&i&&bd(e),e.flags|=1,Ke(t,e,n,s),e.child)}function jp(t,e,n,i,s){if(ot(n)){var r=!0;Xa(e)}else r=!1;if(ds(e,s),e.stateNode===null)Ta(t,e),Oy(e,n,i),ih(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Et(c):(c=ot(n)?Ti:Ge.current,c=xs(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Op(e,o,i,c),En=!1;var d=e.memoizedState;o.state=d,nl(e,i,o,s),l=e.memoizedState,a!==i||d!==l||rt.current||En?(typeof u=="function"&&(nh(e,n,u,i),l=e.memoizedState),(a=En||Dp(e,n,a,i,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Ry(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Pt(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Et(l):(l=ot(n)?Ti:Ge.current,l=xs(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Op(e,o,i,l),En=!1,d=e.memoizedState,o.state=d,nl(e,i,o,s);var p=e.memoizedState;a!==h||d!==p||rt.current||En?(typeof f=="function"&&(nh(e,n,f,i),p=e.memoizedState),(c=En||Dp(e,n,c,i,d,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return oh(t,e,n,i,r,s)}function oh(t,e,n,i,s,r){a0(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&Tp(e,n,!1),_n(t,e,r);i=e.stateNode,Db.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=bs(e,t.child,null,r),e.child=bs(e,null,a,r)):Ke(t,e,a,r),e.memoizedState=i.state,s&&Tp(e,n,!0),e.child}function l0(t){var e=t.stateNode;e.pendingContext?Mp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Mp(t,e.context,!1),Id(t,e.containerInfo)}function Up(t,e,n,i,s){return ws(),Cd(s),e.flags|=256,Ke(t,e,n,i),e.child}var ah={dehydrated:null,treeContext:null,retryLane:0};function lh(t){return{baseLanes:t,cachePool:null,transitions:null}}function c0(t,e,n){var i=e.pendingProps,s=ge.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),se(ge,s&1),t===null)return eh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Jl(o,i,0,null),t=Ci(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=lh(n),e.memoizedState=ah,t):zd(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ob(t,e,o,i,a,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=jn(s,l),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=jn(a,r):(r=Ci(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?lh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=ah,i}return r=t.child,t=r.sibling,i=jn(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function zd(t,e){return e=Jl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ta(t,e,n,i){return i!==null&&Cd(i),bs(e,t.child,null,n),t=zd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ob(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=Vc(Error(k(422))),ta(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=Jl({mode:"visible",children:i.children},s,0,null),r=Ci(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&bs(e,t.child,null,o),e.child.memoizedState=lh(o),e.memoizedState=ah,r);if(!(e.mode&1))return ta(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(k(419)),i=Vc(r,i,void 0),ta(t,e,o,i)}if(a=(o&t.childLanes)!==0,it||a){if(i=Ae,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,mn(t,s),Ft(i,t,s,-1))}return Ud(),i=Vc(Error(k(421))),ta(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Gb.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,pt=Bn(s.nextSibling),gt=e,de=!0,Nt=null,t!==null&&(wt[bt++]=an,wt[bt++]=ln,wt[bt++]=Pi,an=t.id,ln=t.overflow,Pi=e),e=zd(e,i.children),e.flags|=4096,e)}function $p(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),th(t.return,e,n)}function jc(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function u0(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Ke(t,e,i.children,n),i=ge.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$p(t,n,e);else if(t.tag===19)$p(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(se(ge,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&il(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jc(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&il(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jc(e,!0,n,null,r);break;case"together":jc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ta(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ni|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=jn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ab(t,e,n){switch(e.tag){case 3:l0(e),ws();break;case 5:Fy(e);break;case 1:ot(e.type)&&Xa(e);break;case 4:Id(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;se(el,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(se(ge,ge.current&1),e.flags|=128,null):n&e.child.childLanes?c0(t,e,n):(se(ge,ge.current&1),t=_n(t,e,n),t!==null?t.sibling:null);se(ge,ge.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return u0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(ge,ge.current),i)break;return null;case 22:case 23:return e.lanes=0,o0(t,e,n)}return _n(t,e,n)}var h0,ch,d0,f0;h0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ch=function(){};d0=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,wi(Qt.current);var r=null;switch(n){case"input":s=Nu(t,s),i=Nu(t,i),r=[];break;case"select":s=_e({},s,{value:void 0}),i=_e({},i,{value:void 0}),r=[];break;case"textarea":s=Ou(t,s),i=Ou(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Ka)}Lu(n,i);var o;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zr.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var l=i[c];if(a=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zr.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ae("scroll",t),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};f0=function(t,e,n,i){n!==i&&(e.flags|=4)};function qs(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Lb(t,e,n){var i=e.pendingProps;switch(Sd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(e),null;case 1:return ot(e.type)&&Qa(),Ve(e),null;case 3:return i=e.stateNode,Ss(),ue(rt),ue(Ge),Rd(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Zo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nt!==null&&(_h(Nt),Nt=null))),ch(t,e),Ve(e),null;case 5:Nd(e);var s=wi(Qr.current);if(n=e.type,t!==null&&e.stateNode!=null)d0(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(k(166));return Ve(e),null}if(t=wi(Qt.current),Zo(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[Gt]=e,i[qr]=r,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",i),ae("close",i);break;case"iframe":case"object":case"embed":ae("load",i);break;case"video":case"audio":for(s=0;s<ur.length;s++)ae(ur[s],i);break;case"source":ae("error",i);break;case"img":case"image":case"link":ae("error",i),ae("load",i);break;case"details":ae("toggle",i);break;case"input":ep(i,r),ae("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},ae("invalid",i);break;case"textarea":np(i,r),ae("invalid",i)}Lu(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&Jo(i.textContent,a,t),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Jo(i.textContent,a,t),s=["children",""+a]):zr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ae("scroll",i)}switch(n){case"input":Uo(i),tp(i,r,!0);break;case"textarea":Uo(i),ip(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=Ka)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=W_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Gt]=e,t[qr]=i,h0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fu(n,i),n){case"dialog":ae("cancel",t),ae("close",t),s=i;break;case"iframe":case"object":case"embed":ae("load",t),s=i;break;case"video":case"audio":for(s=0;s<ur.length;s++)ae(ur[s],t);s=i;break;case"source":ae("error",t),s=i;break;case"img":case"image":case"link":ae("error",t),ae("load",t),s=i;break;case"details":ae("toggle",t),s=i;break;case"input":ep(t,i),s=Nu(t,i),ae("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=_e({},i,{value:void 0}),ae("invalid",t);break;case"textarea":np(t,i),s=Ou(t,i),ae("invalid",t);break;default:s=i}Lu(n,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?j_(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&H_(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Br(t,l):typeof l=="number"&&Br(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(zr.hasOwnProperty(r)?l!=null&&r==="onScroll"&&ae("scroll",t):l!=null&&ld(t,r,l,o))}switch(n){case"input":Uo(t),tp(t,i,!1);break;case"textarea":Uo(t),ip(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Xn(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?ls(t,!!i.multiple,r,!1):i.defaultValue!=null&&ls(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ka)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ve(e),null;case 6:if(t&&e.stateNode!=null)f0(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(k(166));if(n=wi(Qr.current),wi(Qt.current),Zo(e)){if(i=e.stateNode,n=e.memoizedProps,i[Gt]=e,(r=i.nodeValue!==n)&&(t=gt,t!==null))switch(t.tag){case 3:Jo(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jo(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Gt]=e,e.stateNode=i}return Ve(e),null;case 13:if(ue(ge),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&pt!==null&&e.mode&1&&!(e.flags&128))Iy(),ws(),e.flags|=98560,r=!1;else if(r=Zo(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(k(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(k(317));r[Gt]=e}else ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ve(e),r=!1}else Nt!==null&&(_h(Nt),Nt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ge.current&1?Te===0&&(Te=3):Ud())),e.updateQueue!==null&&(e.flags|=4),Ve(e),null);case 4:return Ss(),ch(t,e),t===null&&Yr(e.stateNode.containerInfo),Ve(e),null;case 10:return Md(e.type._context),Ve(e),null;case 17:return ot(e.type)&&Qa(),Ve(e),null;case 19:if(ue(ge),r=e.memoizedState,r===null)return Ve(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)qs(r,!1);else{if(Te!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=il(t),o!==null){for(e.flags|=128,qs(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return se(ge,ge.current&1|2),e.child}t=t.sibling}r.tail!==null&&be()>Es&&(e.flags|=128,i=!0,qs(r,!1),e.lanes=4194304)}else{if(!i)if(t=il(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qs(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!de)return Ve(e),null}else 2*be()-r.renderingStartTime>Es&&n!==1073741824&&(e.flags|=128,i=!0,qs(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=be(),e.sibling=null,n=ge.current,se(ge,i?n&1|2:n&1),e):(Ve(e),null);case 22:case 23:return jd(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?dt&1073741824&&(Ve(e),e.subtreeFlags&6&&(e.flags|=8192)):Ve(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function Fb(t,e){switch(Sd(e),e.tag){case 1:return ot(e.type)&&Qa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ss(),ue(rt),ue(Ge),Rd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nd(e),null;case 13:if(ue(ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ue(ge),null;case 4:return Ss(),null;case 10:return Md(e.type._context),null;case 22:case 23:return jd(),null;case 24:return null;default:return null}}var na=!1,Ue=!1,zb=typeof WeakSet=="function"?WeakSet:Set,R=null;function ss(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ye(t,e,i)}else n.current=null}function uh(t,e,n){try{n()}catch(i){ye(t,e,i)}}var Yp=!1;function Bb(t,e){if(Gu=Ya,t=_y(),wd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==r||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===s&&(a=o),d===r&&++u===i&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qu={focusedElem:t,selectionRange:n},Ya=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,_=e.stateNode,m=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:Pt(e.type,g),v);_.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(x){ye(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return p=Yp,Yp=!1,p}function Sr(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&uh(e,n,r)}s=s.next}while(s!==i)}}function Ql(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function hh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function p0(t){var e=t.alternate;e!==null&&(t.alternate=null,p0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gt],delete e[qr],delete e[Xu],delete e[wb],delete e[bb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function g0(t){return t.tag===5||t.tag===3||t.tag===4}function Gp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||g0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dh(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ka));else if(i!==4&&(t=t.child,t!==null))for(dh(t,e,n),t=t.sibling;t!==null;)dh(t,e,n),t=t.sibling}function fh(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(fh(t,e,n),t=t.sibling;t!==null;)fh(t,e,n),t=t.sibling}var Le=null,It=!1;function bn(t,e,n){for(n=n.child;n!==null;)m0(t,e,n),n=n.sibling}function m0(t,e,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Vl,n)}catch{}switch(n.tag){case 5:Ue||ss(n,e);case 6:var i=Le,s=It;Le=null,bn(t,e,n),Le=i,It=s,Le!==null&&(It?(t=Le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(It?(t=Le,n=n.stateNode,t.nodeType===8?Lc(t.parentNode,n):t.nodeType===1&&Lc(t,n),jr(t)):Lc(Le,n.stateNode));break;case 4:i=Le,s=It,Le=n.stateNode.containerInfo,It=!0,bn(t,e,n),Le=i,It=s;break;case 0:case 11:case 14:case 15:if(!Ue&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&uh(n,e,o),s=s.next}while(s!==i)}bn(t,e,n);break;case 1:if(!Ue&&(ss(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){ye(n,e,a)}bn(t,e,n);break;case 21:bn(t,e,n);break;case 22:n.mode&1?(Ue=(i=Ue)||n.memoizedState!==null,bn(t,e,n),Ue=i):bn(t,e,n);break;default:bn(t,e,n)}}function qp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zb),e.forEach(function(i){var s=qb.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Tt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Le=a.stateNode,It=!1;break e;case 3:Le=a.stateNode.containerInfo,It=!0;break e;case 4:Le=a.stateNode.containerInfo,It=!0;break e}a=a.return}if(Le===null)throw Error(k(160));m0(r,o,s),Le=null,It=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ye(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_0(e,t),e=e.sibling}function _0(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tt(e,t),jt(t),i&4){try{Sr(3,t,t.return),Ql(3,t)}catch(g){ye(t,t.return,g)}try{Sr(5,t,t.return)}catch(g){ye(t,t.return,g)}}break;case 1:Tt(e,t),jt(t),i&512&&n!==null&&ss(n,n.return);break;case 5:if(Tt(e,t),jt(t),i&512&&n!==null&&ss(n,n.return),t.flags&32){var s=t.stateNode;try{Br(s,"")}catch(g){ye(t,t.return,g)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&z_(s,r),Fu(a,o);var c=Fu(a,r);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?j_(s,h):u==="dangerouslySetInnerHTML"?H_(s,h):u==="children"?Br(s,h):ld(s,u,h,c)}switch(a){case"input":Ru(s,r);break;case"textarea":B_(s,r);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?ls(s,!!r.multiple,f,!1):d!==!!r.multiple&&(r.defaultValue!=null?ls(s,!!r.multiple,r.defaultValue,!0):ls(s,!!r.multiple,r.multiple?[]:"",!1))}s[qr]=r}catch(g){ye(t,t.return,g)}}break;case 6:if(Tt(e,t),jt(t),i&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(g){ye(t,t.return,g)}}break;case 3:if(Tt(e,t),jt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{jr(e.containerInfo)}catch(g){ye(t,t.return,g)}break;case 4:Tt(e,t),jt(t);break;case 13:Tt(e,t),jt(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Hd=be())),i&4&&qp(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ue=(c=Ue)||u,Tt(e,t),Ue=c):Tt(e,t),jt(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(R=t,u=t.child;u!==null;){for(h=R=u;R!==null;){switch(d=R,f=d.child,d.tag){case 0:case 11:case 14:case 15:Sr(4,d,d.return);break;case 1:ss(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){ye(i,n,g)}}break;case 5:ss(d,d.return);break;case 22:if(d.memoizedState!==null){Qp(h);continue}}f!==null?(f.return=d,R=f):Qp(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=V_("display",o))}catch(g){ye(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){ye(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tt(e,t),jt(t),i&4&&qp(t);break;case 21:break;default:Tt(e,t),jt(t)}}function jt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(g0(n)){var i=n;break e}n=n.return}throw Error(k(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Br(s,""),i.flags&=-33);var r=Gp(t);fh(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Gp(t);dh(t,a,o);break;default:throw Error(k(161))}}catch(l){ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wb(t,e,n){R=t,y0(t)}function y0(t,e,n){for(var i=(t.mode&1)!==0;R!==null;){var s=R,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||na;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ue;a=na;var c=Ue;if(na=o,(Ue=l)&&!c)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?Xp(s):l!==null?(l.return=o,R=l):Xp(s);for(;r!==null;)R=r,y0(r),r=r.sibling;R=s,na=a,Ue=c}Kp(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,R=r):Kp(t)}}function Kp(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ue||Ql(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ue)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pt(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Rp(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&jr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Ue||e.flags&512&&hh(e)}catch(d){ye(e,e.return,d)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function Qp(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function Xp(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ql(4,e)}catch(l){ye(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){ye(e,s,l)}}var r=e.return;try{hh(e)}catch(l){ye(e,r,l)}break;case 5:var o=e.return;try{hh(e)}catch(l){ye(e,o,l)}}}catch(l){ye(e,e.return,l)}if(e===t){R=null;break}var a=e.sibling;if(a!==null){a.return=e.return,R=a;break}R=e.return}}var Hb=Math.ceil,ol=vn.ReactCurrentDispatcher,Bd=vn.ReactCurrentOwner,Ct=vn.ReactCurrentBatchConfig,Y=0,Ae=null,Ce=null,ze=0,dt=0,rs=ri(0),Te=0,eo=null,Ni=0,Xl=0,Wd=0,Cr=null,tt=null,Hd=0,Es=1/0,sn=null,al=!1,ph=null,Hn=null,ia=!1,Pn=null,ll=0,Er=0,gh=null,Pa=-1,Ia=0;function Xe(){return Y&6?be():Pa!==-1?Pa:Pa=be()}function Vn(t){return t.mode&1?Y&2&&ze!==0?ze&-ze:Cb.transition!==null?(Ia===0&&(Ia=ty()),Ia):(t=X,t!==0||(t=window.event,t=t===void 0?16:ly(t.type)),t):1}function Ft(t,e,n,i){if(50<Er)throw Er=0,gh=null,Error(k(185));bo(t,n,i),(!(Y&2)||t!==Ae)&&(t===Ae&&(!(Y&2)&&(Xl|=n),Te===4&&Mn(t,ze)),at(t,i),n===1&&Y===0&&!(e.mode&1)&&(Es=be()+500,Gl&&oi()))}function at(t,e){var n=t.callbackNode;Cw(t,e);var i=$a(t,t===Ae?ze:0);if(i===0)n!==null&&op(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&op(n),e===1)t.tag===0?Sb(Jp.bind(null,t)):My(Jp.bind(null,t)),vb(function(){!(Y&6)&&oi()}),n=null;else{switch(ny(i)){case 1:n=fd;break;case 4:n=Z_;break;case 16:n=Ua;break;case 536870912:n=ey;break;default:n=Ua}n=k0(n,v0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function v0(t,e){if(Pa=-1,Ia=0,Y&6)throw Error(k(327));var n=t.callbackNode;if(fs()&&t.callbackNode!==n)return null;var i=$a(t,t===Ae?ze:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=cl(t,i);else{e=i;var s=Y;Y|=2;var r=w0();(Ae!==t||ze!==e)&&(sn=null,Es=be()+500,Si(t,e));do try{Ub();break}catch(a){x0(t,a)}while(1);kd(),ol.current=r,Y=s,Ce!==null?e=0:(Ae=null,ze=0,e=Te)}if(e!==0){if(e===2&&(s=Vu(t),s!==0&&(i=s,e=mh(t,s))),e===1)throw n=eo,Si(t,0),Mn(t,i),at(t,be()),n;if(e===6)Mn(t,i);else{if(s=t.current.alternate,!(i&30)&&!Vb(s)&&(e=cl(t,i),e===2&&(r=Vu(t),r!==0&&(i=r,e=mh(t,r))),e===1))throw n=eo,Si(t,0),Mn(t,i),at(t,be()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(k(345));case 2:pi(t,tt,sn);break;case 3:if(Mn(t,i),(i&130023424)===i&&(e=Hd+500-be(),10<e)){if($a(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){Xe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Qu(pi.bind(null,t,tt,sn),e);break}pi(t,tt,sn);break;case 4:if(Mn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-Lt(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=be()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Hb(i/1960))-i,10<i){t.timeoutHandle=Qu(pi.bind(null,t,tt,sn),i);break}pi(t,tt,sn);break;case 5:pi(t,tt,sn);break;default:throw Error(k(329))}}}return at(t,be()),t.callbackNode===n?v0.bind(null,t):null}function mh(t,e){var n=Cr;return t.current.memoizedState.isDehydrated&&(Si(t,e).flags|=256),t=cl(t,e),t!==2&&(e=tt,tt=n,e!==null&&_h(e)),t}function _h(t){tt===null?tt=t:tt.push.apply(tt,t)}function Vb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Wt(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mn(t,e){for(e&=~Wd,e&=~Xl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Lt(e),i=1<<n;t[n]=-1,e&=~i}}function Jp(t){if(Y&6)throw Error(k(327));fs();var e=$a(t,0);if(!(e&1))return at(t,be()),null;var n=cl(t,e);if(t.tag!==0&&n===2){var i=Vu(t);i!==0&&(e=i,n=mh(t,i))}if(n===1)throw n=eo,Si(t,0),Mn(t,e),at(t,be()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pi(t,tt,sn),at(t,be()),null}function Vd(t,e){var n=Y;Y|=1;try{return t(e)}finally{Y=n,Y===0&&(Es=be()+500,Gl&&oi())}}function Ri(t){Pn!==null&&Pn.tag===0&&!(Y&6)&&fs();var e=Y;Y|=1;var n=Ct.transition,i=X;try{if(Ct.transition=null,X=1,t)return t()}finally{X=i,Ct.transition=n,Y=e,!(Y&6)&&oi()}}function jd(){dt=rs.current,ue(rs)}function Si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yb(n)),Ce!==null)for(n=Ce.return;n!==null;){var i=n;switch(Sd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Qa();break;case 3:Ss(),ue(rt),ue(Ge),Rd();break;case 5:Nd(i);break;case 4:Ss();break;case 13:ue(ge);break;case 19:ue(ge);break;case 10:Md(i.type._context);break;case 22:case 23:jd()}n=n.return}if(Ae=t,Ce=t=jn(t.current,null),ze=dt=e,Te=0,eo=null,Wd=Xl=Ni=0,tt=Cr=null,xi!==null){for(e=0;e<xi.length;e++)if(n=xi[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}xi=null}return t}function x0(t,e){do{var n=Ce;try{if(kd(),ka.current=rl,sl){for(var i=me.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}sl=!1}if(Ii=0,Re=Ee=me=null,br=!1,Xr=0,Bd.current=null,n===null||n.return===null){Te=1,eo=e,Ce=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Bp(o);if(f!==null){f.flags&=-257,Wp(f,o,a,r,e),f.mode&1&&zp(r,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){zp(r,c,e),Ud();break e}l=Error(k(426))}}else if(de&&a.mode&1){var v=Bp(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Wp(v,o,a,r,e),Cd(Cs(l,a));break e}}r=l=Cs(l,a),Te!==4&&(Te=2),Cr===null?Cr=[r]:Cr.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var _=i0(r,l,e);Np(r,_);break e;case 1:a=l;var m=r.type,y=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hn===null||!Hn.has(y)))){r.flags|=65536,e&=-e,r.lanes|=e;var x=s0(r,a,e);Np(r,x);break e}}r=r.return}while(r!==null)}S0(n)}catch(w){e=w,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(1)}function w0(){var t=ol.current;return ol.current=rl,t===null?rl:t}function Ud(){(Te===0||Te===3||Te===2)&&(Te=4),Ae===null||!(Ni&268435455)&&!(Xl&268435455)||Mn(Ae,ze)}function cl(t,e){var n=Y;Y|=2;var i=w0();(Ae!==t||ze!==e)&&(sn=null,Si(t,e));do try{jb();break}catch(s){x0(t,s)}while(1);if(kd(),Y=n,ol.current=i,Ce!==null)throw Error(k(261));return Ae=null,ze=0,Te}function jb(){for(;Ce!==null;)b0(Ce)}function Ub(){for(;Ce!==null&&!gw();)b0(Ce)}function b0(t){var e=E0(t.alternate,t,dt);t.memoizedProps=t.pendingProps,e===null?S0(t):Ce=e,Bd.current=null}function S0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Fb(n,e),n!==null){n.flags&=32767,Ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Te=6,Ce=null;return}}else if(n=Lb(n,e,dt),n!==null){Ce=n;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);Te===0&&(Te=5)}function pi(t,e,n){var i=X,s=Ct.transition;try{Ct.transition=null,X=1,$b(t,e,n,i)}finally{Ct.transition=s,X=i}return null}function $b(t,e,n,i){do fs();while(Pn!==null);if(Y&6)throw Error(k(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(Ew(t,r),t===Ae&&(Ce=Ae=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ia||(ia=!0,k0(Ua,function(){return fs(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Ct.transition,Ct.transition=null;var o=X;X=1;var a=Y;Y|=4,Bd.current=null,Bb(t,n),_0(n,t),hb(qu),Ya=!!Gu,qu=Gu=null,t.current=n,Wb(n),mw(),Y=a,X=o,Ct.transition=r}else t.current=n;if(ia&&(ia=!1,Pn=t,ll=s),r=t.pendingLanes,r===0&&(Hn=null),vw(n.stateNode),at(t,be()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(al)throw al=!1,t=ph,ph=null,t;return ll&1&&t.tag!==0&&fs(),r=t.pendingLanes,r&1?t===gh?Er++:(Er=0,gh=t):Er=0,oi(),null}function fs(){if(Pn!==null){var t=ny(ll),e=Ct.transition,n=X;try{if(Ct.transition=null,X=16>t?16:t,Pn===null)var i=!1;else{if(t=Pn,Pn=null,ll=0,Y&6)throw Error(k(331));var s=Y;for(Y|=4,R=t.current;R!==null;){var r=R,o=r.child;if(R.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(R=c;R!==null;){var u=R;switch(u.tag){case 0:case 11:case 15:Sr(8,u,r)}var h=u.child;if(h!==null)h.return=u,R=h;else for(;R!==null;){u=R;var d=u.sibling,f=u.return;if(p0(u),u===c){R=null;break}if(d!==null){d.return=f,R=d;break}R=f}}}var p=r.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}R=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,R=o;else e:for(;R!==null;){if(r=R,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Sr(9,r,r.return)}var _=r.sibling;if(_!==null){_.return=r.return,R=_;break e}R=r.return}}var m=t.current;for(R=m;R!==null;){o=R;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,R=y;else e:for(o=m;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ql(9,a)}}catch(w){ye(a,a.return,w)}if(a===o){R=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,R=x;break e}R=a.return}}if(Y=s,oi(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Vl,t)}catch{}i=!0}return i}finally{X=n,Ct.transition=e}}return!1}function Zp(t,e,n){e=Cs(n,e),e=i0(t,e,1),t=Wn(t,e,1),e=Xe(),t!==null&&(bo(t,1,e),at(t,e))}function ye(t,e,n){if(t.tag===3)Zp(t,t,n);else for(;e!==null;){if(e.tag===3){Zp(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Hn===null||!Hn.has(i))){t=Cs(n,t),t=s0(e,t,1),e=Wn(e,t,1),t=Xe(),e!==null&&(bo(e,1,t),at(e,t));break}}e=e.return}}function Yb(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Xe(),t.pingedLanes|=t.suspendedLanes&n,Ae===t&&(ze&n)===n&&(Te===4||Te===3&&(ze&130023424)===ze&&500>be()-Hd?Si(t,0):Wd|=n),at(t,e)}function C0(t,e){e===0&&(t.mode&1?(e=Go,Go<<=1,!(Go&130023424)&&(Go=4194304)):e=1);var n=Xe();t=mn(t,e),t!==null&&(bo(t,e,n),at(t,n))}function Gb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),C0(t,n)}function qb(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(k(314))}i!==null&&i.delete(e),C0(t,n)}var E0;E0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rt.current)it=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return it=!1,Ab(t,e,n);it=!!(t.flags&131072)}else it=!1,de&&e.flags&1048576&&Ty(e,Za,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ta(t,e),t=e.pendingProps;var s=xs(e,Ge.current);ds(e,n),s=Od(null,e,i,t,s,n);var r=Ad();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ot(i)?(r=!0,Xa(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pd(e),s.updater=ql,e.stateNode=s,s._reactInternals=e,ih(e,i,t,n),e=oh(null,e,i,!0,r,n)):(e.tag=0,de&&r&&bd(e),Ke(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Ta(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Qb(i),t=Pt(i,t),s){case 0:e=rh(null,e,i,t,n);break e;case 1:e=jp(null,e,i,t,n);break e;case 11:e=Hp(null,e,i,t,n);break e;case 14:e=Vp(null,e,i,Pt(i.type,t),n);break e}throw Error(k(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Pt(i,s),rh(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Pt(i,s),jp(t,e,i,s,n);case 3:e:{if(l0(e),t===null)throw Error(k(387));i=e.pendingProps,r=e.memoizedState,s=r.element,Ry(t,e),nl(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Cs(Error(k(423)),e),e=Up(t,e,i,n,s);break e}else if(i!==s){s=Cs(Error(k(424)),e),e=Up(t,e,i,n,s);break e}else for(pt=Bn(e.stateNode.containerInfo.firstChild),gt=e,de=!0,Nt=null,n=Ly(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ws(),i===s){e=_n(t,e,n);break e}Ke(t,e,i,n)}e=e.child}return e;case 5:return Fy(e),t===null&&eh(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,Ku(i,s)?o=null:r!==null&&Ku(i,r)&&(e.flags|=32),a0(t,e),Ke(t,e,o,n),e.child;case 6:return t===null&&eh(e),null;case 13:return c0(t,e,n);case 4:return Id(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=bs(e,null,i,n):Ke(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Pt(i,s),Hp(t,e,i,s,n);case 7:return Ke(t,e,e.pendingProps,n),e.child;case 8:return Ke(t,e,e.pendingProps.children,n),e.child;case 12:return Ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,se(el,i._currentValue),i._currentValue=o,r!==null)if(Wt(r.value,o)){if(r.children===s.children&&!rt.current){e=_n(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=dn(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),th(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(k(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),th(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Ke(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,ds(e,n),s=Et(s),i=i(s),e.flags|=1,Ke(t,e,i,n),e.child;case 14:return i=e.type,s=Pt(i,e.pendingProps),s=Pt(i.type,s),Vp(t,e,i,s,n);case 15:return r0(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Pt(i,s),Ta(t,e),e.tag=1,ot(i)?(t=!0,Xa(e)):t=!1,ds(e,n),Oy(e,i,s),ih(e,i,s,n),oh(null,e,i,!0,t,n);case 19:return u0(t,e,n);case 22:return o0(t,e,n)}throw Error(k(156,e.tag))};function k0(t,e){return J_(t,e)}function Kb(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,n,i){return new Kb(t,e,n,i)}function $d(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qb(t){if(typeof t=="function")return $d(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ud)return 11;if(t===hd)return 14}return 2}function jn(t,e){var n=t.alternate;return n===null?(n=St(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Na(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")$d(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ki:return Ci(n.children,s,r,e);case cd:o=8,s|=8;break;case Mu:return t=St(12,n,e,s|2),t.elementType=Mu,t.lanes=r,t;case Tu:return t=St(13,n,e,s),t.elementType=Tu,t.lanes=r,t;case Pu:return t=St(19,n,e,s),t.elementType=Pu,t.lanes=r,t;case A_:return Jl(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D_:o=10;break e;case O_:o=9;break e;case ud:o=11;break e;case hd:o=14;break e;case Cn:o=16,i=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=St(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function Ci(t,e,n,i){return t=St(7,t,i,e),t.lanes=n,t}function Jl(t,e,n,i){return t=St(22,t,i,e),t.elementType=A_,t.lanes=n,t.stateNode={isHidden:!1},t}function Uc(t,e,n){return t=St(6,t,null,e),t.lanes=n,t}function $c(t,e,n){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xb(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ec(0),this.expirationTimes=Ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yd(t,e,n,i,s,r,o,a,l){return t=new Xb(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=St(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pd(r),t}function Jb(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qi,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function M0(t){if(!t)return Jn;t=t._reactInternals;e:{if(Wi(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(ot(n))return ky(t,n,e)}return e}function T0(t,e,n,i,s,r,o,a,l){return t=Yd(n,i,!0,t,s,r,o,a,l),t.context=M0(null),n=t.current,i=Xe(),s=Vn(n),r=dn(i,s),r.callback=e??null,Wn(n,r,s),t.current.lanes=s,bo(t,s,i),at(t,i),t}function Zl(t,e,n,i){var s=e.current,r=Xe(),o=Vn(s);return n=M0(n),e.context===null?e.context=n:e.pendingContext=n,e=dn(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Wn(s,e,o),t!==null&&(Ft(t,s,o,r),Ea(t,s,o)),o}function ul(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function eg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gd(t,e){eg(t,e),(t=t.alternate)&&eg(t,e)}function Zb(){return null}var P0=typeof reportError=="function"?reportError:function(t){console.error(t)};function qd(t){this._internalRoot=t}ec.prototype.render=qd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));Zl(t,e,null,null)};ec.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ri(function(){Zl(null,t,null,null)}),e[gn]=null}};function ec(t){this._internalRoot=t}ec.prototype.unstable_scheduleHydration=function(t){if(t){var e=ry();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kn.length&&e!==0&&e<kn[n].priority;n++);kn.splice(n,0,t),n===0&&ay(t)}};function Kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tg(){}function eS(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=ul(o);r.call(c)}}var o=T0(e,i,t,0,null,!1,!1,"",tg);return t._reactRootContainer=o,t[gn]=o.current,Yr(t.nodeType===8?t.parentNode:t),Ri(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var c=ul(l);a.call(c)}}var l=Yd(t,0,!1,null,null,!1,!1,"",tg);return t._reactRootContainer=l,t[gn]=l.current,Yr(t.nodeType===8?t.parentNode:t),Ri(function(){Zl(e,l,n,i)}),l}function nc(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=ul(o);a.call(l)}}Zl(e,o,t,s)}else o=eS(n,e,t,s,i);return ul(o)}iy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cr(e.pendingLanes);n!==0&&(pd(e,n|1),at(e,be()),!(Y&6)&&(Es=be()+500,oi()))}break;case 13:Ri(function(){var i=mn(t,1);if(i!==null){var s=Xe();Ft(i,t,1,s)}}),Gd(t,1)}};gd=function(t){if(t.tag===13){var e=mn(t,134217728);if(e!==null){var n=Xe();Ft(e,t,134217728,n)}Gd(t,134217728)}};sy=function(t){if(t.tag===13){var e=Vn(t),n=mn(t,e);if(n!==null){var i=Xe();Ft(n,t,e,i)}Gd(t,e)}};ry=function(){return X};oy=function(t,e){var n=X;try{return X=t,e()}finally{X=n}};Bu=function(t,e,n){switch(e){case"input":if(Ru(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Yl(i);if(!s)throw Error(k(90));F_(i),Ru(i,s)}}}break;case"textarea":B_(t,n);break;case"select":e=n.value,e!=null&&ls(t,!!n.multiple,e,!1)}};Y_=Vd;G_=Ri;var tS={usingClientEntryPoint:!1,Events:[Co,Zi,Yl,U_,$_,Vd]},Ks={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nS={bundleType:Ks.bundleType,version:Ks.version,rendererPackageName:Ks.rendererPackageName,rendererConfig:Ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q_(t),t===null?null:t.stateNode},findFiberByHostInstance:Ks.findFiberByHostInstance||Zb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sa.isDisabled&&sa.supportsFiber)try{Vl=sa.inject(nS),Kt=sa}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tS;yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kd(e))throw Error(k(200));return Jb(t,e,null,n)};yt.createRoot=function(t,e){if(!Kd(t))throw Error(k(299));var n=!1,i="",s=P0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yd(t,1,!1,null,null,n,!1,i,s),t[gn]=e.current,Yr(t.nodeType===8?t.parentNode:t),new qd(e)};yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Q_(e),t=t===null?null:t.stateNode,t};yt.flushSync=function(t){return Ri(t)};yt.hydrate=function(t,e,n){if(!tc(e))throw Error(k(200));return nc(null,t,e,!0,n)};yt.hydrateRoot=function(t,e,n){if(!Kd(t))throw Error(k(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=P0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=T0(e,null,t,1,n??null,s,!1,r,o),t[gn]=e.current,Yr(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ec(e)};yt.render=function(t,e,n){if(!tc(e))throw Error(k(200));return nc(null,t,e,!1,n)};yt.unmountComponentAtNode=function(t){if(!tc(t))throw Error(k(40));return t._reactRootContainer?(Ri(function(){nc(null,null,t,!1,function(){t._reactRootContainer=null,t[gn]=null})}),!0):!1};yt.unstable_batchedUpdates=Vd;yt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!tc(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return nc(t,e,n,!1,i)};yt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=yt})(Zx);var ng=Cu;Su.createRoot=ng.createRoot,Su.hydrateRoot=ng.hydrateRoot;/**
 * @remix-run/router v1.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hl.apply(this,arguments)}var In;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(In||(In={}));const ig="popstate";function iS(t){t===void 0&&(t={});function e(s,r){let{pathname:o="/",search:a="",hash:l=""}=Hi(s.location.hash.substr(1));return yh("",{pathname:o,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof r=="string"?r:to(r))}function i(s,r){sS(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(r)+")")}return aS(e,n,i,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rS(){return Math.random().toString(36).substr(2,8)}function sg(t){return{usr:t.state,key:t.key}}function yh(t,e,n,i){return n===void 0&&(n=null),hl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hi(e):e,{state:n,key:e&&e.key||i||rS()})}function to(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Hi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function oS(t){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:window.location.href,n=typeof t=="string"?t:to(t);return Ie(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}function aS(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a=In.Pop,l=null;function c(){a=In.Pop,l&&l({action:a,location:d.location})}function u(f,p){a=In.Push;let g=yh(d.location,f,p);n&&n(g,f);let v=sg(g),_=d.createHref(g);try{o.pushState(v,"",_)}catch{s.location.assign(_)}r&&l&&l({action:a,location:d.location})}function h(f,p){a=In.Replace;let g=yh(d.location,f,p);n&&n(g,f);let v=sg(g),_=d.createHref(g);o.replaceState(v,"",_),r&&l&&l({action:a,location:d.location})}let d={get action(){return a},get location(){return t(s,o)},listen(f){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ig,c),l=f,()=>{s.removeEventListener(ig,c),l=null}},createHref(f){return e(s,f)},encodeLocation(f){let p=oS(typeof f=="string"?f:to(f));return{pathname:p.pathname,search:p.search,hash:p.hash}},push:u,replace:h,go(f){return o.go(f)}};return d}var rg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rg||(rg={}));function lS(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Hi(e):e,s=R0(i.pathname||"/",n);if(s==null)return null;let r=I0(t);cS(r);let o=null;for(let a=0;o==null&&a<r.length;++a)o=yS(r[a],wS(s));return o}function I0(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(Ie(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Un([i,l.relativePath]),u=n.concat(l);r.children&&r.children.length>0&&(Ie(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),I0(r.children,e,u,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:mS(c,r.index),routesMeta:u})};return t.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let l of N0(r.path))s(r,o,l)}),e}function N0(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=N0(i.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_S(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const uS=/^:\w+$/,hS=3,dS=2,fS=1,pS=10,gS=-2,og=t=>t==="*";function mS(t,e){let n=t.split("/"),i=n.length;return n.some(og)&&(i+=gS),e&&(i+=dS),n.filter(s=>!og(s)).reduce((s,r)=>s+(uS.test(r)?hS:r===""?fS:pS),i)}function _S(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function yS(t,e){let{routesMeta:n}=t,i={},s="/",r=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=vS({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let h=a.route;r.push({params:i,pathname:Un([s,u.pathname]),pathnameBase:ES(Un([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=Un([s,u.pathnameBase]))}return r}function vS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=xS(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((c,u,h)=>{if(u==="*"){let d=a[h]||"";o=r.slice(0,r.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=bS(a[h]||"",u),c},{}),pathname:r,pathnameBase:o,pattern:t}}function xS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return t.endsWith("*")?(i.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function wS(t){try{return decodeURI(t)}catch(e){return Qd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bS(t,e){try{return decodeURIComponent(t)}catch(n){return Qd(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function R0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Qd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SS(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Hi(t):t;return{pathname:n?n.startsWith("/")?n:CS(n,e):e,search:kS(i),hash:MS(s)}}function CS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yc(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function O0(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=Hi(t):(s=hl({},t),Ie(!s.pathname||!s.pathname.includes("?"),Yc("?","pathname","search",s)),Ie(!s.pathname||!s.pathname.includes("#"),Yc("#","pathname","hash",s)),Ie(!s.search||!s.search.includes("#"),Yc("#","search","hash",s)));let r=t===""||s.pathname==="",o=r?"/":s.pathname,a;if(i||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;s.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=SS(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Un=t=>t.join("/").replace(/\/\/+/g,"/"),ES=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class TS{constructor(e,n,i,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function PS(t){return t instanceof TS}const IS=["post","put","patch","delete"];[...IS];/**
 * React Router v6.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vh.apply(this,arguments)}function NS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const RS=typeof Object.is=="function"?Object.is:NS,{useState:DS,useEffect:OS,useLayoutEffect:AS,useDebugValue:LS}=bu;function FS(t,e,n){const i=e(),[{inst:s},r]=DS({inst:{value:i,getSnapshot:e}});return AS(()=>{s.value=i,s.getSnapshot=e,Gc(s)&&r({inst:s})},[t,i,e]),OS(()=>(Gc(s)&&r({inst:s}),t(()=>{Gc(s)&&r({inst:s})})),[t]),LS(i),i}function Gc(t){const e=t.getSnapshot,n=t.value;try{const i=e();return!RS(n,i)}catch{return!0}}function zS(t,e,n){return e()}const BS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WS=!BS,HS=WS?zS:FS;"useSyncExternalStore"in bu&&(t=>t.useSyncExternalStore)(bu);const A0=T.createContext(null),L0=T.createContext(null),ic=T.createContext(null),sc=T.createContext(null),Fs=T.createContext({outlet:null,matches:[]}),F0=T.createContext(null);function VS(t,e){let{relative:n}=e===void 0?{}:e;ko()||Ie(!1);let{basename:i,navigator:s}=T.useContext(ic),{hash:r,pathname:o,search:a}=z0(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Un([i,o])),s.createHref({pathname:l,search:a,hash:r})}function ko(){return T.useContext(sc)!=null}function zs(){return ko()||Ie(!1),T.useContext(sc).location}function jS(){ko()||Ie(!1);let{basename:t,navigator:e}=T.useContext(ic),{matches:n}=T.useContext(Fs),{pathname:i}=zs(),s=JSON.stringify(D0(n).map(a=>a.pathnameBase)),r=T.useRef(!1);return T.useEffect(()=>{r.current=!0}),T.useCallback(function(a,l){if(l===void 0&&(l={}),!r.current)return;if(typeof a=="number"){e.go(a);return}let c=O0(a,JSON.parse(s),i,l.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:Un([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[t,e,s,i])}function z0(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=T.useContext(Fs),{pathname:s}=zs(),r=JSON.stringify(D0(i).map(o=>o.pathnameBase));return T.useMemo(()=>O0(t,JSON.parse(r),s,n==="path"),[t,r,s,n])}function US(t,e){ko()||Ie(!1);let{navigator:n}=T.useContext(ic),i=T.useContext(L0),{matches:s}=T.useContext(Fs),r=s[s.length-1],o=r?r.params:{};r&&r.pathname;let a=r?r.pathnameBase:"/";r&&r.route;let l=zs(),c;if(e){var u;let g=typeof e=="string"?Hi(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||Ie(!1),c=g}else c=l;let h=c.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",f=lS(t,{pathname:d}),p=qS(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Un([a,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Un([a,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,i||void 0);return e&&p?T.createElement(sc.Provider,{value:{location:vh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:In.Pop}},p):p}function $S(){let t=JS(),e=PS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unhandled Thrown Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:r},"errorElement")," props on ",T.createElement("code",{style:r},"<Route>")))}class YS extends T.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?T.createElement(Fs.Provider,{value:this.props.routeContext},T.createElement(F0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GS(t){let{routeContext:e,match:n,children:i}=t,s=T.useContext(A0);return s&&s.static&&s.staticContext&&n.route.errorElement&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Fs.Provider,{value:e},i)}function qS(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let i=t,s=n==null?void 0:n.errors;if(s!=null){let r=i.findIndex(o=>o.route.id&&(s==null?void 0:s[o.route.id]));r>=0||Ie(!1),i=i.slice(0,Math.min(i.length,r+1))}return i.reduceRight((r,o,a)=>{let l=o.route.id?s==null?void 0:s[o.route.id]:null,c=n?o.route.errorElement||T.createElement($S,null):null,u=e.concat(i.slice(0,a+1)),h=()=>T.createElement(GS,{match:o,routeContext:{outlet:r,matches:u}},l?c:o.route.element!==void 0?o.route.element:r);return n&&(o.route.errorElement||a===0)?T.createElement(YS,{location:n.location,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u}}):h()},null)}var ag;(function(t){t.UseRevalidator="useRevalidator"})(ag||(ag={}));var dl;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(dl||(dl={}));function KS(t){let e=T.useContext(L0);return e||Ie(!1),e}function QS(t){let e=T.useContext(Fs);return e||Ie(!1),e}function XS(t){let e=QS(),n=e.matches[e.matches.length-1];return n.route.id||Ie(!1),n.route.id}function JS(){var t;let e=T.useContext(F0),n=KS(dl.UseRouteError),i=XS(dl.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function hr(t){Ie(!1)}function ZS(t){let{basename:e="/",children:n=null,location:i,navigationType:s=In.Pop,navigator:r,static:o=!1}=t;ko()&&Ie(!1);let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:r,static:o}),[a,r,o]);typeof i=="string"&&(i=Hi(i));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:f="default"}=i,p=T.useMemo(()=>{let g=R0(c,a);return g==null?null:{pathname:g,search:u,hash:h,state:d,key:f}},[a,c,u,h,d,f]);return p==null?null:T.createElement(ic.Provider,{value:l},T.createElement(sc.Provider,{children:n,value:{location:p,navigationType:s}}))}function eC(t){let{children:e,location:n}=t,i=T.useContext(A0),s=i&&!e?i.router.routes:xh(e);return US(s,n)}var lg;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(lg||(lg={}));new Promise(()=>{});function xh(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(i,s)=>{if(!T.isValidElement(i))return;if(i.type===T.Fragment){n.push.apply(n,xh(i.props.children,e));return}i.type!==hr&&Ie(!1),!i.props.index||!i.props.children||Ie(!1);let r=[...e,s],o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(o.children=xh(i.props.children,r)),n.push(o)}),n}/**
 * React Router DOM v6.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wh.apply(this,arguments)}function tC(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function nC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iC(t,e){return t.button===0&&(!e||e==="_self")&&!nC(t)}const sC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function rC(t){let{basename:e,children:n,window:i}=t,s=T.useRef();s.current==null&&(s.current=iS({window:i,v5Compat:!0}));let r=s.current,[o,a]=T.useState({action:r.action,location:r.location});return T.useLayoutEffect(()=>r.listen(a),[r]),T.createElement(ZS,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:r})}const oC=T.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:r,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,h=tC(e,sC),d=VS(c,{relative:s}),f=aC(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s});function p(g){i&&i(g),g.defaultPrevented||f(g)}return T.createElement("a",wh({},h,{href:d,onClick:r?i:p,ref:n,target:l}))});var cg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(cg||(cg={}));var ug;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ug||(ug={}));function aC(t,e){let{target:n,replace:i,state:s,preventScrollReset:r,relative:o}=e===void 0?{}:e,a=jS(),l=zs(),c=z0(t,{relative:o});return T.useCallback(u=>{if(iC(u,n)){u.preventDefault();let h=i!==void 0?i:to(l)===to(c);a(t,{replace:h,state:s,preventScrollReset:r,relative:o})}},[l,a,c,i,s,n,t,r,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(t,e){if(!t)throw Bs(e)},Bs=function(t){return new Error("Firebase Database ("+B0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},lC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Xd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(W0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||c==null||h==null)throw Error();const d=r<<2|a>>4;if(i.push(d),c!==64){const f=a<<4&240|c>>2;if(i.push(f),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},H0=function(t){const e=W0(t);return Xd.encodeByteArray(e,!0)},fl=function(t){return H0(t).replace(/\./g,"")},bh=function(t){try{return Xd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){return V0(void 0,t)}function V0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!uC(n)||(t[n]=V0(t[n],e[n]));return t}function uC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hC())}function dC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U0(){return B0.NODE_ADMIN===!0}function fC(){try{return typeof indexedDB=="object"}catch{return!1}}function pC(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}function gC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=()=>gC().__FIREBASE_DEFAULTS__,_C=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bh(t[1]);return e&&JSON.parse(e)},$0=()=>{try{return mC()||_C()||yC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vC=t=>{var e,n;return(n=(e=$0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xC=t=>{const e=vC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},wC=()=>{var t;return(t=$0())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[fl(JSON.stringify(n)),fl(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="FirebaseError";class Mo extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=SC,Object.setPrototypeOf(this,Mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y0.prototype.create)}}class Y0{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?CC(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Mo(s,a,i)}}function CC(t,e){return t.replace(EC,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const EC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){return JSON.parse(t)}function ke(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=no(bh(r[0])||""),n=no(bh(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},kC=function(t){const e=G0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},MC=function(t){const e=G0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ks(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function hg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pl(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function Sh(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(dg(r)&&dg(o)){if(!Sh(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function dg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)i[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):h<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const d=(s<<5|s>>>27)+c+l+u+i[h]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function q0(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,M(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},rc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Jd;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DC(e))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gi){return this.instances.has(e)}getOptions(e=gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:RC(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=gi){return this.component?this.component.multipleInstances?e:gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RC(t){return t===gi?void 0:t}function DC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const AC={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},LC=ne.INFO,FC={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},zC=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=FC[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K0{constructor(e){this.name=e,this._logLevel=LC,this._logHandler=zC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const BC=(t,e)=>e.some(n=>t instanceof n);let fg,pg;function WC(){return fg||(fg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HC(){return pg||(pg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q0=new WeakMap,Ch=new WeakMap,X0=new WeakMap,qc=new WeakMap,Zd=new WeakMap;function VC(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n($n(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Q0.set(n,t)}).catch(()=>{}),Zd.set(e,t),e}function jC(t){if(Ch.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Ch.set(t,e)}let Eh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ch.get(t);if(e==="objectStoreNames")return t.objectStoreNames||X0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UC(t){Eh=t(Eh)}function $C(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Kc(this),e,...n);return X0.set(i,e.sort?e.sort():[e]),$n(i)}:HC().includes(t)?function(...e){return t.apply(Kc(this),e),$n(Q0.get(this))}:function(...e){return $n(t.apply(Kc(this),e))}}function YC(t){return typeof t=="function"?$C(t):(t instanceof IDBTransaction&&jC(t),BC(t,WC())?new Proxy(t,Eh):t)}function $n(t){if(t instanceof IDBRequest)return VC(t);if(qc.has(t))return qc.get(t);const e=YC(t);return e!==t&&(qc.set(t,e),Zd.set(e,t)),e}const Kc=t=>Zd.get(t);function GC(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=$n(o);return i&&o.addEventListener("upgradeneeded",l=>{i($n(o.result),l.oldVersion,l.newVersion,$n(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const qC=["get","getKey","getAll","getAllKeys","count"],KC=["put","add","delete","clear"],Qc=new Map;function gg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qc.get(e))return Qc.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=KC.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||qC.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Qc.set(e,r),r}UC(t=>({...t,get:(e,n,i)=>gg(e,n)||t.get(e,n,i),has:(e,n)=>!!gg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XC(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function XC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kh="@firebase/app",mg="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new K0("@firebase/app"),JC="@firebase/app-compat",ZC="@firebase/analytics-compat",eE="@firebase/analytics",tE="@firebase/app-check-compat",nE="@firebase/app-check",iE="@firebase/auth",sE="@firebase/auth-compat",rE="@firebase/database",oE="@firebase/database-compat",aE="@firebase/functions",lE="@firebase/functions-compat",cE="@firebase/installations",uE="@firebase/installations-compat",hE="@firebase/messaging",dE="@firebase/messaging-compat",fE="@firebase/performance",pE="@firebase/performance-compat",gE="@firebase/remote-config",mE="@firebase/remote-config-compat",_E="@firebase/storage",yE="@firebase/storage-compat",vE="@firebase/firestore",xE="@firebase/firestore-compat",wE="firebase",bE="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="[DEFAULT]",SE={[kh]:"fire-core",[JC]:"fire-core-compat",[eE]:"fire-analytics",[ZC]:"fire-analytics-compat",[nE]:"fire-app-check",[tE]:"fire-app-check-compat",[iE]:"fire-auth",[sE]:"fire-auth-compat",[rE]:"fire-rtdb",[oE]:"fire-rtdb-compat",[aE]:"fire-fn",[lE]:"fire-fn-compat",[cE]:"fire-iid",[uE]:"fire-iid-compat",[hE]:"fire-fcm",[dE]:"fire-fcm-compat",[fE]:"fire-perf",[pE]:"fire-perf-compat",[gE]:"fire-rc",[mE]:"fire-rc-compat",[_E]:"fire-gcs",[yE]:"fire-gcs-compat",[vE]:"fire-fst",[xE]:"fire-fst-compat","fire-js":"fire-js",[wE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new Map,Th=new Map;function CE(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ml(t){const e=t.name;if(Th.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Th.set(e,t);for(const n of gl.values())CE(n,t);return!0}function EE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yn=new Y0("app","Firebase",kE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=bE;function J0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Mh,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Yn.create("bad-app-name",{appName:String(s)});if(n||(n=wC()),!n)throw Yn.create("no-options");const r=gl.get(s);if(r){if(Sh(n,r.options)&&Sh(i,r.config))return r;throw Yn.create("duplicate-app",{appName:s})}const o=new OC(s);for(const l of Th.values())o.addComponent(l);const a=new ME(n,i,o);return gl.set(s,a),a}function PE(t=Mh){const e=gl.get(t);if(!e&&t===Mh)return J0();if(!e)throw Yn.create("no-app",{appName:t});return e}function ps(t,e,n){var i;let s=(i=SE[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(a.join(" "));return}ml(new io(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="firebase-heartbeat-database",NE=1,so="firebase-heartbeat-store";let Xc=null;function Z0(){return Xc||(Xc=GC(IE,NE,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(so)}}}).catch(t=>{throw Yn.create("idb-open",{originalErrorMessage:t.message})})),Xc}async function RE(t){try{return(await Z0()).transaction(so).objectStore(so).get(ev(t))}catch(e){if(e instanceof Mo)Di.warn(e.message);else{const n=Yn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(n.message)}}}async function _g(t,e){try{const i=(await Z0()).transaction(so,"readwrite");return await i.objectStore(so).put(e,ev(t)),i.done}catch(n){if(n instanceof Mo)Di.warn(n.message);else{const i=Yn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Di.warn(i.message)}}}function ev(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=1024,OE=30*24*60*60*1e3;class AE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FE(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=OE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yg(),{heartbeatsToSend:n,unsentEntries:i}=LE(this._heartbeatsCache.heartbeats),s=fl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function yg(){return new Date().toISOString().substring(0,10)}function LE(t,e=DE){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),vg(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),vg(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class FE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fC()?pC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await RE(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _g(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _g(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vg(t){return fl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t){ml(new io("platform-logger",e=>new QC(e),"PRIVATE")),ml(new io("heartbeat",e=>new AE(e),"PRIVATE")),ps(kh,mg,t),ps(kh,mg,"esm2017"),ps("fire-js","")}zE("");var BE="firebase",WE="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(BE,WE,"app");const xg="@firebase/database",wg="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tv="";function HE(t){tv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ke(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:no(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return xn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new VE(e)}}catch{}return new jE},bi=nv("localStorage"),Ph=nv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new K0("@firebase/database"),UE=function(){let t=1;return function(){return t++}}(),iv=function(t){const e=IC(t),n=new PC;n.update(e);const i=n.digest();return Xd.encodeByteArray(i)},Po=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Po.apply(null,i):typeof i=="object"?e+=ke(i):e+=i,e+=" "}return e};let Ei=null,bg=!0;const $E=function(t,e){M(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(gs.logLevel=ne.VERBOSE,Ei=gs.log.bind(gs),e&&Ph.set("logging_enabled",!0)):typeof t=="function"?Ei=t:(Ei=null,Ph.remove("logging_enabled"))},$e=function(...t){if(bg===!0&&(bg=!1,Ei===null&&Ph.get("logging_enabled")===!0&&$E(!0)),Ei){const e=Po.apply(null,t);Ei(e)}},Io=function(t){return function(...e){$e(t,...e)}},Ih=function(...t){const e="FIREBASE INTERNAL ERROR: "+Po(...t);gs.error(e)},yn=function(...t){const e=`FIREBASE FATAL ERROR: ${Po(...t)}`;throw gs.error(e),new Error(e)},mt=function(...t){const e="FIREBASE WARNING: "+Po(...t);gs.warn(e)},YE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},GE=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ms="[MIN_NAME]",Oi="[MAX_NAME]",Ws=function(t,e){if(t===e)return 0;if(t===Ms||e===Oi)return-1;if(e===Ms||t===Oi)return 1;{const n=Sg(t),i=Sg(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},qE=function(t,e){return t===e?0:t<e?-1:1},Qs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ke(e))},ef=function(t){if(typeof t!="object"||t===null)return ke(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=ke(e[i]),n+=":",n+=ef(t[e[i]]);return n+="}",n},rv=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function lt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ov=function(t){M(!sv(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,a,l;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let d=parseInt(u.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},KE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},QE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function XE(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const JE=new RegExp("^-?(0*)\\d{1,10}$"),ZE=-2147483648,ek=2147483647,Sg=function(t){if(JE.test(t)){const e=Number(t);if(e>=ZE&&e<=ek)return e}return null},No=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw mt("Exception was thrown by user callback.",n),e},Math.floor(0))}},tk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},kr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?($e("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(e)}}class ms{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ms.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="5",av="v",lv="s",cv="r",uv="f",hv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dv="ls",fv="p",Nh="ac",pv="websocket",gv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,i,s,r=!1,o="",a=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&bi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function sk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function _v(t,e,n){M(typeof e=="string","typeof type must == string"),M(typeof n=="object","typeof params must == object");let i;if(e===pv)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===gv)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);sk(t)&&(n.ns=t.namespace);const s=[];return lt(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.counters_={}}incrementCounter(e,n=1){xn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return cC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc={},Zc={};function nf(t){const e=t.toString();return Jc[e]||(Jc[e]=new rk),Jc[e]}function ok(t,e){const n=t.toString();return Zc[n]||(Zc[n]=e()),Zc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&No(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="start",lk="close",ck="pLPCommand",uk="pRTLPCB",yv="id",vv="pw",xv="ser",hk="cb",dk="seg",fk="ts",pk="d",gk="dframe",wv=1870,bv=30,mk=wv-bv,_k=25e3,yk=3e4;class os{constructor(e,n,i,s,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Io(e),this.stats_=nf(n),this.urlFn=l=>(this.appCheckToken&&(l[Nh]=this.appCheckToken),_v(n,gv,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ak(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yk)),GE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new sf((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Cg)this.id=a,this.password=l;else if(o===lk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[Cg]="t",i[xv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[hk]=this.scriptTagHolder.uniqueCallbackIdentifier),i[av]=tf,this.transportSessionId&&(i[lv]=this.transportSessionId),this.lastSessionId&&(i[dv]=this.lastSessionId),this.applicationId&&(i[fv]=this.applicationId),this.appCheckToken&&(i[Nh]=this.appCheckToken),typeof location<"u"&&location.hostname&&hv.test(location.hostname)&&(i[cv]=uv);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){os.forceAllow_=!0}static forceDisallow(){os.forceDisallow_=!0}static isAvailable(){return os.forceAllow_?!0:!os.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!KE()&&!QE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=H0(n),s=rv(i,mk);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[gk]="t",i[yv]=e,i[vv]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class sf{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=UE(),window[ck+this.uniqueCallbackIdentifier]=e,window[uk+this.uniqueCallbackIdentifier]=n,this.myIFrame=sf.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){$e("frame writing exception"),a.stack&&$e(a.stack),$e(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||$e("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[yv]=this.myID,e[vv]=this.myPW,e[xv]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+bv+i.length<=wv;){const o=this.pendingSegs.shift();i=i+"&"+dk+s+"="+o.seg+"&"+fk+s+"="+o.ts+"&"+pk+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(_k)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{$e("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=16384,xk=45e3;let _l=null;typeof MozWebSocket<"u"?_l=MozWebSocket:typeof WebSocket<"u"&&(_l=WebSocket);class Rt{constructor(e,n,i,s,r,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Io(this.connId),this.stats_=nf(n),this.connURL=Rt.connectionURL_(n,o,a,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[av]=tf,typeof location<"u"&&location.hostname&&hv.test(location.hostname)&&(o[cv]=uv),n&&(o[lv]=n),i&&(o[dv]=i),s&&(o[Nh]=s),r&&(o[fv]=r),_v(e,pv,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bi.set("previous_websocket_failure",!0);try{let i;U0(),this.mySock=new _l(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Rt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&_l!==null&&!Rt.forceDisallow_}static previouslyFailed(){return bi.isInMemoryStorage||bi.get("previous_websocket_failure")===!0}markConnectionHealthy(){bi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=no(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(M(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=rv(n,vk);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xk))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Rt.responsesRequiredToBeHealthy=2;Rt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[os,Rt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Rt&&Rt.isAvailable();let i=n&&!Rt.previouslyFailed();if(e.webSocketOnly&&(n||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Rt];else{const s=this.transports_=[];for(const r of ro.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);ro.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ro.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=6e4,bk=5e3,Sk=10*1024,Ck=100*1024,eu="t",Eg="d",Ek="s",kg="r",kk="e",Mg="o",Tg="a",Pg="n",Ig="p",Mk="h";class Tk{constructor(e,n,i,s,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Io("c:"+this.id+":"),this.transportManager_=new ro(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=kr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ck?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Sk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(eu in e){const n=e[eu];n===Tg?this.upgradeIfSecondaryHealthy_():n===kg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Mg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qs("t",e),i=Qs("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ig,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Tg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Pg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qs("t",e),i=Qs("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qs(eu,e);if(Eg in e){const i=e[Eg];if(n===Mk)this.onHandshake_(i);else if(n===Pg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Ek?this.onConnectionShutdown_(i):n===kg?this.onReset_(i):n===kk?Ih("Server Error: "+i):n===Mg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ih("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),tf!==i&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),kr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(wk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(bk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ig,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this.allowedEvents_=e,this.listeners_={},M(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){M(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends Cv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!j0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new yl}getInitialEvent(e){return M(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=32,Rg=768;class Z{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function q(){return new Z("")}function V(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zn(t){return t.pieces_.length-t.pieceNum_}function ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Z(t.pieces_,e)}function Ev(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Pk(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function kv(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Mv(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Z(e,0)}function Me(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Z)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Z(n,0)}function j(t){return t.pieceNum_>=t.pieces_.length}function Qe(t,e){const n=V(t),i=V(e);if(n===null)return e;if(n===i)return Qe(ie(t),ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function rf(t,e){if(Zn(t)!==Zn(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Dt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Zn(t)>Zn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class Ik{constructor(e,n){this.errorPrefix_=n,this.parts_=kv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=rc(this.parts_[i]);Tv(this)}}function Nk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=rc(e),Tv(t)}function Rk(t){const e=t.parts_.pop();t.byteLength_-=rc(e),t.parts_.length>0&&(t.byteLength_-=1)}function Tv(t){if(t.byteLength_>Rg)throw new Error(t.errorPrefix_+"has a key path longer than "+Rg+" bytes ("+t.byteLength_+").");if(t.parts_.length>Ng)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ng+") or object contains a cycle "+mi(t))}function mi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends Cv{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new of}getInitialEvent(e){return M(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=1e3,Dk=60*5*1e3,Dg=30*1e3,Ok=1.3,Ak=3e4,Lk="server_kill",Og=3;class fn extends Sv{constructor(e,n,i,s,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=fn.nextPersistentConnectionId_++,this.log_=Io("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xs,this.maxReconnectDelay_=Dk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!U0())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");of.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&yl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(ke(r)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Jd,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;fn.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&xn(e,"w")){const i=ks(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||MC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Dg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=kC(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ke(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ih("Unrecognized action received from server: "+ke(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ak&&(this.reconnectDelay_=Xs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ok)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+fn.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(h){M(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?$e("getToken() completed but was canceled"):($e("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,a=new Tk(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{mt(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(Lk)},r))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&mt(h),l())}}}interrupt(e){$e("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){$e("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hg(this.interruptReasons_)&&(this.reconnectDelay_=Xs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>ef(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Z(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){$e("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Og&&(this.reconnectDelay_=Dg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){$e("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Og&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+tv.replace(/\./g,"-")]=1,j0()?e["framework.cordova"]=1:dC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yl.getInstance().currentlyOnline();return hg(this.interruptReasons_)&&e}}fn.nextPersistentConnectionId_=0;fn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new W(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new W(Ms,e),s=new W(Ms,n);return this.compare(i,s)!==0}minPost(){return W.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra;class Pv extends oc{static get __EMPTY_NODE(){return ra}static set __EMPTY_NODE(e){ra=e}compare(e,n){return Ws(e.name,n.name)}isDefinedOn(e){throw Bs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return W.MIN}maxPost(){return new W(Oi,ra)}makePost(e,n){return M(typeof e=="string","KeyIndex indexValue must always be a string."),new W(e,ra)}toString(){return".key"}}const _s=new Pv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class De{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??De.RED,this.left=s??st.EMPTY_NODE,this.right=r??st.EMPTY_NODE}copy(e,n,i,s,r){return new De(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return st.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return st.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,De.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,De.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}De.RED=!0;De.BLACK=!1;class Fk{copy(e,n,i,s,r){return this}insert(e,n,i){return new De(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class st{constructor(e,n=st.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new st(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,De.BLACK,null,null))}remove(e){return new st(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,De.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new oa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new oa(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new oa(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new oa(this.root_,null,this.comparator_,!0,e)}}st.EMPTY_NODE=new Fk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t,e){return Ws(t.name,e.name)}function af(t,e){return Ws(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh;function Bk(t){Rh=t}const Iv=function(t){return typeof t=="number"?"number:"+ov(t):"string:"+t},Nv=function(t){if(t.isLeafNode()){const e=t.val();M(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xn(e,".sv"),"Priority must be a string or number.")}else M(t===Rh||t.isEmpty(),"priority of unexpected type.");M(t===Rh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ag;class Ne{constructor(e,n=Ne.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Nv(this.priorityNode_)}static set __childrenNodeConstructor(e){Ag=e}static get __childrenNodeConstructor(){return Ag}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ne(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ne.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return j(e)?this:V(e)===".priority"?this.priorityNode_:Ne.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ne.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=V(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(M(i!==".priority"||Zn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ne.__childrenNodeConstructor.EMPTY_NODE.updateChild(ie(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Iv(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ov(this.value_):e+=this.value_,this.lazyHash_=iv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ne.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ne.__childrenNodeConstructor?-1:(M(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Ne.VALUE_TYPE_ORDER.indexOf(n),r=Ne.VALUE_TYPE_ORDER.indexOf(i);return M(s>=0,"Unknown leaf type: "+n),M(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ne.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rv,Dv;function Wk(t){Rv=t}function Hk(t){Dv=t}class Vk extends oc{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Ws(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return W.MIN}maxPost(){return new W(Oi,new Ne("[PRIORITY-POST]",Dv))}makePost(e,n){const i=Rv(e);return new W(n,new Ne("[PRIORITY-POST]",i))}toString(){return".priority"}}const ve=new Vk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=Math.log(2);class Uk{constructor(e){const n=r=>parseInt(Math.log(r)/jk,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vl=function(t,e,n,i){t.sort(e);const s=function(l,c){const u=c-l;let h,d;if(u===0)return null;if(u===1)return h=t[l],d=n?n(h):h,new De(d,h.node,De.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=s(l,f),g=s(f+1,c);return h=t[f],d=n?n(h):h,new De(d,h.node,De.BLACK,p,g)}},r=function(l){let c=null,u=null,h=t.length;const d=function(p,g){const v=h-p,_=h;h-=p;const m=s(v+1,_),y=t[v],x=n?n(y):y;f(new De(x,y.node,g,null,m))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),v=Math.pow(2,l.count-(p+1));g?d(v,De.BLACK):(d(v,De.BLACK),d(v,De.RED))}return u},o=new Uk(t.length),a=r(o);return new st(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu;const $i={};class cn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return M($i&&ve,"ChildrenNode.ts has not been loaded"),tu=tu||new cn({".priority":$i},{".priority":ve}),tu}get(e){const n=ks(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof st?n:null}hasIndex(e){return xn(this.indexSet_,e.toString())}addIndex(e,n){M(e!==_s,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(W.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let a;s?a=vl(i,e.getCompare()):a=$i;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new cn(u,c)}addToIndexes(e,n){const i=pl(this.indexes_,(s,r)=>{const o=ks(this.indexSet_,r);if(M(o,"Missing index implementation for "+r),s===$i)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(W.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),vl(a,o.getCompare())}else return $i;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new W(e.name,a))),l.insert(e,e.node)}});return new cn(i,this.indexSet_)}removeFromIndexes(e,n){const i=pl(this.indexes_,s=>{if(s===$i)return s;{const r=n.get(e.name);return r?s.remove(new W(e.name,r)):s}});return new cn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js;class F{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Nv(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Js||(Js=new F(new st(af),null,cn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Js}updatePriority(e){return this.children_.isEmpty()?this:new F(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Js:n}}getChild(e){const n=V(e);return n===null?this:this.getImmediateChild(n).getChild(ie(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(M(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new W(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?Js:this.priorityNode_;return new F(s,o,r)}}updateChild(e,n){const i=V(e);if(i===null)return n;{M(V(e)!==".priority"||Zn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(ie(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(ve,(o,a)=>{n[o]=a.val(e),i++,r&&F.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Iv(this.getPriority().val())+":"),this.forEachChild(ve,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":iv(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new W(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new W(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new W(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,W.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,W.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ro?-1:0}withIndex(e){if(e===_s||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new F(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===_s||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ve),s=n.getIterator(ve);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===_s?null:this.indexMap_.get(e.toString())}}F.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class $k extends F{constructor(){super(new st(af),F.EMPTY_NODE,cn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return F.EMPTY_NODE}isEmpty(){return!1}}const Ro=new $k;Object.defineProperties(W,{MIN:{value:new W(Ms,F.EMPTY_NODE)},MAX:{value:new W(Oi,Ro)}});Pv.__EMPTY_NODE=F.EMPTY_NODE;Ne.__childrenNodeConstructor=F;Bk(Ro);Hk(Ro);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=!0;function Fe(t,e=null){if(t===null)return F.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),M(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ne(n,Fe(e))}if(!(t instanceof Array)&&Yk){const n=[];let i=!1;if(lt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Fe(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new W(o,l)))}}),n.length===0)return F.EMPTY_NODE;const r=vl(n,zk,o=>o.name,af);if(i){const o=vl(n,ve.getCompare());return new F(r,Fe(e),new cn({".priority":o},{".priority":ve}))}else return new F(r,Fe(e),cn.Default)}else{let n=F.EMPTY_NODE;return lt(t,(i,s)=>{if(xn(t,i)&&i.substring(0,1)!=="."){const r=Fe(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(Fe(e))}}Wk(Fe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk extends oc{constructor(e){super(),this.indexPath_=e,M(!j(e)&&V(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Ws(e.name,n.name):r}makePost(e,n){const i=Fe(e),s=F.EMPTY_NODE.updateChild(this.indexPath_,i);return new W(n,s)}maxPost(){const e=F.EMPTY_NODE.updateChild(this.indexPath_,Ro);return new W(Oi,e)}toString(){return kv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk extends oc{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Ws(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return W.MIN}maxPost(){return W.MAX}makePost(e,n){const i=Fe(e);return new W(n,i)}toString(){return".value"}}const Kk=new qk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t){return{type:"value",snapshotNode:t}}function Ts(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function oo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ao(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Qk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){M(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(i.getChild(s))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(oo(n,a)):M(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ts(n,i)):o.trackChildChange(ao(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(ve,(s,r)=>{n.hasChild(s)||i.trackChildChange(oo(s,r))}),n.isLeafNode()||n.forEachChild(ve,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(ao(s,r,o))}else i.trackChildChange(Ts(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?F.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.indexedFilter_=new lf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=lo.getStartPost_(e),this.endPost_=lo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new W(n,i))||(i=F.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=F.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(F.EMPTY_NODE);const r=this;return n.forEachChild(ve,(o,a)=>{r.matches(new W(o,a))||(s=s.updateImmediateChild(o,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new lo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new W(n,i))||(i=F.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=F.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=F.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(F.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,F.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,f)=>h(f,d)}else o=this.index_.getCompare();const a=e;M(a.numChildren()===this.limit_,"");const l=new W(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let d=s.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=s.getChildAfterChild(this.index_,d,this.reverse_);const f=d==null?1:o(d,l);if(u&&!i.isEmpty()&&f>=0)return r!=null&&r.trackChildChange(ao(n,i,h)),a.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(oo(n,h));const g=a.updateImmediateChild(n,F.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(r!=null&&r.trackChildChange(Ts(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}}else return i.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(oo(c.name,c.node)),r.trackChildChange(Ts(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,F.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ms}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Oi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ve}copy(){const e=new cf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Jk(t){return t.loadsAllData()?new lf(t.getIndex()):t.hasLimit()?new Xk(t):new lo(t)}function Lg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ve?n="$priority":t.index_===Kk?n="$value":t.index_===_s?n="$key":(M(t.index_ instanceof Gk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ke(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=ke(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+ke(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=ke(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Fg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ve&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends Sv{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Io("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(M(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=xl.getListenId_(e,i),a={};this.listens_[o]=a;const l=Lg(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(r,h,!1,i),ks(this.listens_,o)===a){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",s(d,null)}})}unlisten(e,n){const i=xl.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Lg(e._queryParams),i=e._path.toString(),s=new Jd;return this.restRequest_(i+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+TC(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=no(a.responseText)}catch{mt("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&mt("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.rootNode_=F.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(){return{value:null,children:new Map}}function Av(t,e,n){if(j(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=V(e);t.children.has(i)||t.children.set(i,wl());const s=t.children.get(i);e=ie(e),Av(s,e,n)}}function Dh(t,e,n){t.value!==null?n(e,t.value):eM(t,(i,s)=>{const r=new Z(e.toString()+"/"+i);Dh(s,r,n)})}function eM(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&lt(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=10*1e3,nM=30*1e3,iM=5*60*1e3;class sM{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new tM(e);const i=zg+(nM-zg)*Math.random();kr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;lt(e,(s,r)=>{r>0&&xn(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),kr(this.reportStats_.bind(this),Math.floor(Math.random()*2*iM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ot||(Ot={}));function Lv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function uf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Ot.ACK_USER_WRITE,this.source=Lv()}operationForChild(e){if(j(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Z(e));return new bl(q(),n,this.revert)}}else return M(V(this.path)===e,"operationForChild called for unrelated child."),new bl(ie(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.source=e,this.path=n,this.type=Ot.LISTEN_COMPLETE}operationForChild(e){return j(this.path)?new co(this.source,q()):new co(this.source,ie(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Ot.OVERWRITE}operationForChild(e){return j(this.path)?new Ai(this.source,q(),this.snap.getImmediateChild(e)):new Ai(this.source,ie(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Ot.MERGE}operationForChild(e){if(j(this.path)){const n=this.children.subtree(new Z(e));return n.isEmpty()?null:n.value?new Ai(this.source,q(),n.value):new uo(this.source,q(),n)}else return M(V(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new uo(this.source,ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(j(e))return this.isFullyInitialized()&&!this.filtered_;const n=V(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function oM(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(Qk(o.childName,o.snapshotNode))}),Zs(t,s,"child_removed",e,i,n),Zs(t,s,"child_added",e,i,n),Zs(t,s,"child_moved",r,i,n),Zs(t,s,"child_changed",e,i,n),Zs(t,s,"value",e,i,n),s}function Zs(t,e,n,i,s,r){const o=i.filter(a=>a.type===n);o.sort((a,l)=>lM(t,a,l)),o.forEach(a=>{const l=aM(t,a,r);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function aM(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function lM(t,e,n){if(e.childName==null||n.childName==null)throw Bs("Should only compare child_ events.");const i=new W(e.childName,e.snapshotNode),s=new W(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t,e){return{eventCache:t,serverCache:e}}function Mr(t,e,n,i){return ac(new ei(e,n,i),t.serverCache)}function Fv(t,e,n,i){return ac(t.eventCache,new ei(e,n,i))}function Sl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Li(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu;const cM=()=>(nu||(nu=new st(qE)),nu);class le{constructor(e,n=cM()){this.value=e,this.children=n}static fromObject(e){let n=new le(null);return lt(e,(i,s)=>{n=n.set(new Z(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:q(),value:this.value};if(j(e))return null;{const i=V(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(ie(e),n);return r!=null?{path:Me(new Z(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(j(e))return this;{const n=V(e),i=this.children.get(n);return i!==null?i.subtree(ie(e)):new le(null)}}set(e,n){if(j(e))return new le(n,this.children);{const i=V(e),r=(this.children.get(i)||new le(null)).set(ie(e),n),o=this.children.insert(i,r);return new le(this.value,o)}}remove(e){if(j(e))return this.children.isEmpty()?new le(null):new le(null,this.children);{const n=V(e),i=this.children.get(n);if(i){const s=i.remove(ie(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new le(null):new le(this.value,r)}else return this}}get(e){if(j(e))return this.value;{const n=V(e),i=this.children.get(n);return i?i.get(ie(e)):null}}setTree(e,n){if(j(e))return n;{const i=V(e),r=(this.children.get(i)||new le(null)).setTree(ie(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new le(this.value,o)}}fold(e){return this.fold_(q(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(Me(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,q(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(j(e))return null;{const r=V(e),o=this.children.get(r);return o?o.findOnPath_(ie(e),Me(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,q(),n)}foreachOnPath_(e,n,i){if(j(e))return this;{this.value&&i(n,this.value);const s=V(e),r=this.children.get(s);return r?r.foreachOnPath_(ie(e),Me(n,s),i):new le(null)}}foreach(e){this.foreach_(q(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Me(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.writeTree_=e}static empty(){return new zt(new le(null))}}function Tr(t,e,n){if(j(e))return new zt(new le(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=Qe(s,e);return r=r.updateChild(o,n),new zt(t.writeTree_.set(s,r))}else{const s=new le(n),r=t.writeTree_.setTree(e,s);return new zt(r)}}}function Bg(t,e,n){let i=t;return lt(n,(s,r)=>{i=Tr(i,Me(e,s),r)}),i}function Wg(t,e){if(j(e))return zt.empty();{const n=t.writeTree_.setTree(e,new le(null));return new zt(n)}}function Oh(t,e){return Vi(t,e)!=null}function Vi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Qe(n.path,e)):null}function Hg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ve,(i,s)=>{e.push(new W(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new W(i,s.value))}),e}function Gn(t,e){if(j(e))return t;{const n=Vi(t,e);return n!=null?new zt(new le(n)):new zt(t.writeTree_.subtree(e))}}function Ah(t){return t.writeTree_.isEmpty()}function Ps(t,e){return zv(q(),t.writeTree_,e)}function zv(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(M(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=zv(Me(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Me(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t,e){return Vv(e,t)}function uM(t,e,n,i,s){M(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Tr(t.visibleWrites,e,n)),t.lastWriteId=i}function hM(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function dM(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);M(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&fM(a,i.path)?s=!1:Dt(i.path,a.path)&&(r=!0)),o--}if(s){if(r)return pM(t),!0;if(i.snap)t.visibleWrites=Wg(t.visibleWrites,i.path);else{const a=i.children;lt(a,l=>{t.visibleWrites=Wg(t.visibleWrites,Me(i.path,l))})}return!0}else return!1}function fM(t,e){if(t.snap)return Dt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Dt(Me(t.path,n),e))return!0;return!1}function pM(t){t.visibleWrites=Bv(t.allWrites,gM,q()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function gM(t){return t.visible}function Bv(t,e,n){let i=zt.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let a;if(r.snap)Dt(n,o)?(a=Qe(n,o),i=Tr(i,a,r.snap)):Dt(o,n)&&(a=Qe(o,n),i=Tr(i,q(),r.snap.getChild(a)));else if(r.children){if(Dt(n,o))a=Qe(n,o),i=Bg(i,a,r.children);else if(Dt(o,n))if(a=Qe(o,n),j(a))i=Bg(i,q(),r.children);else{const l=ks(r.children,V(a));if(l){const c=l.getChild(ie(a));i=Tr(i,q(),c)}}}else throw Bs("WriteRecord should have .snap or .children")}}return i}function Wv(t,e,n,i,s){if(!i&&!s){const r=Vi(t.visibleWrites,e);if(r!=null)return r;{const o=Gn(t.visibleWrites,e);if(Ah(o))return n;if(n==null&&!Oh(o,q()))return null;{const a=n||F.EMPTY_NODE;return Ps(o,a)}}}else{const r=Gn(t.visibleWrites,e);if(!s&&Ah(r))return n;if(!s&&n==null&&!Oh(r,q()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Dt(c.path,e)||Dt(e,c.path))},a=Bv(t.allWrites,o,e),l=n||F.EMPTY_NODE;return Ps(a,l)}}}function mM(t,e,n){let i=F.EMPTY_NODE;const s=Vi(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ve,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=Gn(t.visibleWrites,e);return n.forEachChild(ve,(o,a)=>{const l=Ps(Gn(r,new Z(o)),a);i=i.updateImmediateChild(o,l)}),Hg(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=Gn(t.visibleWrites,e);return Hg(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function _M(t,e,n,i,s){M(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=Me(e,n);if(Oh(t.visibleWrites,r))return null;{const o=Gn(t.visibleWrites,r);return Ah(o)?s.getChild(n):Ps(o,s.getChild(n))}}function yM(t,e,n,i){const s=Me(e,n),r=Vi(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=Gn(t.visibleWrites,s);return Ps(o,i.getNode().getImmediateChild(n))}else return null}function vM(t,e){return Vi(t.visibleWrites,e)}function xM(t,e,n,i,s,r,o){let a;const l=Gn(t.visibleWrites,e),c=Vi(l,q());if(c!=null)a=c;else if(n!=null)a=Ps(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),d=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let f=d.getNext();for(;f&&u.length<s;)h(f,i)!==0&&u.push(f),f=d.getNext();return u}else return[]}function wM(){return{visibleWrites:zt.empty(),allWrites:[],lastWriteId:-1}}function Cl(t,e,n,i){return Wv(t.writeTree,t.treePath,e,n,i)}function df(t,e){return mM(t.writeTree,t.treePath,e)}function Vg(t,e,n,i){return _M(t.writeTree,t.treePath,e,n,i)}function El(t,e){return vM(t.writeTree,Me(t.treePath,e))}function bM(t,e,n,i,s,r){return xM(t.writeTree,t.treePath,e,n,i,s,r)}function ff(t,e,n){return yM(t.writeTree,t.treePath,e,n)}function Hv(t,e){return Vv(Me(t.treePath,e),t.writeTree)}function Vv(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;M(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),M(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,ao(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,oo(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,Ts(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,ao(i,e.snapshotNode,s.oldSnap));else throw Bs("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const jv=new CM;class pf{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new ei(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ff(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Li(this.viewCache_),r=bM(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t){return{filter:t}}function kM(t,e){M(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),M(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function MM(t,e,n,i,s){const r=new SM;let o,a;if(n.type===Ot.OVERWRITE){const c=n;c.source.fromUser?o=Lh(t,e,c.path,c.snap,i,s,r):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!j(c.path),o=kl(t,e,c.path,c.snap,i,s,a,r))}else if(n.type===Ot.MERGE){const c=n;c.source.fromUser?o=PM(t,e,c.path,c.children,i,s,r):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Fh(t,e,c.path,c.children,i,s,a,r))}else if(n.type===Ot.ACK_USER_WRITE){const c=n;c.revert?o=RM(t,e,c.path,i,s,r):o=IM(t,e,c.path,c.affectedTree,i,s,r)}else if(n.type===Ot.LISTEN_COMPLETE)o=NM(t,e,n.path,i,r);else throw Bs("Unknown operation type: "+n.type);const l=r.getChanges();return TM(e,o,l),{viewCache:o,changes:l}}function TM(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Sl(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(Ov(Sl(e)))}}function Uv(t,e,n,i,s,r){const o=e.eventCache;if(El(i,n)!=null)return e;{let a,l;if(j(n))if(M(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Li(e),u=c instanceof F?c:F.EMPTY_NODE,h=df(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const c=Cl(i,Li(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=V(n);if(c===".priority"){M(Zn(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=Vg(i,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=ie(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const d=Vg(i,n,o.getNode(),l);d!=null?h=o.getNode().getImmediateChild(c).updateChild(u,d):h=o.getNode().getImmediateChild(c)}else h=ff(i,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,s,r):a=o.getNode()}}return Mr(e,a,o.isFullyInitialized()||j(n),t.filter.filtersNodes())}}function kl(t,e,n,i,s,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(j(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=V(n);if(!l.isCompleteForPath(n)&&Zn(n)>1)return e;const p=ie(n),v=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),v):c=u.updateChild(l.getNode(),f,v,p,jv,null)}const h=Fv(e,c,l.isFullyInitialized()||j(n),u.filtersNodes()),d=new pf(s,h,r);return Uv(t,h,n,s,d,a)}function Lh(t,e,n,i,s,r,o){const a=e.eventCache;let l,c;const u=new pf(s,e,r);if(j(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Mr(e,c,!0,t.filter.filtersNodes());else{const h=V(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Mr(e,c,a.isFullyInitialized(),a.isFiltered());else{const d=ie(n),f=a.getNode().getImmediateChild(h);let p;if(j(d))p=i;else{const g=u.getCompleteChild(h);g!=null?Ev(d)===".priority"&&g.getChild(Mv(d)).isEmpty()?p=g:p=g.updateChild(d,i):p=F.EMPTY_NODE}if(f.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),h,p,d,u,o);l=Mr(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function jg(t,e){return t.eventCache.isCompleteForChild(e)}function PM(t,e,n,i,s,r,o){let a=e;return i.foreach((l,c)=>{const u=Me(n,l);jg(e,V(u))&&(a=Lh(t,a,u,c,s,r,o))}),i.foreach((l,c)=>{const u=Me(n,l);jg(e,V(u))||(a=Lh(t,a,u,c,s,r,o))}),a}function Ug(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Fh(t,e,n,i,s,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;j(n)?c=i:c=new le(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,d)=>{if(u.hasChild(h)){const f=e.serverCache.getNode().getImmediateChild(h),p=Ug(t,f,d);l=kl(t,l,new Z(h),p,s,r,o,a)}}),c.children.inorderTraversal((h,d)=>{const f=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!u.hasChild(h)&&!f){const p=e.serverCache.getNode().getImmediateChild(h),g=Ug(t,p,d);l=kl(t,l,new Z(h),g,s,r,o,a)}}),l}function IM(t,e,n,i,s,r,o){if(El(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(j(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return kl(t,e,n,l.getNode().getChild(n),s,r,a,o);if(j(n)){let c=new le(null);return l.getNode().forEachChild(_s,(u,h)=>{c=c.set(new Z(u),h)}),Fh(t,e,n,c,s,r,a,o)}else return e}else{let c=new le(null);return i.foreach((u,h)=>{const d=Me(n,u);l.isCompleteForPath(d)&&(c=c.set(u,l.getNode().getChild(d)))}),Fh(t,e,n,c,s,r,a,o)}}function NM(t,e,n,i,s){const r=e.serverCache,o=Fv(e,r.getNode(),r.isFullyInitialized()||j(n),r.isFiltered());return Uv(t,o,n,i,jv,s)}function RM(t,e,n,i,s,r){let o;if(El(i,n)!=null)return e;{const a=new pf(i,e,s),l=e.eventCache.getNode();let c;if(j(n)||V(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Cl(i,Li(e));else{const h=e.serverCache.getNode();M(h instanceof F,"serverChildren would be complete if leaf node"),u=df(i,h)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=V(n);let h=ff(i,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,ie(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,F.EMPTY_NODE,ie(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Cl(i,Li(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||El(i,q())!=null,Mr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new lf(i.getIndex()),r=Jk(i);this.processor_=EM(r);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(F.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(F.EMPTY_NODE,a.getNode(),null),u=new ei(l,o.isFullyInitialized(),s.filtersNodes()),h=new ei(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=ac(h,u),this.eventGenerator_=new rM(this.query_)}get query(){return this.query_}}function OM(t){return t.viewCache_.serverCache.getNode()}function AM(t){return Sl(t.viewCache_)}function LM(t,e){const n=Li(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!j(e)&&!n.getImmediateChild(V(e)).isEmpty())?n.getChild(e):null}function $g(t){return t.eventRegistrations_.length===0}function FM(t,e){t.eventRegistrations_.push(e)}function Yg(t,e,n){const i=[];if(n){M(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function Gg(t,e,n,i){e.type===Ot.MERGE&&e.source.queryId!==null&&(M(Li(t.viewCache_),"We should always have a full cache before handling merges"),M(Sl(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=MM(t.processor_,s,e,n,i);return kM(t.processor_,r.viewCache),M(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,$v(t,r.changes,r.viewCache.eventCache.getNode(),null)}function zM(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ve,(r,o)=>{i.push(Ts(r,o))}),n.isFullyInitialized()&&i.push(Ov(n.getNode())),$v(t,i,n.getNode(),e)}function $v(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return oM(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml;class Yv{constructor(){this.views=new Map}}function BM(t){M(!Ml,"__referenceConstructor has already been defined"),Ml=t}function WM(){return M(Ml,"Reference.ts has not been loaded"),Ml}function HM(t){return t.views.size===0}function gf(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return M(r!=null,"SyncTree gave us an op for an invalid query."),Gg(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(Gg(o,e,n,i));return r}}function Gv(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Cl(n,s?i:null),l=!1;a?l=!0:i instanceof F?(a=df(n,i),l=!1):(a=F.EMPTY_NODE,l=!1);const c=ac(new ei(a,l,!1),new ei(i,s,!1));return new DM(e,c)}return o}function VM(t,e,n,i,s,r){const o=Gv(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),FM(o,n),zM(o,n)}function jM(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const a=ti(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(Yg(c,n,i)),$g(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(Yg(l,n,i)),$g(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!ti(t)&&r.push(new(WM())(e._repo,e._path)),{removed:r,events:o}}function qv(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function qn(t,e){let n=null;for(const i of t.views.values())n=n||LM(i,e);return n}function Kv(t,e){if(e._queryParams.loadsAllData())return cc(t);{const i=e._queryIdentifier;return t.views.get(i)}}function Qv(t,e){return Kv(t,e)!=null}function ti(t){return cc(t)!=null}function cc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;function UM(t){M(!Tl,"__referenceConstructor has already been defined"),Tl=t}function $M(){return M(Tl,"Reference.ts has not been loaded"),Tl}let YM=1;class qg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new le(null),this.pendingWriteTree_=wM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function GM(t,e,n,i,s){return uM(t.pendingWriteTree_,e,n,i,s),s?Oo(t,new Ai(Lv(),e,n)):[]}function as(t,e,n=!1){const i=hM(t.pendingWriteTree_,e);if(dM(t.pendingWriteTree_,e)){let r=new le(null);return i.snap!=null?r=r.set(q(),!0):lt(i.children,o=>{r=r.set(new Z(o),!0)}),Oo(t,new bl(i.path,r,n))}else return[]}function Do(t,e,n){return Oo(t,new Ai(uf(),e,n))}function qM(t,e,n){const i=le.fromObject(n);return Oo(t,new uo(uf(),e,i))}function KM(t,e){return Oo(t,new co(uf(),e))}function QM(t,e,n){const i=mf(t,n);if(i){const s=_f(i),r=s.path,o=s.queryId,a=Qe(r,e),l=new co(hf(o),a);return yf(t,r,l)}else return[]}function Pl(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||Qv(o,e))){const l=jM(o,e,n,i);HM(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(r,(d,f)=>ti(f));if(u&&!h){const d=t.syncPointTree_.subtree(r);if(!d.isEmpty()){const f=ZM(d);for(let p=0;p<f.length;++p){const g=f[p],v=g.query,_=t1(t,g);t.listenProvider_.startListening(Pr(v),ho(t,v),_.hashFn,_.onComplete)}}}!h&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(Pr(e),null):c.forEach(d=>{const f=t.queryToTagMap.get(uc(d));t.listenProvider_.stopListening(Pr(d),f)}))}eT(t,c)}return a}function Xv(t,e,n,i){const s=mf(t,i);if(s!=null){const r=_f(s),o=r.path,a=r.queryId,l=Qe(o,e),c=new Ai(hf(a),l,n);return yf(t,o,c)}else return[]}function XM(t,e,n,i){const s=mf(t,i);if(s){const r=_f(s),o=r.path,a=r.queryId,l=Qe(o,e),c=le.fromObject(n),u=new uo(hf(a),l,c);return yf(t,o,u)}else return[]}function zh(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(d,f)=>{const p=Qe(d,s);r=r||qn(f,p),o=o||ti(f)});let a=t.syncPointTree_.get(s);a?(o=o||ti(a),r=r||qn(a,q())):(a=new Yv,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;r!=null?l=!0:(l=!1,r=F.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((f,p)=>{const g=qn(p,q());g&&(r=r.updateImmediateChild(f,g))}));const c=Qv(a,e);if(!c&&!e._queryParams.loadsAllData()){const d=uc(e);M(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const f=tT();t.queryToTagMap.set(d,f),t.tagToQueryMap.set(f,d)}const u=lc(t.pendingWriteTree_,s);let h=VM(a,e,n,u,r,l);if(!c&&!o&&!i){const d=Kv(a,e);h=h.concat(nT(t,e,d))}return h}function Jv(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Qe(o,e),c=qn(a,l);if(c)return c});return Wv(s,e,r,n,!0)}function JM(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const h=Qe(c,n);i=i||qn(u,h)});let s=t.syncPointTree_.get(n);s?i=i||qn(s,q()):(s=new Yv,t.syncPointTree_=t.syncPointTree_.set(n,s));const r=i!=null,o=r?new ei(i,!0,!1):null,a=lc(t.pendingWriteTree_,e._path),l=Gv(s,e,a,r?o.getNode():F.EMPTY_NODE,r);return AM(l)}function Oo(t,e){return Zv(e,t.syncPointTree_,null,lc(t.pendingWriteTree_,q()))}function Zv(t,e,n,i){if(j(t.path))return e1(t,e,n,i);{const s=e.get(q());n==null&&s!=null&&(n=qn(s,q()));let r=[];const o=V(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=Hv(i,o);r=r.concat(Zv(a,l,c,u))}return s&&(r=r.concat(gf(s,t,i,n))),r}}function e1(t,e,n,i){const s=e.get(q());n==null&&s!=null&&(n=qn(s,q()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Hv(i,o),u=t.operationForChild(o);u&&(r=r.concat(e1(u,a,l,c)))}),s&&(r=r.concat(gf(s,t,i,n))),r}function t1(t,e){const n=e.query,i=ho(t,n);return{hashFn:()=>(OM(e)||F.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?QM(t,n._path,i):KM(t,n._path);{const r=XE(s,n);return Pl(t,n,null,r)}}}}function ho(t,e){const n=uc(e);return t.queryToTagMap.get(n)}function uc(t){return t._path.toString()+"$"+t._queryIdentifier}function mf(t,e){return t.tagToQueryMap.get(e)}function _f(t){const e=t.indexOf("$");return M(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Z(t.substr(0,e))}}function yf(t,e,n){const i=t.syncPointTree_.get(e);M(i,"Missing sync point for query tag that we're tracking");const s=lc(t.pendingWriteTree_,e);return gf(i,n,s,null)}function ZM(t){return t.fold((e,n,i)=>{if(n&&ti(n))return[cc(n)];{let s=[];return n&&(s=qv(n)),lt(i,(r,o)=>{s=s.concat(o)}),s}})}function Pr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new($M())(t._repo,t._path):t}function eT(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=uc(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function tT(){return YM++}function nT(t,e,n){const i=e._path,s=ho(t,e),r=t1(t,n),o=t.listenProvider_.startListening(Pr(e),s,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(i);if(s)M(!ti(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!j(c)&&u&&ti(u))return[cc(u).query];{let d=[];return u&&(d=d.concat(qv(u).map(f=>f.query))),lt(h,(f,p)=>{d=d.concat(p)}),d}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Pr(u),ho(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new vf(n)}node(){return this.node_}}class xf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Me(this.path_,e);return new xf(this.syncTree_,n)}node(){return Jv(this.syncTree_,this.path_)}}const iT=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Kg=function(t,e,n){if(!t||typeof t!="object")return t;if(M(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return sT(t[".sv"],e,n);if(typeof t[".sv"]=="object")return rT(t[".sv"],e);M(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},sT=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:M(!1,"Unexpected server value: "+t)}},rT=function(t,e,n){t.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&M(!1,"Unexpected increment value: "+i);const s=e.node();if(M(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},oT=function(t,e,n,i){return wf(e,new xf(n,t),i)},aT=function(t,e,n){return wf(t,new vf(e),n)};function wf(t,e,n){const i=t.getPriority().val(),s=Kg(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=Kg(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Ne(a,Fe(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new Ne(s))),o.forEachChild(ve,(a,l)=>{const c=wf(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Sf(t,e){let n=e instanceof Z?e:new Z(e),i=t,s=V(n);for(;s!==null;){const r=ks(i.node.children,s)||{children:{},childCount:0};i=new bf(s,i,r),n=ie(n),s=V(n)}return i}function Hs(t){return t.node.value}function n1(t,e){t.node.value=e,Bh(t)}function i1(t){return t.node.childCount>0}function lT(t){return Hs(t)===void 0&&!i1(t)}function hc(t,e){lt(t.node.children,(n,i)=>{e(new bf(n,t,i))})}function s1(t,e,n,i){n&&!i&&e(t),hc(t,s=>{s1(s,e,!0,i)}),n&&i&&e(t)}function cT(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ao(t){return new Z(t.parent===null?t.name:Ao(t.parent)+"/"+t.name)}function Bh(t){t.parent!==null&&uT(t.parent,t.name,t)}function uT(t,e,n){const i=lT(n),s=xn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Bh(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Bh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=/[\[\].#$\/\u0000-\u001F\u007F]/,dT=/[\[\].#$\u0000-\u001F\u007F]/,iu=10*1024*1024,r1=function(t){return typeof t=="string"&&t.length!==0&&!hT.test(t)},o1=function(t){return typeof t=="string"&&t.length!==0&&!dT.test(t)},fT=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),o1(t)},a1=function(t,e,n){const i=n instanceof Z?new Ik(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+mi(i));if(typeof e=="function")throw new Error(t+"contains a function "+mi(i)+" with contents = "+e.toString());if(sv(e))throw new Error(t+"contains "+e.toString()+" "+mi(i));if(typeof e=="string"&&e.length>iu/3&&rc(e)>iu)throw new Error(t+"contains a string greater than "+iu+" utf8 bytes "+mi(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(lt(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!r1(o)))throw new Error(t+" contains an invalid key ("+o+") "+mi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Nk(i,o),a1(t,a,i),Rk(i)}),s&&r)throw new Error(t+' contains ".value" child '+mi(i)+" in addition to actual children.")}},l1=function(t,e,n,i){if(!(i&&n===void 0)&&!o1(n))throw new Error(q0(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pT=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),l1(t,e,n,i)},gT=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!r1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!fT(n))throw new Error(q0(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function c1(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!rf(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function u1(t,e,n){c1(t,n),h1(t,i=>rf(i,e))}function ai(t,e,n){c1(t,n),h1(t,i=>Dt(i,e)||Dt(e,i))}function h1(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(_T(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function _T(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Ei&&$e("event: "+n.toString()),No(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="repo_interrupt",vT=25;class xT{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wl(),this.transactionQueueTree_=new bf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wT(t,e,n){if(t.stats_=nf(t.repoInfo_),t.forceRestClient_||tk())t.server_=new xl(t.repoInfo_,(i,s,r,o)=>{Qg(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Xg(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ke(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new fn(t.repoInfo_,e,(i,s,r,o)=>{Qg(t,i,s,r,o)},i=>{Xg(t,i)},i=>{ST(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=ok(t.repoInfo_,()=>new sM(t.stats_,t.server_)),t.infoData_=new Zk,t.infoSyncTree_=new qg({startListening:(i,s,r,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Do(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Cf(t,"connected",!1),t.serverSyncTree_=new qg({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(a,l)=>{const c=o(a,l);ai(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function bT(t){const n=t.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function d1(t){return iT({timestamp:bT(t)})}function Qg(t,e,n,i,s){t.dataUpdateCount++;const r=new Z(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const l=pl(n,c=>Fe(c));o=XM(t.serverSyncTree_,r,l,s)}else{const l=Fe(n);o=Xv(t.serverSyncTree_,r,l,s)}else if(i){const l=pl(n,c=>Fe(c));o=qM(t.serverSyncTree_,r,l)}else{const l=Fe(n);o=Do(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=Mf(t,r)),ai(t.eventQueue_,a,o)}function Xg(t,e){Cf(t,"connected",e),e===!1&&kT(t)}function ST(t,e){lt(e,(n,i)=>{Cf(t,n,i)})}function Cf(t,e,n){const i=new Z("/.info/"+e),s=Fe(n);t.infoData_.updateSnapshot(i,s);const r=Do(t.infoSyncTree_,i,s);ai(t.eventQueue_,i,r)}function CT(t){return t.nextWriteId_++}function ET(t,e,n){const i=JM(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(s=>{const r=Fe(s).withIndex(e._queryParams.getIndex());zh(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Do(t.serverSyncTree_,e._path,r);else{const a=ho(t.serverSyncTree_,e);o=Xv(t.serverSyncTree_,e._path,r,a)}return ai(t.eventQueue_,e._path,o),Pl(t.serverSyncTree_,e,n,null,!0),r},s=>(Ef(t,"get for query "+ke(e)+" failed: "+s),Promise.reject(new Error(s))))}function kT(t){Ef(t,"onDisconnectEvents");const e=d1(t),n=wl();Dh(t.onDisconnect_,q(),(s,r)=>{const o=oT(s,r,t.serverSyncTree_,e);Av(n,s,o)});let i=[];Dh(n,q(),(s,r)=>{i=i.concat(Do(t.serverSyncTree_,s,r));const o=NT(t,s);Mf(t,o)}),t.onDisconnect_=wl(),ai(t.eventQueue_,q(),i)}function MT(t,e,n){let i;V(e._path)===".info"?i=zh(t.infoSyncTree_,e,n):i=zh(t.serverSyncTree_,e,n),u1(t.eventQueue_,e._path,i)}function Jg(t,e,n){let i;V(e._path)===".info"?i=Pl(t.infoSyncTree_,e,n):i=Pl(t.serverSyncTree_,e,n),u1(t.eventQueue_,e._path,i)}function TT(t){t.persistentConnection_&&t.persistentConnection_.interrupt(yT)}function Ef(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),$e(n,...e)}function f1(t,e,n){return Jv(t.serverSyncTree_,e,n)||F.EMPTY_NODE}function kf(t,e=t.transactionQueueTree_){if(e||dc(t,e),Hs(e)){const n=g1(t,e);M(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&PT(t,Ao(e),n)}else i1(e)&&hc(e,n=>{kf(t,n)})}function PT(t,e,n){const i=n.map(c=>c.currentWriteId),s=f1(t,e,i);let r=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];M(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Qe(e,u.path);r=r.updateChild(h,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Ef(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,u=u.concat(as(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();dc(t,Sf(t.transactionQueueTree_,e)),kf(t,t.transactionQueueTree_),ai(t.eventQueue_,e,u);for(let d=0;d<h.length;d++)No(h[d])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{mt("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Mf(t,e)}},o)}function Mf(t,e){const n=p1(t,e),i=Ao(n),s=g1(t,n);return IT(t,s,i),i}function IT(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Qe(n,l.path);let u=!1,h;if(M(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,s=s.concat(as(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=vT)u=!0,h="maxretry",s=s.concat(as(t.serverSyncTree_,l.currentWriteId,!0));else{const d=f1(t,l.path,o);l.currentInputSnapshot=d;const f=e[a].update(d.val());if(f!==void 0){a1("transaction failed: Data returned ",f,l.path);let p=Fe(f);typeof f=="object"&&f!=null&&xn(f,".priority")||(p=p.updatePriority(d.getPriority()));const v=l.currentWriteId,_=d1(t),m=aT(p,d,_);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=CT(t),o.splice(o.indexOf(v),1),s=s.concat(GM(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),s=s.concat(as(t.serverSyncTree_,v,!0))}else u=!0,h="nodata",s=s.concat(as(t.serverSyncTree_,l.currentWriteId,!0))}ai(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(h),!1,null))))}dc(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)No(i[a]);kf(t,t.transactionQueueTree_)}function p1(t,e){let n,i=t.transactionQueueTree_;for(n=V(e);n!==null&&Hs(i)===void 0;)i=Sf(i,n),e=ie(e),n=V(e);return i}function g1(t,e){const n=[];return m1(t,e,n),n.sort((i,s)=>i.order-s.order),n}function m1(t,e,n){const i=Hs(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);hc(e,s=>{m1(t,s,n)})}function dc(t,e){const n=Hs(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,n1(e,n.length>0?n:void 0)}hc(e,i=>{dc(t,i)})}function NT(t,e){const n=Ao(p1(t,e)),i=Sf(t.transactionQueueTree_,e);return cT(i,s=>{su(t,s)}),su(t,i),s1(i,s=>{su(t,s)}),n}function su(t,e){const n=Hs(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(M(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(M(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(as(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?n1(e,void 0):n.length=r+1,ai(t.eventQueue_,Ao(e),s);for(let o=0;o<i.length;o++)No(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function DT(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):mt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Zg=function(t,e){const n=OT(t),i=n.namespace;n.domain==="firebase.com"&&yn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||YE();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new mv(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Z(n.pathString)}},OT=function(t){let e="",n="",i="",s="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=RT(t.substring(u,h)));const d=DT(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=i}"ns"in d&&(r=d.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ke(this.snapshot.exportVal())}}class y1{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return j(this._path)?null:Ev(this._path)}get ref(){return new Jt(this._repo,this._path)}get _queryIdentifier(){const e=Fg(this._queryParams),n=ef(e);return n==="{}"?"default":n}get _queryObject(){return Fg(this._queryParams)}isEqual(e){if(e=To(e),!(e instanceof Tf))return!1;const n=this._repo===e._repo,i=rf(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Pk(this._path)}}class Jt extends Tf{constructor(e,n){super(e,n,new cf,!1)}get parent(){const e=Mv(this._path);return e===null?null:new Jt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Is{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Z(e),i=Il(this.ref,e);return new Is(this._node.getChild(n),i,ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Is(s,Il(this.ref,i),ve)))}hasChild(e){const n=new Z(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Lo(t,e){return t=To(t),t._checkNotDeleted("ref"),e!==void 0?Il(t._root,e):t._root}function Il(t,e){return t=To(t),V(t._path)===null?pT("child","path",e,!1):l1("child","path",e,!1),new Jt(t._repo,Me(t._path,e))}function x1(t){t=To(t);const e=new v1(()=>{}),n=new fc(e);return ET(t._repo,t,n).then(i=>new Is(i,new Jt(t._repo,t._path),t._queryParams.getIndex()))}class fc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new _1("value",this,new Is(e.snapshotNode,new Jt(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new y1(this,e,n):null}matches(e){return e instanceof fc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Pf{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new y1(this,e,n):null}createEvent(e,n){M(e.childName!=null,"Child events should have a childName.");const i=Il(new Jt(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new _1(e.type,this,new Is(e.snapshotNode,i,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Pf?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function AT(t,e,n,i,s){let r;if(typeof i=="object"&&(r=void 0,s=i),typeof i=="function"&&(r=i),s&&s.onlyOnce){const l=n,c=(u,h)=>{Jg(t._repo,t,a),l(u,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new v1(n,r||void 0),a=e==="value"?new fc(o):new Pf(e,o);return MT(t._repo,t,a),()=>Jg(t._repo,t,a)}function If(t,e,n,i){return AT(t,"value",e,n,i)}BM(Jt);UM(Jt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="FIREBASE_DATABASE_EMULATOR_HOST",Wh={};let FT=!1;function zT(t,e,n,i){t.repoInfo_=new mv(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),i&&(t.authTokenProvider_=i)}function BT(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$e("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Zg(r,s),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[LT]),c?(l=!0,r=`http://${c}?ns=${a.namespace}`,o=Zg(r,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new ms(ms.OWNER):new ik(t.name,t.options,e);gT("Invalid Firebase Database URL",o),j(o.path)||yn("Database URL must point to the root of a Firebase Database (not including a child path).");const h=HT(a,t,u,new nk(t.name,n));return new VT(h,t)}function WT(t,e){const n=Wh[e];(!n||n[t.key]!==t)&&yn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),TT(t),delete n[t.key]}function HT(t,e,n,i){let s=Wh[e.name];s||(s={},Wh[e.name]=s);let r=s[t.toURLString()];return r&&yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new xT(t,FT,n,i),s[t.toURLString()]=r,r}class VT{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(wT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jt(this._repo,q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(WT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&yn("Cannot call "+e+" on a deleted database.")}}function jT(t=PE(),e){const n=EE(t,"database").getImmediate({identifier:e}),i=xC("database");return i&&UT(n,...i),n}function UT(t,e,n,i={}){t=To(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&yn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new ms(ms.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:bC(i.mockUserToken,t.app.options.projectId);r=new ms(o)}zT(s,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){HE(TE),ml(new io("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return BT(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),ps(xg,wg,t),ps(xg,wg,"esm2017")}fn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};fn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};$T();const YT={apiKey:"AIzaSyAeW-oRdds8R8GpJ08isjYwxD24yH9h8-I",authDomain:"sensor-mqs.firebaseapp.com",databaseURL:"https://sensor-mqs-default-rtdb.firebaseio.com",projectId:"sensor-mqs",storageBucket:"sensor-mqs.appspot.com",messagingSenderId:"648901119376",appId:"1:648901119376:web:97eb7af0816cd1a08b7715"},GT=J0(YT),Fo=jT(GT);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function zo(t){return t+.5|0}const Nn=(t,e,n)=>Math.max(Math.min(t,n),e);function dr(t){return Nn(zo(t*2.55),0,255)}function Kn(t){return Nn(zo(t*255),0,255)}function on(t){return Nn(zo(t/2.55)/100,0,1)}function em(t){return Nn(zo(t*100),0,100)}const xt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Hh=[..."0123456789ABCDEF"],qT=t=>Hh[t&15],KT=t=>Hh[(t&240)>>4]+Hh[t&15],aa=t=>(t&240)>>4===(t&15),QT=t=>aa(t.r)&&aa(t.g)&&aa(t.b)&&aa(t.a);function XT(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&xt[t[1]]*17,g:255&xt[t[2]]*17,b:255&xt[t[3]]*17,a:e===5?xt[t[4]]*17:255}:(e===7||e===9)&&(n={r:xt[t[1]]<<4|xt[t[2]],g:xt[t[3]]<<4|xt[t[4]],b:xt[t[5]]<<4|xt[t[6]],a:e===9?xt[t[7]]<<4|xt[t[8]]:255})),n}const JT=(t,e)=>t<255?e(t):"";function ZT(t){var e=QT(t)?qT:KT;return t?"#"+e(t.r)+e(t.g)+e(t.b)+JT(t.a,e):void 0}const eP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function w1(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function tP(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function nP(t,e,n){const i=w1(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function iP(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Nf(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=iP(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function Rf(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Kn)}function Df(t,e,n){return Rf(w1,t,e,n)}function sP(t,e,n){return Rf(nP,t,e,n)}function rP(t,e,n){return Rf(tP,t,e,n)}function b1(t){return(t%360+360)%360}function oP(t){const e=eP.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?dr(+e[5]):Kn(+e[5]));const s=b1(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=sP(s,r,o):e[1]==="hsv"?i=rP(s,r,o):i=Df(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function aP(t,e){var n=Nf(t);n[0]=b1(n[0]+e),n=Df(n),t.r=n[0],t.g=n[1],t.b=n[2]}function lP(t){if(!t)return;const e=Nf(t),n=e[0],i=em(e[1]),s=em(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${on(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const tm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function cP(){const t={},e=Object.keys(nm),n=Object.keys(tm);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,tm[r]);r=parseInt(nm[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let la;function uP(t){la||(la=cP(),la.transparent=[0,0,0,0]);const e=la[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const hP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dP(t){const e=hP.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?dr(o):Nn(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?dr(i):Nn(i,0,255)),s=255&(e[4]?dr(s):Nn(s,0,255)),r=255&(e[6]?dr(r):Nn(r,0,255)),{r:i,g:s,b:r,a:n}}}function fP(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${on(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ru=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Yi=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function pP(t,e,n){const i=Yi(on(t.r)),s=Yi(on(t.g)),r=Yi(on(t.b));return{r:Kn(ru(i+n*(Yi(on(e.r))-i))),g:Kn(ru(s+n*(Yi(on(e.g))-s))),b:Kn(ru(r+n*(Yi(on(e.b))-r))),a:t.a+n*(e.a-t.a)}}function ca(t,e,n){if(t){let i=Nf(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Df(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function S1(t,e){return t&&Object.assign(e||{},t)}function im(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Kn(t[3]))):(e=S1(t,{r:0,g:0,b:0,a:1}),e.a=Kn(e.a)),e}function gP(t){return t.charAt(0)==="r"?dP(t):oP(t)}class fo{constructor(e){if(e instanceof fo)return e;const n=typeof e;let i;n==="object"?i=im(e):n==="string"&&(i=XT(e)||uP(e)||gP(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=S1(this._rgb);return e&&(e.a=on(e.a)),e}set rgb(e){this._rgb=im(e)}rgbString(){return this._valid?fP(this._rgb):void 0}hexString(){return this._valid?ZT(this._rgb):void 0}hslString(){return this._valid?lP(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=pP(this._rgb,e._rgb,n)),this}clone(){return new fo(this.rgb)}alpha(e){return this._rgb.a=Kn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=zo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ca(this._rgb,2,e),this}darken(e){return ca(this._rgb,2,-e),this}saturate(e){return ca(this._rgb,1,e),this}desaturate(e){return ca(this._rgb,1,-e),this}rotate(e){return aP(this._rgb,e),this}}/*!
 * Chart.js v4.1.2
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function en(){}const mP=(()=>{let t=0;return()=>t++})();function G(t){return t===null||typeof t>"u"}function ce(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function U(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function xe(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ht(t,e){return xe(t)?t:e}function B(t,e){return typeof t>"u"?e:t}const _P=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,C1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function te(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Q(t,e,n,i){let s,r,o;if(ce(t))if(r=t.length,i)for(s=r-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<r;s++)e.call(n,t[s],s);else if(U(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function Nl(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Rl(t){if(ce(t))return t.map(Rl);if(U(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=Rl(t[n[s]]);return e}return t}function E1(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function yP(t,e,n,i){if(!E1(t))return;const s=e[t],r=n[t];U(s)&&U(r)?po(s,r,i):e[t]=Rl(r)}function po(t,e,n){const i=ce(e)?e:[e],s=i.length;if(!U(t))return t;n=n||{};const r=n.merger||yP;let o;for(let a=0;a<s;++a){if(o=i[a],!U(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function Ir(t,e){return po(t,e,{merger:vP})}function vP(t,e,n){if(!E1(t))return;const i=e[t],s=n[t];U(i)&&U(s)?Ir(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Rl(s))}const sm={"":t=>t,x:t=>t.x,y:t=>t.y};function xP(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function wP(t){const e=xP(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function ni(t,e){return(sm[e]||(sm[e]=wP(e)))(t)}function Of(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Mt=t=>typeof t<"u",ii=t=>typeof t=="function",rm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function bP(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const fe=Math.PI,he=2*fe,SP=he+fe,Dl=Number.POSITIVE_INFINITY,CP=fe/180,we=fe/2,ci=fe/4,om=fe*2/3,Rn=Math.log10,Xt=Math.sign;function Nr(t,e,n){return Math.abs(t-e)<n}function am(t){const e=Math.round(t);t=Nr(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Rn(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function EP(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function Ns(t){return!isNaN(parseFloat(t))&&isFinite(t)}function kP(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function k1(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function At(t){return t*(fe/180)}function Af(t){return t*(180/fe)}function lm(t){if(!xe(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function M1(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*fe&&(r+=he),{angle:r,distance:s}}function Vh(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function MP(t,e){return(t-e+SP)%he-fe}function ft(t){return(t%he+he)%he}function go(t,e,n,i){const s=ft(t),r=ft(e),o=ft(n),a=ft(r-s),l=ft(o-s),c=ft(s-r),u=ft(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function Oe(t,e,n){return Math.max(e,Math.min(n,t))}function TP(t){return Oe(t,-32768,32767)}function un(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Lf(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const hn=(t,e,n,i)=>Lf(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),PP=(t,e,n)=>Lf(t,n,i=>t[i][e]>=n);function IP(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const T1=["push","pop","shift","splice","unshift"];function NP(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),T1.forEach(n=>{const i="_onData"+Of(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function cm(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(T1.forEach(r=>{delete t[r]}),delete t._chartjs)}function P1(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}const I1=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function N1(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,I1.call(window,()=>{i=!1,t.apply(e,n)}))}}function RP(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Ff=t=>t==="start"?"left":t==="end"?"right":"center",je=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,DP=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function R1(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(s=Oe(Math.min(hn(a,o.axis,c).lo,n?i:hn(e,l,o.getPixelForValue(c)).lo),0,i-1)),d?r=Oe(Math.max(hn(a,o.axis,u,!0).hi+1,n?0:hn(e,l,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function D1(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const ua=t=>t===0||t===1,um=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*he/n)),hm=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*he/n)+1,Rr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*we)+1,easeOutSine:t=>Math.sin(t*we),easeInOutSine:t=>-.5*(Math.cos(fe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ua(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ua(t)?t:um(t,.075,.3),easeOutElastic:t=>ua(t)?t:hm(t,.075,.3),easeInOutElastic(t){return ua(t)?t:t<.5?.5*um(t*2,.1125,.45):.5+.5*hm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Rr.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Rr.easeInBounce(t*2)*.5:Rr.easeOutBounce(t*2-1)*.5+.5};function O1(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function dm(t){return O1(t)?t:new fo(t)}function ou(t){return O1(t)?t:new fo(t).saturate(.5).darken(.1).hexString()}const OP=["x","y","borderWidth","radius","tension"],AP=["color","borderColor","backgroundColor"];function LP(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:AP},numbers:{type:"number",properties:OP}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function FP(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const fm=new Map;function zP(t,e){e=e||{};const n=t+JSON.stringify(e);let i=fm.get(n);return i||(i=new Intl.NumberFormat(t,e),fm.set(n,i)),i}function Bo(t,e,n){return zP(e,n).format(t)}const A1={values(t){return ce(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=BP(t,n)}const o=Rn(Math.abs(r)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Bo(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Rn(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?A1.numeric.call(this,t,e,n):""}};function BP(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var pc={formatters:A1};function WP(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Fi=Object.create(null),jh=Object.create(null);function Dr(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function au(t,e,n){return typeof e=="string"?po(Dr(t,e),n):po(Dr(t,""),e)}class HP{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>ou(s.backgroundColor),this.hoverBorderColor=(i,s)=>ou(s.borderColor),this.hoverColor=(i,s)=>ou(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return au(this,e,n)}get(e){return Dr(this,e)}describe(e,n){return au(jh,e,n)}override(e,n){return au(Fi,e,n)}route(e,n,i,s){const r=Dr(this,e),o=Dr(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return U(l)?Object.assign({},c,l):B(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Se=new HP({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[LP,FP,WP]);function VP(t){return!t||G(t.size)||G(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ol(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function jP(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&ce(h)!==!0)o=Ol(t,s,r,o,h);else if(ce(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!ce(d)&&(o=Ol(t,s,r,o,d));t.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete s[r[l]];r.splice(0,f)}return o}function ui(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function pm(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Uh(t,e,n,i){L1(t,e,n,i,null)}function L1(t,e,n,i,s){let r,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let v=(p||0)*CP;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:s?t.ellipse(n,i,s/2,g,0,0,he):t.arc(n,i,g,0,he),t.closePath();break;case"triangle":u=s?s/2:g,t.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*g),v+=om,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*g),v+=om,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(v+ci)*l,h=Math.cos(v+ci)*(s?s/2-c:l),a=Math.sin(v+ci)*l,d=Math.sin(v+ci)*(s?s/2-c:l),t.arc(n-h,i-a,c,v-fe,v-we),t.arc(n+d,i-o,c,v-we,v),t.arc(n+h,i+a,c,v,v+we),t.arc(n-d,i+o,c,v+we,v+fe),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=s?s/2:l,t.rect(n-u,i-l,2*u,2*l);break}v+=ci;case"rectRot":h=Math.cos(v)*(s?s/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(s?s/2:g),t.moveTo(n-h,i-a),t.lineTo(n+d,i-o),t.lineTo(n+h,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":v+=ci;case"cross":h=Math.cos(v)*(s?s/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(s?s/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(v)*(s?s/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(s?s/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),v+=ci,h=Math.cos(v)*(s?s/2:g),o=Math.cos(v)*g,a=Math.sin(v)*g,d=Math.sin(v)*(s?s/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=s?s/2:Math.cos(v)*g,a=Math.sin(v)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(s?s/2:g),i+Math.sin(v)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function mo(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function gc(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function mc(t){t.restore()}function UP(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function $P(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function zi(t,e,n,i,s,r={}){const o=ce(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,YP(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&qP(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),G(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),GP(t,n,i,c,r),i+=s.lineHeight;t.restore()}function YP(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),G(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function GP(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function qP(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function _o(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-we,fe,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,fe,we,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,we,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-we,!0),t.lineTo(n+o.topLeft,i)}const KP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,QP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function XP(t,e){const n=(""+t).match(KP);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const JP=t=>+t||0;function zf(t,e){const n={},i=U(e),s=i?Object.keys(e):e,r=U(t)?i?o=>B(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=JP(r(o));return n}function F1(t){return zf(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ki(t){return zf(t,["topLeft","topRight","bottomLeft","bottomRight"])}function qe(t){const e=F1(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Pe(t,e){t=t||{},e=e||Se.font;let n=B(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=B(t.style,e.style);i&&!(""+i).match(QP)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:B(t.family,e.family),lineHeight:XP(B(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:B(t.weight,e.weight),string:""};return s.string=VP(s),s}function fr(t,e,n,i){let s=!0,r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),s=!1),n!==void 0&&ce(a)&&(a=a[n%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function ZP(t,e,n){const{min:i,max:s}=t,r=C1(e,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function li(t,e){return Object.assign(Object.create(t),e)}function Bf(t,e=[""],n=t,i,s=()=>t[0]){Mt(i)||(i=H1("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:s,override:o=>Bf([o,...t],e,n,i)};return new Proxy(r,{deleteProperty(o,a){return delete o[a],delete o._keys,delete t[0][a],!0},get(o,a){return B1(o,a,()=>aI(a,e,t,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,a){return mm(o).includes(a)},ownKeys(o){return mm(o)},set(o,a,l){const c=o._storage||(o._storage=s());return o[a]=c[a]=l,delete o._keys,!0}})}function Rs(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:z1(t,i),setContext:r=>Rs(t,r,n,i),override:r=>Rs(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return B1(r,o,()=>tI(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function z1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:ii(n)?n:()=>n,isIndexable:ii(i)?i:()=>i}}const eI=(t,e)=>t?t+Of(e):e,Wf=(t,e)=>U(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function B1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function tI(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return ii(a)&&o.isScriptable(e)&&(a=nI(e,a,t,n)),ce(a)&&a.length&&(a=iI(e,a,t,o.isIndexable)),Wf(e,a)&&(a=Rs(a,s,r&&r[e],o)),a}function nI(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(r,o||i),a.delete(t),Wf(t,e)&&(e=Hf(s._scopes,s,t,e)),e}function iI(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(Mt(r.index)&&i(t))e=e[r.index%e.length];else if(U(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=Hf(c,s,t,u);e.push(Rs(h,r,o&&o[t],a))}}return e}function W1(t,e,n){return ii(t)?t(e,n):t}const sI=(t,e)=>t===!0?e:typeof t=="string"?ni(e,t):void 0;function rI(t,e,n,i,s){for(const r of e){const o=sI(n,r);if(o){t.add(o);const a=W1(o._fallback,n,s);if(Mt(a)&&a!==n&&a!==i)return a}else if(o===!1&&Mt(i)&&n!==i)return null}return!1}function Hf(t,e,n,i){const s=e._rootScopes,r=W1(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=gm(a,o,n,r||n,i);return l===null||Mt(r)&&r!==n&&(l=gm(a,o,r,l,i),l===null)?!1:Bf(Array.from(a),[""],s,r,()=>oI(e,n,i))}function gm(t,e,n,i,s){for(;n;)n=rI(t,e,n,i,s);return n}function oI(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return ce(s)&&U(n)?n:s||{}}function aI(t,e,n,i){let s;for(const r of e)if(s=H1(eI(r,t),n),Mt(s))return Wf(t,s)?Hf(n,i,t,s):s}function H1(t,e){for(const n of e){if(!n)continue;const i=n[t];if(Mt(i))return i}}function mm(t){let e=t._keys;return e||(e=t._keys=lI(t._scopes)),e}function lI(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function V1(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:s.parse(ni(u,r),c)};return o}const cI=Number.EPSILON||1e-14,Ds=(t,e)=>e<t.length&&!t[e].skip&&t[e],j1=t=>t==="x"?"y":"x";function uI(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=Vh(r,s),l=Vh(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+d*(o.x-s.x),y:r.y+d*(o.y-s.y)}}}function hI(t,e,n){const i=t.length;let s,r,o,a,l,c=Ds(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Ds(t,u+1),!(!l||!c)){if(Nr(e[u],0,cI)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=r*o*e[u])}}function dI(t,e,n="x"){const i=j1(n),s=t.length;let r,o,a,l=Ds(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Ds(t,c+1),!a)continue;const u=a[n],h=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=h-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=h+r*e[c])}}function fI(t,e="x"){const n=j1(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=Ds(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Ds(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?Xt(s[o-1])!==Xt(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}hI(t,s,r),dI(t,r,e)}function ha(t,e,n){return Math.max(Math.min(t,n),e)}function pI(t,e){let n,i,s,r,o,a=mo(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&mo(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=ha(s.cp1x,e.left,e.right),s.cp1y=ha(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=ha(s.cp2x,e.left,e.right),s.cp2y=ha(s.cp2y,e.top,e.bottom)))}function gI(t,e,n,i,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")fI(t,s);else{let c=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=uI(c,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&pI(t,n)}function U1(){return typeof window<"u"&&typeof document<"u"}function Vf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Al(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const _c=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function mI(t,e){return _c(t).getPropertyValue(e)}const _I=["top","right","bottom","left"];function Mi(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=_I[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const yI=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function vI(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(yI(s,r,t.target))a=s,l=r;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function _i(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=_c(n),r=s.boxSizing==="border-box",o=Mi(s,"padding"),a=Mi(s,"border","width"),{x:l,y:c,box:u}=vI(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return r&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}function xI(t,e,n){let i,s;if(e===void 0||n===void 0){const r=Vf(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=_c(r),l=Mi(a,"border","width"),c=Mi(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Al(a.maxWidth,r,"clientWidth"),s=Al(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Dl,maxHeight:s||Dl}}const da=t=>Math.round(t*10)/10;function wI(t,e,n,i){const s=_c(t),r=Mi(s,"margin"),o=Al(s.maxWidth,t,"clientWidth")||Dl,a=Al(s.maxHeight,t,"clientHeight")||Dl,l=xI(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const d=Mi(s,"border","width"),f=Mi(s,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=da(Math.min(c,o,l.maxWidth)),u=da(Math.min(u,a,l.maxHeight)),c&&!u&&(u=da(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=da(Math.floor(u*i))),{width:c,height:u}}function _m(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const bI=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function ym(t,e){const n=mI(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function yi(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function SI(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function CI(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=yi(t,s,n),a=yi(s,r,n),l=yi(r,e,n),c=yi(o,a,n),u=yi(a,l,n);return yi(c,u,n)}const EI=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},kI=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ys(t,e,n){return t?EI(e,n):kI()}function $1(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Y1(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function G1(t){return t==="angle"?{between:go,compare:MP,normalize:ft}:{between:un,compare:(e,n)=>e-n,normalize:e=>e}}function vm({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function MI(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=G1(i),l=e.length;let{start:c,end:u,loop:h}=t,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][i]),s,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function q1(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=G1(i),{start:u,end:h,loop:d,style:f}=MI(t,e,n),p=[];let g=!1,v=null,_,m,y;const x=()=>l(s,y,_)&&a(s,y)!==0,w=()=>a(r,_)===0||l(r,y,_),b=()=>g||x(),S=()=>!g||w();for(let C=u,N=u;C<=h;++C)m=e[C%o],!m.skip&&(_=c(m[i]),_!==y&&(g=l(_,s,r),v===null&&b()&&(v=a(_,s)===0?C:N),v!==null&&S()&&(p.push(vm({start:v,end:C,loop:d,count:o,style:f})),v=null),N=C,y=_));return v!==null&&p.push(vm({start:v,end:h,loop:d,count:o,style:f})),p}function K1(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=q1(i[s],t.points,e);r.length&&n.push(...r)}return n}function TI(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function PI(t,e,n,i){const s=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function II(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=TI(n,s,r,i);if(i===!0)return xm(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return xm(t,PI(n,o,l,c),n,e)}function xm(t,e,n,i){return!i||!i.setContext||!n?e:NI(t,e,n,i)}function NI(t,e,n,i){const s=t._chart.getContext(),r=wm(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,h=e[0].start,d=h;function f(p,g,v,_){const m=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=m;for(;n[g%l].skip;)g+=m;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:v,style:_}),u=_,h=g%l)}}for(const p of e){h=a?h:p.start;let g=n[h%l],v;for(d=h+1;d<=p.end;d++){const _=n[d%l];v=wm(i.setContext(li(s,{type:"segment",p0:g,p1:_,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),RI(v,u)&&f(h,d-1,p.loop,u),g=_,u=v}h<d-1&&f(h,d-1,p.loop,u)}return c}function wm(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function RI(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v4.1.2
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class DI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=I1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var tn=new DI;const bm="transparent",OI={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=dm(t||bm),s=i.valid&&dm(e||bm);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class AI{constructor(e,n,i,s){const r=n[i];s=fr([e.to,s,r,e.from]);const o=fr([e.from,r,s]);this._active=!0,this._fn=e.fn||OI[e.type||typeof o],this._easing=Rr[e.easing]||Rr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=fr([e.to,n,s,e.from]),this._from=fr([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class Q1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!U(e))return;const n=Object.keys(Se.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!U(r))return;const o={};for(const a of n)o[a]=r[a];(ce(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,s=FI(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&LI(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let h=r[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}r[c]=h=new AI(d,e,c,u),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return tn.add(this._chart,i),!0}}function LI(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function FI(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Sm(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function zI(t,e,n){if(n===!1)return!1;const i=Sm(t,n),s=Sm(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function BI(t){let e,n,i,s;return U(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function X1(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function Cm(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=t.values[l],xe(c)&&(r||e===0||Xt(e)===Xt(c))&&(e+=c)}return e}}function WI(t){const e=Object.keys(t),n=new Array(e.length);let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],n[i]={x:r,y:t[r]};return n}function Em(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function HI(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function VI(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function jI(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function km(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function Mm(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=HI(r,o,i),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[l]:g,[c]:v}=p,_=p._stacks||(p._stacks={});d=_[c]=jI(s,u,g),d[a]=v,d._top=km(d,o,!0,i.type),d._bottom=km(d,o,!1,i.type);const m=d._visualValues||(d._visualValues={});m[a]=v}}function lu(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function UI(t,e){return li(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function $I(t,e,n){return li(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function er(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const cu=t=>t==="reset"||t==="none",Tm=(t,e)=>e?t:Object.assign({},t),YI=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:X1(n,!0),values:null};class Bt{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Em(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&er(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,r=n.xAxisID=B(i.xAxisID,lu(e,"x")),o=n.yAxisID=B(i.yAxisID,lu(e,"y")),a=n.rAxisID=B(i.rAxisID,lu(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&cm(this._data,this),e._stacked&&er(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(U(n))this._data=WI(n);else if(i!==n){if(i){cm(i,this);const s=this._cachedMeta;er(s),s._parsed=[]}n&&Object.isExtensible(n)&&NP(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Em(n.vScale,n),n.stack!==i.stack&&(s=!0,er(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&Mm(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{ce(s[e])?d=this.parseArrayData(i,s,e,n):U(s[e])?d=this.parseObjectData(i,s,e,n):d=this.parsePrimitiveData(i,s,e,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}o&&Mm(this,d)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let d,f,p;for(d=0,f=s;d<f;++d)p=d+i,h[d]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,d,f;for(u=0,h=s;u<h;++u)d=u+i,f=n[d],c[u]={x:r.parse(ni(f,a),d),y:o.parse(ni(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:X1(s,!0),values:n._stacks[e.axis]._visualValues};return Cm(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=Cm(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=YI(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=VI(a);let d,f;function p(){f=s[d];const g=f[a.axis];return!xe(f[e.axis])||u>g||h<g}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],xe(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=BI(B(this.options.clip,zI(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=$I(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=UI(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&Mt(i);if(a)return Tm(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Se.elements[e]),p=()=>this.getContext(i,s,n),g=c.resolveNamedOptions(d,f,p,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(Tm(g,l))),g}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,i,n))}const c=new Q1(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||cu(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){cu(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!cu(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&er(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}D(Bt,"defaults",{}),D(Bt,"datasetElementType",null),D(Bt,"dataElementType",null);function GI(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=P1(i.sort((s,r)=>s-r))}return t._cache.$bar}function qI(t){const e=t.iScale,n=GI(e,t.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(Mt(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function KI(t,e,n,i){const s=n.barThickness;let r,o;return G(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function QI(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function XI(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function J1(t,e,n,i){return ce(t)?XI(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Pm(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(J1(d,h,r,c));return l}function uu(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function JI(t,e,n){return t!==0?Xt(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function ZI(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function eN(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=ZI(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[Im(u,o,a,l)]=!0,s=c)),r[Im(s,o,a,l)]=!0,t.borderSkipped=r}function Im(t,e,n,i){return i?(t=tN(t,e,n),t=Nm(t,n,e)):t=Nm(t,e,n),t}function tN(t,e,n){return t===e?n:t===n?e:t}function Nm(t,e,n){return t==="start"?e:t==="end"?n:t}function nN(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ra extends Bt{parsePrimitiveData(e,n,i,s){return Pm(e,n,i,s)}parseArrayData(e,n,i,s){return Pm(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,p,g;for(d=i,f=i+s;d<f;++d)g=n[d],p={},p[r.axis]=r.parse(ni(g,c),d),h.push(J1(ni(g,u),p,o,d));return h}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=uu(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,s);for(let f=n;f<n+i;f++){const p=this.getParsed(f),g=r||G(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),_=(p._stacks||{})[a.axis],m={horizontal:c,base:g.base,enableBorderRadius:!_||uu(p._custom)||o===_._top||o===_._bottom,x:c?g.head:v.center,y:c?v.center:g.head,height:c?v.size:Math.abs(g.size),width:c?Math.abs(g.size):v.size};d&&(m.options=h||this.resolveDataElementOptions(f,e[f].active?"active":s));const y=m.options||e[f].options;eN(m,y,_,o),nN(m,y,u.ratio),this.updateElement(e[f],f,m,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(G(u)||isNaN(u))return!0};for(const l of s)if(!(n!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||qI(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=uu(c);let h=l[n.axis],d=0,f=i?this.applyStack(n,l,i):h,p,g;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&Xt(h)!==Xt(c.barEnd)&&(d=0),d+=h);const v=!G(r)&&!u?r:d;let _=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(d+f):p=_,g=p-_,Math.abs(g)<o){g=JI(g,n,a)*o,h===a&&(_-=g/2);const m=n.getPixelForDecimal(0),y=n.getPixelForDecimal(1),x=Math.min(m,y),w=Math.max(m,y);_=Math.max(Math.min(_,w),x),p=_+g,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const m=Xt(g)*n.getLineWidthForValue(a)/2;_+=m,g-=m}return{size:g,base:_,head:p,center:p+g/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=B(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,u=s.barThickness==="flex"?QI(e,n,s,c):KI(e,n,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}D(Ra,"id","bar"),D(Ra,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),D(Ra,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Da extends Bt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=B(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=B(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,h=a.axis;for(let d=n;d<n+i;d++){const f=e[d],p=!r&&this.getParsed(d),g={},v=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),_=g[h]=r?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(v)||isNaN(_),c&&(g.options=l||this.resolveDataElementOptions(d,f.active?"active":s),r&&(g.options.radius=0)),this.updateElement(f,d,g,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=B(i&&i._custom,r),s}}D(Da,"id","bubble"),D(Da,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),D(Da,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function iN(t,e,n){let i=1,s=1,r=0,o=0;if(e<he){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(y,x,w)=>go(y,a,l,!0)?1:Math.max(x,x*n,w,w*n),p=(y,x,w)=>go(y,a,l,!0)?-1:Math.min(x,x*n,w,w*n),g=f(0,c,h),v=f(we,u,d),_=p(fe,c,h),m=p(fe+we,u,d);i=(g-_)/2,s=(v-m)/2,r=-(g+_)/2,o=-(v+m)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class Dn extends Bt{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(U(i[e])){const{key:l="value"}=this._parsing;r=c=>+ni(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return At(this.options.rotation-90)}_getCircumference(){return At(this.options.circumference)}_getRotationExtents(){let e=he,n=-he;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(_P(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:g}=iN(h,u,l),v=(i.width-o)/d,_=(i.height-o)/f,m=Math.max(Math.min(v,_)/2,0),y=C1(this.options.radius,m),x=Math.max(y*l,0),w=(y-x)/this._getVisibleDatasetWeightTotal();this.offsetX=p*y,this.offsetY=g*y,s.total=this.calculateTotal(),this.outerRadius=y-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/he)}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(n,s);let _=this._getRotation(),m;for(m=0;m<n;++m)_+=this._circumference(m,r);for(m=n;m<n+i;++m){const y=this._circumference(m,r),x=e[m],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+y,circumference:y,outerRadius:p,innerRadius:f};v&&(w.options=g||this.resolveDataElementOptions(m,x.active?"active":s)),_+=y,this.updateElement(x,m,w,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?he*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Bo(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(B(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}D(Dn,"id","doughnut"),D(Dn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),D(Dn,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"}),D(Dn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Or extends Bt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=R1(n,s,o);this._drawStart=a,this._drawCount=l,D1(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),d=o.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,v=Ns(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||s==="none",m=n+i,y=e.length;let x=n>0&&this.getParsed(n-1);for(let w=0;w<y;++w){const b=e[w],S=_?b:{};if(w<n||w>=m){S.skip=!0;continue}const C=this.getParsed(w),N=G(C[f]),I=S[d]=o.getPixelForValue(C[d],w),L=S[f]=r||N?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[f],w);S.skip=isNaN(I)||isNaN(L)||N,S.stop=w>0&&Math.abs(C[d]-x[d])>v,g&&(S.parsed=C,S.raw=c.data[w]),h&&(S.options=u||this.resolveDataElementOptions(w,b.active?"active":s)),_||this.updateElement(b,w,S,s),x=C}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}D(Or,"id","line"),D(Or,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),D(Or,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ar extends Bt{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Bo(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return V1.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*fe;let f=d,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,s,g);for(p=n;p<n+i;p++){const v=e[p];let _=f,m=f+this._computeAngle(p,s,g),y=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=m,r&&(l.animateScale&&(y=0),l.animateRotate&&(_=m=d));const x={x:u,y:h,innerRadius:0,outerRadius:y,startAngle:_,endAngle:m,options:this.resolveDataElementOptions(p,v.active?"active":s)};this.updateElement(v,p,x,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?At(this.resolveDataElementOptions(e,n).angle||i):0}}D(Ar,"id","polarArea"),D(Ar,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),D(Ar,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class $h extends Dn{}D($h,"id","pie"),D($h,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Oa extends Bt{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return V1.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,d=o?r.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,s)}}}D(Oa,"id","radar"),D(Oa,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),D(Oa,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Aa extends Bt{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=R1(n,i,s);if(this._drawStart=r,this._drawCount=o,D1(n)&&(r=0,o=i.length),this.options.showLine){const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},e)}this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),d=this.includeOptions(s,h),f=o.axis,p=a.axis,{spanGaps:g,segment:v}=this.options,_=Ns(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||s==="none";let y=n>0&&this.getParsed(n-1);for(let x=n;x<n+i;++x){const w=e[x],b=this.getParsed(x),S=m?w:{},C=G(b[p]),N=S[f]=o.getPixelForValue(b[f],x),I=S[p]=r||C?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,b,l):b[p],x);S.skip=isNaN(N)||isNaN(I)||C,S.stop=x>0&&Math.abs(b[f]-y[f])>_,v&&(S.parsed=b,S.raw=c.data[x]),d&&(S.options=h||this.resolveDataElementOptions(x,w.active?"active":s)),m||this.updateElement(w,x,S,s),y=b}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}D(Aa,"id","scatter"),D(Aa,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),D(Aa,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var sN=Object.freeze({__proto__:null,BarController:Ra,BubbleController:Da,DoughnutController:Dn,LineController:Or,PolarAreaController:Ar,PieController:$h,RadarController:Oa,ScatterController:Aa});function hi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class jf{static override(e){Object.assign(jf.prototype,e)}constructor(e){this.options=e||{}}init(){}formats(){return hi()}parse(){return hi()}format(){return hi()}add(){return hi()}diff(){return hi()}startOf(){return hi()}endOf(){return hi()}}var rN={_date:jf};function oN(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?PP:hn;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(r,e,n-u),d=l(r,e,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function Wo(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=oN(r[a],e,o,s);for(let f=h;f<=d;++f){const p=u[f];p.skip||i(p,c,f)}}}function aN(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function hu(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||Wo(t,n,e,function(a,l,c){!s&&!mo(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function lN(t,e,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=M1(o,{x:e.x,y:e.y});go(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Wo(t,n,e,r),s}function cN(t,e,n,i,s,r){let o=[];const a=aN(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,s);if(i&&!f)return;const p=u.getCenterPoint(s);if(!(!!r||t.isPointInArea(p))&&!f)return;const v=a(e,p);v<l?(o=[{element:u,datasetIndex:h,index:d}],l=v):v===l&&o.push({element:u,datasetIndex:h,index:d})}return Wo(t,n,e,c),o}function du(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?lN(t,e,n,s):cN(t,e,n,i,s,r)}function Rm(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Wo(t,n,e,(l,c,u)=>{l[o](e[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var uN={evaluateInteractionItems:Wo,modes:{index(t,e,n,i){const s=_i(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?hu(t,s,r,i,o):du(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const s=_i(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?hu(t,s,r,i,o):du(t,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const s=_i(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return hu(t,s,r,i,o)},nearest(t,e,n,i){const s=_i(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return du(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=_i(e,t);return Rm(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=_i(e,t);return Rm(t,s,"y",n.intersect,i)}}};const Z1=["left","top","right","bottom"];function tr(t,e){return t.filter(n=>n.pos===e)}function Dm(t,e){return t.filter(n=>Z1.indexOf(n.pos)===-1&&n.box.axis===e)}function nr(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function hN(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function dN(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!Z1.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function fN(t,e){const n=dN(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&e.availableHeight)}return n}function pN(t){const e=hN(t),n=nr(e.filter(c=>c.box.fullSize),!0),i=nr(tr(e,"left"),!0),s=nr(tr(e,"right")),r=nr(tr(e,"top"),!0),o=nr(tr(e,"bottom")),a=Dm(e,"x"),l=Dm(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:tr(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function Om(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ex(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function gN(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!U(s)){n.size&&(t[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[s]+=n.size}r.getPadding&&ex(o,r.getPadding());const a=Math.max(0,e.outerWidth-Om(o,t,"left","right")),l=Math.max(0,e.outerHeight-Om(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function mN(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function _N(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function pr(t,e,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,_N(a.horizontal,e));const{same:h,other:d}=gN(e,n,a,i);c|=h&&s.length,u=u||d,l.fullSize||s.push(a)}return c&&pr(s,e,n,i)||u}function fa(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function Am(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;Mt(c.start)&&(o=c.start),l.fullSize?fa(l,s.left,o,n.outerWidth-s.right-s.left,d):fa(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;Mt(c.start)&&(r=c.start),l.fullSize?fa(l,r,s.top,d,n.outerHeight-s.bottom-s.top):fa(l,r,e.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var Ye={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=qe(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=pN(t.boxes),l=a.vertical,c=a.horizontal;Q(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},s);ex(d,qe(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:s.left,y:s.top},s),p=fN(l.concat(c),h);pr(a.fullSize,f,h,p),pr(l,f,h,p),pr(c,f,h,p)&&pr(l,f,h,p),mN(f),Am(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Am(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Q(a.chartArea,g=>{const v=g.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class tx{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class yN extends tx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const La="$chartjs",vN={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Lm=t=>t===null||t==="";function xN(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[La]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Lm(s)){const r=ym(t,"width");r!==void 0&&(t.width=r)}if(Lm(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=ym(t,"height");r!==void 0&&(t.height=r)}return t}const nx=bI?{passive:!0}:!1;function wN(t,e,n){t.addEventListener(e,n,nx)}function bN(t,e,n){t.canvas.removeEventListener(e,n,nx)}function SN(t,e){const n=vN[t.type]||t.type,{x:i,y:s}=_i(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Ll(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function CN(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ll(a.addedNodes,i),o=o&&!Ll(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function EN(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ll(a.removedNodes,i),o=o&&!Ll(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const yo=new Map;let Fm=0;function ix(){const t=window.devicePixelRatio;t!==Fm&&(Fm=t,yo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function kN(t,e){yo.size||window.addEventListener("resize",ix),yo.set(t,e)}function MN(t){yo.delete(t),yo.size||window.removeEventListener("resize",ix)}function TN(t,e,n){const i=t.canvas,s=i&&Vf(i);if(!s)return;const r=N1((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),kN(t,r),o}function fu(t,e,n){n&&n.disconnect(),e==="resize"&&MN(t)}function PN(t,e,n){const i=t.canvas,s=N1(r=>{t.ctx!==null&&n(SN(r,t))},t);return wN(i,e,s),s}class IN extends tx{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(xN(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[La])return!1;const i=n[La].initial;["height","width"].forEach(r=>{const o=i[r];G(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[La],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:CN,detach:EN,resize:TN}[n]||PN;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:fu,detach:fu,resize:fu}[n]||bN)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return wI(e,n,i,s)}isAttached(e){const n=Vf(e);return!!(n&&n.isConnected)}}function NN(t){return!U1()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?yN:IN}class Ht{constructor(){D(this,"active",!1)}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Ns(this.x)&&Ns(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}D(Ht,"defaults",{}),D(Ht,"defaultRoutes");function RN(t,e){const n=t.options.ticks,i=DN(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?AN(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return LN(e,c,r,o/s),c;const u=ON(r,e,s);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(pa(e,c,u,G(f)?0:a-f,a),h=0,d=o-1;h<d;h++)pa(e,c,u,r[h],r[h+1]);return pa(e,c,u,l,G(f)?e.length:l+f),c}return pa(e,c,u),c}function DN(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function ON(t,e,n){const i=FN(t),s=e.length/n;if(!i)return Math.max(s,1);const r=EP(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function AN(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function LN(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function pa(t,e,n,i,s){const r=B(i,0),o=Math.min(B(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function FN(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const zN=t=>t==="left"?"right":t==="right"?"left":t,zm=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function Bm(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function BN(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<r-a||l>o+a)))return l}function WN(t,e){Q(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function ir(t){return t.drawTicks?t.tickLength:0}function Wm(t,e){if(!t.display)return 0;const n=Pe(t.font,e),i=qe(t.padding);return(ce(t.text)?t.text.length:1)*n.lineHeight+i.height}function HN(t,e){return li(t,{scale:e,type:"scale"})}function VN(t,e,n){return li(t,{tick:n,index:e,type:"tick"})}function jN(t,e,n){let i=Ff(t);return(n&&e!=="right"||!n&&e==="right")&&(i=zN(i)),i}function UN(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,d,f,p;const g=o-s,v=a-r;if(t.isHorizontal()){if(f=je(i,r,a),U(n)){const _=Object.keys(n)[0],m=n[_];p=u[_].getPixelForValue(m)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=zm(t,n,e);d=a-r}else{if(U(n)){const _=Object.keys(n)[0],m=n[_];f=u[_].getPixelForValue(m)-v+e}else n==="center"?f=(c.left+c.right)/2-v+e:f=zm(t,n,e);p=je(i,o,s),h=n==="left"?-we:we}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class ji extends Ht{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=ht(e,Number.POSITIVE_INFINITY),n=ht(n,Number.NEGATIVE_INFINITY),i=ht(i,Number.POSITIVE_INFINITY),s=ht(s,Number.NEGATIVE_INFINITY),{min:ht(e,i),max:ht(n,s),minDefined:xe(e),maxDefined:xe(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:ht(n,ht(i,n)),max:ht(i,ht(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){te(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ZP(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Bm(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=RN(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){te(this.options.afterUpdate,[this])}beforeSetDimensions(){te(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){te(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),te(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){te(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=te(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){te(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){te(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=this.ticks.length,s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Oe(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-ir(e.grid)-n.padding-Wm(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=Af(Math.min(Math.asin(Oe((u.highest.height+6)/a,-1,1)),Math.asin(Oe(l/c,-1,1))-Math.asin(Oe(d/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){te(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){te(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Wm(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=ir(r)+l):(e.height=this.maxHeight,e.width=ir(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,p=At(this.labelRotation),g=Math.cos(p),v=Math.sin(p);if(a){const _=i.mirror?0:v*h.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+_+f)}else{const _=i.mirror?0:g*h.width+v*d.height;e.width=Math.min(this.maxWidth,e.width+_+f)}this._calculatePadding(c,u,v,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=s*e.width,f=i*n.height):(d=i*e.height,f=s*n.width):r==="start"?f=n.width:r==="end"?d=e.width:r!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){te(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)G(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Bm(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,n){const{ctx:i,_longestTextCache:s}=this,r=[],o=[];let a=0,l=0,c,u,h,d,f,p,g,v,_,m,y;for(c=0;c<n;++c){if(d=e[c].label,f=this._resolveTickFontOptions(c),i.font=p=f.string,g=s[p]=s[p]||{data:{},gc:[]},v=f.lineHeight,_=m=0,!G(d)&&!ce(d))_=Ol(i,g.data,g.gc,_,d),m=v;else if(ce(d))for(u=0,h=d.length;u<h;++u)y=d[u],!G(y)&&!ce(y)&&(_=Ol(i,g.data,g.gc,_,y),m+=v);r.push(_),o.push(m),a=Math.max(_,a),l=Math.max(m,l)}WN(s,n);const x=r.indexOf(a),w=o.indexOf(l),b=S=>({width:r[S]||0,height:o[S]||0});return{first:b(0),last:b(n-1),widest:b(x),highest:b(w),widths:r,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return TP(this._alignToPixels?ui(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=VN(this.getContext(),e,i))}return this.$context||(this.$context=HN(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=At(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=ir(r),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,v=g/2,_=function(J){return ui(i,J,g)};let m,y,x,w,b,S,C,N,I,L,H,pe;if(o==="top")m=_(this.bottom),S=this.bottom-d,N=m-v,L=_(e.top)+v,pe=e.bottom;else if(o==="bottom")m=_(this.top),L=e.top,pe=_(e.bottom)-v,S=m+v,N=this.top+d;else if(o==="left")m=_(this.right),b=this.right-d,C=m-v,I=_(e.left)+v,H=e.right;else if(o==="right")m=_(this.left),I=e.left,H=_(e.right)-v,b=m+v,C=this.left+d;else if(n==="x"){if(o==="center")m=_((e.top+e.bottom)/2+.5);else if(U(o)){const J=Object.keys(o)[0],re=o[J];m=_(this.chart.scales[J].getPixelForValue(re))}L=e.top,pe=e.bottom,S=m+v,N=S+d}else if(n==="y"){if(o==="center")m=_((e.left+e.right)/2);else if(U(o)){const J=Object.keys(o)[0],re=o[J];m=_(this.chart.scales[J].getPixelForValue(re))}b=m-v,C=b-d,I=e.left,H=e.right}const We=B(s.ticks.maxTicksLimit,h),K=Math.max(1,Math.ceil(h/We));for(y=0;y<h;y+=K){const J=this.getContext(y),re=r.setContext(J),P=a.setContext(J),A=re.lineWidth,z=re.color,ee=P.dash||[],oe=P.dashOffset,Vt=re.tickWidth,ct=re.tickColor,Zt=re.tickBorderDash||[],ut=re.tickBorderDashOffset;x=BN(this,y,l),x!==void 0&&(w=ui(i,x,A),c?b=C=I=H=w:S=N=L=pe=w,f.push({tx1:b,ty1:S,tx2:C,ty2:N,x1:I,y1:L,x2:H,y2:pe,width:A,color:z,borderDash:ee,borderDashOffset:oe,tickWidth:Vt,tickColor:ct,tickBorderDash:Zt,tickBorderDashOffset:ut}))}return this._ticksLength=h,this._borderValue=m,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=ir(i.grid),f=d+u,p=h?-u:f,g=-At(this.labelRotation),v=[];let _,m,y,x,w,b,S,C,N,I,L,H,pe="middle";if(s==="top")b=this.bottom-p,S=this._getXAxisLabelAlignment();else if(s==="bottom")b=this.top+p,S=this._getXAxisLabelAlignment();else if(s==="left"){const K=this._getYAxisLabelAlignment(d);S=K.textAlign,w=K.x}else if(s==="right"){const K=this._getYAxisLabelAlignment(d);S=K.textAlign,w=K.x}else if(n==="x"){if(s==="center")b=(e.top+e.bottom)/2+f;else if(U(s)){const K=Object.keys(s)[0],J=s[K];b=this.chart.scales[K].getPixelForValue(J)+f}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")w=(e.left+e.right)/2-f;else if(U(s)){const K=Object.keys(s)[0],J=s[K];w=this.chart.scales[K].getPixelForValue(J)}S=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?pe="top":l==="end"&&(pe="bottom"));const We=this._getLabelSizes();for(_=0,m=a.length;_<m;++_){y=a[_],x=y.label;const K=r.setContext(this.getContext(_));C=this.getPixelForTick(_)+r.labelOffset,N=this._resolveTickFontOptions(_),I=N.lineHeight,L=ce(x)?x.length:1;const J=L/2,re=K.color,P=K.textStrokeColor,A=K.textStrokeWidth;let z=S;o?(w=C,S==="inner"&&(_===m-1?z=this.options.reverse?"left":"right":_===0?z=this.options.reverse?"right":"left":z="center"),s==="top"?c==="near"||g!==0?H=-L*I+I/2:c==="center"?H=-We.highest.height/2-J*I+I:H=-We.highest.height+I/2:c==="near"||g!==0?H=I/2:c==="center"?H=We.highest.height/2-J*I:H=We.highest.height-L*I,h&&(H*=-1),g!==0&&!K.showLabelBackdrop&&(w+=I/2*Math.sin(g))):(b=C,H=(1-L)*I/2);let ee;if(K.showLabelBackdrop){const oe=qe(K.backdropPadding),Vt=We.heights[_],ct=We.widths[_];let Zt=H-oe.top,ut=0-oe.left;switch(pe){case"middle":Zt-=Vt/2;break;case"bottom":Zt-=Vt;break}switch(S){case"center":ut-=ct/2;break;case"right":ut-=ct;break}ee={left:ut,top:Zt,width:ct+oe.width,height:Vt+oe.height,color:K.backdropColor}}v.push({label:x,font:N,textOffset:H,options:{rotation:g,color:re,strokeColor:P,strokeWidth:A,textAlign:z,textBaseline:pe,translation:[w,b],backdrop:ee}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-At(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=ui(e,this.left,o)-o/2,u=ui(e,this.right,a)+a/2,h=d=l):(h=ui(e,this.top,o)-o/2,d=ui(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&gc(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;zi(i,c,0,u,l,a)}s&&mc(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Pe(i.font),o=qe(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||U(n)?(l+=o.bottom,ce(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=UN(this,l,n,a);zi(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:d,textAlign:jN(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=B(e.grid&&e.grid.z,-1),s=B(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ji.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Pe(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ga{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;GN(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,$N(e,o,i),this.override&&Se.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in Se[s]&&(delete Se[s][i],this.override&&delete Fi[i])}}function $N(t,e,n){const i=po(Object.create(null),[n?Se.get(n):{},Se.get(e),t.defaults]);Se.set(e,i),t.defaultRoutes&&YN(e,t.defaultRoutes),t.descriptors&&Se.describe(e,t.descriptors)}function YN(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Se.route(r,s,l,a)})}function GN(t){return"id"in t&&"defaults"in t}class qN{constructor(){this.controllers=new ga(Bt,"datasets",!0),this.elements=new ga(Ht,"elements"),this.plugins=new ga(Object,"plugins"),this.scales=new ga(ji,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Q(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=Of(e);te(i["before"+s],[],i),n[e](i),te(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Yt=new qN;class KN{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[n,s,r.options];if(te(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){G(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=B(i.options&&i.options.plugins,{}),r=QN(i);return s===!1&&!n?[]:JN(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function QN(t){const e={},n=[],i=Object.keys(Yt.plugins.items);for(let r=0;r<i.length;r++)n.push(Yt.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function XN(t,e){return!e&&t===!1?null:t===!0?{}:t}function JN(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=XN(i[l],s);c!==null&&r.push({plugin:a,options:ZN(t.config,{plugin:a,local:n[l]},c,o)})}return r}function ZN(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Yh(t,e){const n=Se.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function e2(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function t2(t,e){return t===e?"_index_":"_value_"}function n2(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Fl(t,e){if(t==="x"||t==="y"||t==="r"||(t=e.axis||n2(e.position)||t.length>1&&Fl(t[0].toLowerCase(),e),t))return t;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function i2(t,e){const n=Fi[t.type]||{scales:{}},i=e.scales||{},s=Yh(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!U(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Fl(o,a),c=t2(l,s),u=n.scales||{};r[o]=Ir(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Yh(a,e),u=(Fi[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=e2(h,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),Ir(r[f],[{axis:d},i[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Ir(a,[Se.scales[a.type],Se.scale])}),r}function sx(t){const e=t.options||(t.options={});e.plugins=B(e.plugins,{}),e.scales=i2(t,e)}function rx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function s2(t){return t=t||{},t.data=rx(t.data),sx(t),t}const Hm=new Map,ox=new Set;function ma(t,e){let n=Hm.get(t);return n||(n=e(),Hm.set(t,n),ox.add(n)),n}const sr=(t,e,n)=>{const i=ni(e,n);i!==void 0&&t.add(i)};class r2{constructor(e){this._config=s2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=rx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),sx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ma(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ma(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ma(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return ma(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>sr(l,e,h))),u.forEach(h=>sr(l,s,h)),u.forEach(h=>sr(l,Fi[r]||{},h)),u.forEach(h=>sr(l,Se,h)),u.forEach(h=>sr(l,jh,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),ox.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Fi[n]||{},Se.datasets[n]||{},{type:n},Se,jh]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Vm(this._resolverCache,e,s);let l=o;if(a2(o,n)){r.$shared=!1,i=ii(i)?i():i;const c=this.createResolver(e,i,a);l=Rs(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=Vm(this._resolverCache,e,i);return U(n)?Rs(r,n,void 0,s):r}}function Vm(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Bf(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const o2=t=>U(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||ii(t[n]),!1);function a2(t,e){const{isScriptable:n,isIndexable:i}=z1(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(ii(a)||o2(a))||o&&ce(a))return!0}return!1}var l2="4.1.2";const c2=["top","bottom","left","right","chartArea"];function jm(t,e){return t==="top"||t==="bottom"||c2.indexOf(t)===-1&&e==="x"}function Um(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function $m(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),te(n&&n.onComplete,[t],e)}function u2(t){const e=t.chart,n=e.options.animation;te(n&&n.onProgress,[t],e)}function ax(t){return U1()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Fa={},Ym=t=>{const e=ax(t);return Object.values(Fa).filter(n=>n.canvas===e).pop()};function h2(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function d2(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function f2(t){const{xScale:e,yScale:n}=t;if(e&&n)return{left:e.left,right:e.right,top:n.top,bottom:n.bottom}}var Sn;let yc=(Sn=class{static register(...e){Yt.add(...e),Gm()}static unregister(...e){Yt.remove(...e),Gm()}constructor(e,n){const i=this.config=new r2(n),s=ax(e),r=Ym(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||NN(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=mP(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new KN,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=RP(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Fa[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}tn.listen(this,"complete",$m),tn.listen(this,"progress",u2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return G(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Yt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_m(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pm(this.canvas,this.ctx),this}stop(){return tn.stop(this),this}resize(e,n){tn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,_m(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),te(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Q(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Fl(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Q(r,o=>{const a=o.options,l=a.id,c=Fl(l,a),u=B(a.type,o.dtype);(a.position===void 0||jm(a.position,c)!==jm(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=Yt.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),Q(s,(o,a)=>{o||delete i[a]}),Q(i,o=>{Ye.configure(this,o,o.options),Ye.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Um("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Yh(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Yt.getController(a),{datasetElementType:c,dataElementType:u}=Se.datasets[a];Object.assign(l,{dataElementType:Yt.getElement(u),datasetElementType:c&&Yt.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Q(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Q(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Um("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Q(this.scales,e=>{Ye.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!rm(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;h2(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!rm(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ye.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Q(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,ii(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(tn.has(this)?this.attached&&!tn.running(this)&&tn.start(this):(this.draw(),$m({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=f2(e)||this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&gc(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&mc(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return mo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=uN.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=li(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);Mt(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),tn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),pm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Fa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Q(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Q(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Q(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Nl(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),l=bP(e),c=d2(e,this._lastEvent,i,l);i&&(this._lastEvent=null,te(r.onHover,[e,a,this],this),l&&te(r.onClick,[e,a,this],this));const u=!Nl(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},D(Sn,"defaults",Se),D(Sn,"instances",Fa),D(Sn,"overrides",Fi),D(Sn,"registry",Yt),D(Sn,"version",l2),D(Sn,"getChart",Ym),Sn);function Gm(){return Q(yc.instances,t=>t._plugins.invalidate())}function p2(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(r,o,a,i-c,n+c),l>s?(c=s/l,t.arc(r,o,l,n+c,i-c,!0)):t.arc(r,o,s,n+we,i-we),t.closePath(),t.clip()}function g2(t){return zf(t,["outerStart","outerEnd","innerStart","innerEnd"])}function m2(t,e,n,i){const s=g2(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,i*e/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return Oe(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Oe(s.innerStart,0,o),innerEnd:Oe(s.innerEnd,0,o)}}function Gi(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function zl(t,e,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=s-l;if(i){const K=u>0?u-i:0,J=h>0?h-i:0,re=(K+J)/2,P=re!==0?p*re/(re+i):p;f=(p-P)/2}const g=Math.max(.001,p*h-n/fe)/h,v=(p-g)/2,_=l+v+f,m=s-v-f,{outerStart:y,outerEnd:x,innerStart:w,innerEnd:b}=m2(e,d,h,m-_),S=h-y,C=h-x,N=_+y/S,I=m-x/C,L=d+w,H=d+b,pe=_+w/L,We=m-b/H;if(t.beginPath(),r){const K=(N+I)/2;if(t.arc(o,a,h,N,K),t.arc(o,a,h,K,I),x>0){const A=Gi(C,I,o,a);t.arc(A.x,A.y,x,I,m+we)}const J=Gi(H,m,o,a);if(t.lineTo(J.x,J.y),b>0){const A=Gi(H,We,o,a);t.arc(A.x,A.y,b,m+we,We+Math.PI)}const re=(m-b/d+(_+w/d))/2;if(t.arc(o,a,d,m-b/d,re,!0),t.arc(o,a,d,re,_+w/d,!0),w>0){const A=Gi(L,pe,o,a);t.arc(A.x,A.y,w,pe+Math.PI,_-we)}const P=Gi(S,_,o,a);if(t.lineTo(P.x,P.y),y>0){const A=Gi(S,N,o,a);t.arc(A.x,A.y,y,_-we,N)}}else{t.moveTo(o,a);const K=Math.cos(N)*h+o,J=Math.sin(N)*h+a;t.lineTo(K,J);const re=Math.cos(I)*h+o,P=Math.sin(I)*h+a;t.lineTo(re,P)}t.closePath()}function _2(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){zl(t,e,n,i,l,s);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%he||he))}return zl(t,e,n,i,l,s),t.fill(),l}function y2(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h=l.borderAlign==="inner";if(!c)return;h?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let d=e.endAngle;if(r){zl(t,e,n,i,d,s);for(let f=0;f<r;++f)t.stroke();isNaN(a)||(d=o+(a%he||he))}h&&p2(t,e,d),r||(zl(t,e,n,i,d,s),t.stroke())}class za extends Ht{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.getProps(["x","y"],i),{angle:r,distance:o}=M1(s,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=this.options.spacing/2,p=B(h,l-a)>=he||go(r,a,l),g=un(o,c+d,u+d);return p&&g}getCenterPoint(e){const{x:n,y:i,startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:c}=this.options,u=(s+r)/2,h=(o+a+c+l)/2;return{x:n+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,s=(n.offset||0)/4,r=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>he?Math.floor(i/he):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*s,Math.sin(a)*s);const l=1-Math.sin(Math.min(fe,i||0)),c=s*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,_2(e,this,c,r,o),y2(e,this,c,r,o),e.restore()}}D(za,"id","arc"),D(za,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),D(za,"defaultRoutes",{backgroundColor:"backgroundColor"});function lx(t,e,n=e){t.lineCap=B(n.borderCapStyle,e.borderCapStyle),t.setLineDash(B(n.borderDash,e.borderDash)),t.lineDashOffset=B(n.borderDashOffset,e.borderDashOffset),t.lineJoin=B(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=B(n.borderWidth,e.borderWidth),t.strokeStyle=B(n.borderColor,e.borderColor)}function v2(t,e,n){t.lineTo(n.x,n.y)}function x2(t){return t.stepped?UP:t.tension||t.cubicInterpolationMode==="monotone"?$P:v2}function cx(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function w2(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:c}=cx(s,n,i),u=x2(r);let{move:h=!0,reverse:d}=i||{},f,p,g;for(f=0;f<=c;++f)p=s[(a+(d?c-f:f))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):u(t,g,p,d,r.stepped),g=p);return l&&(p=s[(a+(d?c:0))%o],u(t,g,p,d,r.stepped)),!!l}function b2(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=cx(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,p,g,v,_;const m=x=>(o+(c?a-x:x))%r,y=()=>{g!==v&&(t.lineTo(u,v),t.lineTo(u,g),t.lineTo(u,_))};for(l&&(f=s[m(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=s[m(d)],f.skip)continue;const x=f.x,w=f.y,b=x|0;b===p?(w<g?g=w:w>v&&(v=w),u=(h*u+x)/++h):(y(),t.lineTo(x,w),p=b,h=0,g=v=w),_=w}y()}function Gh(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?b2:w2}function S2(t){return t.stepped?SI:t.tension||t.cubicInterpolationMode==="monotone"?CI:yi}function C2(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),lx(t,e.options),t.stroke(s)}function E2(t,e,n,i){const{segments:s,options:r}=e,o=Gh(e);for(const a of s)lx(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const k2=typeof Path2D=="function";function M2(t,e,n,i){k2&&!e.options.segment?C2(t,e,n,i):E2(t,e,n,i)}class On extends Ht{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;gI(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=II(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=K1(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=S2(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=r[h],p=r[d];if(f===p){a.push(f);continue}const g=Math.abs((s-f[n])/(p[n]-f[n])),v=l(f,p,g,i.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Gh(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=Gh(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),M2(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}D(On,"id","line"),D(On,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),D(On,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),D(On,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function qm(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class Ba extends Ht{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return qm(this,e,"x",n)}inYRange(e,n){return qm(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!mo(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Uh(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}D(Ba,"id","point"),D(Ba,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),D(Ba,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ux(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=r/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function An(t,e,n,i){return t?0:Oe(e,n,i)}function T2(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=F1(i);return{t:An(s.top,r.top,0,n),r:An(s.right,r.right,0,e),b:An(s.bottom,r.bottom,0,n),l:An(s.left,r.left,0,e)}}function P2(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=ki(s),o=Math.min(e,n),a=t.borderSkipped,l=i||U(s);return{topLeft:An(!l||a.top||a.left,r.topLeft,0,o),topRight:An(!l||a.top||a.right,r.topRight,0,o),bottomLeft:An(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:An(!l||a.bottom||a.right,r.bottomRight,0,o)}}function I2(t){const e=ux(t),n=e.right-e.left,i=e.bottom-e.top,s=T2(t,n/2,i/2),r=P2(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function pu(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&ux(t,i);return a&&(s||un(e,a.left,a.right))&&(r||un(n,a.top,a.bottom))}function N2(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function R2(t,e){t.rect(e.x,e.y,e.w,e.h)}function gu(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class Wa extends Ht{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=I2(this),a=N2(o.radius)?_o:R2;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,gu(o,n,r)),e.clip(),a(e,gu(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,gu(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return pu(this,e,n,i)}inXRange(e,n){return pu(this,e,null,n)}inYRange(e,n){return pu(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}D(Wa,"id","bar"),D(Wa,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),D(Wa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var D2=Object.freeze({__proto__:null,ArcElement:za,LineElement:On,PointElement:Ba,BarElement:Wa});const qh=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Km=qh.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function hx(t){return qh[t%qh.length]}function dx(t){return Km[t%Km.length]}function O2(t,e){return t.borderColor=hx(e),t.backgroundColor=dx(e),++e}function A2(t,e){return t.backgroundColor=t.data.map(()=>hx(e++)),e}function L2(t,e){return t.backgroundColor=t.data.map(()=>dx(e++)),e}function F2(t){let e=0;return(n,i)=>{const s=t.getDatasetMeta(i).controller;s instanceof Dn?e=A2(n,e):s instanceof Ar?e=L2(n,e):s&&(e=O2(n,e))}}function Qm(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var z2={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{options:{elements:i},data:{datasets:s}}=t.config;if(!n.forceOverride&&(Qm(s)||i&&Qm(i)))return;const r=F2(t);s.forEach(r)}};function B2(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const c=e+n-1;let u=e,h,d,f,p,g;for(o[l++]=t[u],h=0;h<r-2;h++){let v=0,_=0,m;const y=Math.floor((h+1)*a)+1+e,x=Math.min(Math.floor((h+2)*a)+1,n)+e,w=x-y;for(m=y;m<x;m++)v+=t[m].x,_+=t[m].y;v/=w,_/=w;const b=Math.floor(h*a)+1+e,S=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:C,y:N}=t[u];for(f=p=-1,m=b;m<S;m++)p=.5*Math.abs((C-v)*(t[m].y-N)-(C-t[m].x)*(_-N)),p>f&&(f=p,d=t[m],g=m);o[l++]=d,u=g}return o[l++]=t[c],o}function W2(t,e,n,i){let s=0,r=0,o,a,l,c,u,h,d,f,p,g;const v=[],_=e+n-1,m=t[e].x,x=t[_].x-m;for(o=e;o<e+n;++o){a=t[o],l=(a.x-m)/x*i,c=a.y;const w=l|0;if(w===u)c<p?(p=c,h=o):c>g&&(g=c,d=o),s=(r*s+a.x)/++r;else{const b=o-1;if(!G(h)&&!G(d)){const S=Math.min(h,d),C=Math.max(h,d);S!==f&&S!==b&&v.push({...t[S],x:s}),C!==f&&C!==b&&v.push({...t[C],x:s})}o>0&&b!==f&&v.push(t[b]),v.push(a),u=w,r=0,p=g=c,h=d=f=o}}return v}function fx(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function Xm(t){t.data.datasets.forEach(e=>{fx(e)})}function H2(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=Oe(hn(e,r.axis,o).lo,0,n-1)),c?s=Oe(hn(e,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var V2={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Xm(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=t.getDatasetMeta(r),c=o||s.data;if(fr([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:d}=H2(l,c);const f=n.threshold||4*i;if(d<=f){fx(s);return}G(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=B2(c,h,d,i,n);break;case"min-max":p=W2(c,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(t){Xm(t)}};function j2(t,e,n){const i=t.segments,s=t.points,r=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Uf(l,c,s);const u=Kh(n,s[l],s[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=K1(e,u);for(const d of h){const f=Kh(n,r[d.start],r[d.end],d.loop),p=q1(a,s,f);for(const g of p)o.push({source:g,target:d,start:{[n]:Jm(u,f,"start",Math.max)},end:{[n]:Jm(u,f,"end",Math.min)}})}}return o}function Kh(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=ft(s),r=ft(r)),{property:t,start:s,end:r}}function U2(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=Uf(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function Uf(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Jm(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function px(t,e){let n=[],i=!1;return ce(t)?(i=!0,n=t):n=U2(t,e),n.length?new On({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Zm(t){return t&&t.fill!==!1}function $2(t,e,n){let s=t[e].fill;const r=[e];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!xe(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function Y2(t,e,n){const i=Q2(t);if(U(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return xe(s)&&Math.floor(s)===s?G2(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function G2(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function q2(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:U(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function K2(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:U(t)?i=t.value:i=e.getBaseValue(),i}function Q2(t){const e=t.options,n=e.fill;let i=B(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function X2(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,o=i.points,a=J2(e,n);a.push(px({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)Z2(s,o[u],a)}return new On({points:s,options:{}})}function J2(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function Z2(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=eR(r,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function eR(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],d=o[u.end][n];if(un(s,h,d)){a=s===h,l=s===d;break}}return{first:a,last:l,point:i}}class gx{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:he},e.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function tR(t){const{chart:e,fill:n,line:i}=t;if(xe(n))return nR(e,n);if(n==="stack")return X2(t);if(n==="shape")return!0;const s=iR(t);return s instanceof gx?s:px(s,i)}function nR(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function iR(t){return(t.scale||{}).getPointPositionForValue?rR(t):sR(t)}function sR(t){const{scale:e={},fill:n}=t,i=q2(n,e);if(xe(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function rR(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=K2(n,e,r),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,r);return new gx({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function mu(t,e,n){const i=tR(e),{line:s,scale:r,axis:o}=e,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&s.points.length&&(gc(t,n),oR(t,{line:s,target:i,above:u,below:h,area:n,scale:r,axis:o}),mc(t))}function oR(t,e){const{line:n,target:i,above:s,below:r,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&r!==s&&(e_(t,i,o.top),t_(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore(),t.save(),e_(t,i,o.bottom)),t_(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore()}function e_(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[Uf(l,c,s)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function t_(t,e){const{line:n,target:i,property:s,color:r,scale:o}=e,a=j2(n,i,s);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:d=r}={}}=l,f=i!==!0;t.save(),t.fillStyle=d,aR(t,o,f&&Kh(s,u,h)),t.beginPath();const p=!!n.pathSegment(t,l);let g;if(f){p?t.closePath():n_(t,i,h,s);const v=!!i.pathSegment(t,c,{move:p,reverse:!0});g=p&&v,g||n_(t,i,u,s)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function aR(t,e,n){const{top:i,bottom:s}=e.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(t.beginPath(),t.rect(o,i,a-o,s-i),t.clip())}function n_(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var lR={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof On&&(l={visible:t.isDatasetVisible(o),index:o,fill:Y2(a,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=$2(s,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&mu(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;Zm(r)&&mu(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!Zm(i)||n.drawTime!=="beforeDatasetDraw"||mu(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const i_=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},cR=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class s_ extends Ht{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=te(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Pe(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=i_(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=e;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,g)=>{const v=i+n/2+r.measureText(p.text).width;(g===0||c[c.length-1]+v+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:v,height:s},c[c.length-1]+=v+a}),h}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,p=0,g=0;return this.legendItems.forEach((v,_)=>{const{itemWidth:m,itemHeight:y}=uR(i,n,r,v,s);_>0&&f+y+2*a>u&&(h+=d+a,c.push({width:d,height:f}),p+=d+a,g++,d=f=0),l[_]={left:p,top:f,col:g,width:m,height:y},d=Math.max(d,m),f+=y+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=ys(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=je(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=je(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=je(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=je(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;gc(e,this),this._draw(),mc(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=Se.color,l=ys(e.rtl,this.left,this.width),c=Pe(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:v}=i_(o,h),_=function(b,S,C){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();const N=B(C.lineWidth,1);if(s.fillStyle=B(C.fillStyle,a),s.lineCap=B(C.lineCap,"butt"),s.lineDashOffset=B(C.lineDashOffset,0),s.lineJoin=B(C.lineJoin,"miter"),s.lineWidth=N,s.strokeStyle=B(C.strokeStyle,a),s.setLineDash(B(C.lineDash,[])),o.usePointStyle){const I={radius:g*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:N},L=l.xPlus(b,p/2),H=S+d;L1(s,I,L,H,o.pointStyleWidth&&p)}else{const I=S+Math.max((h-g)/2,0),L=l.leftForLtr(b,p),H=ki(C.borderRadius);s.beginPath(),Object.values(H).some(pe=>pe!==0)?_o(s,{x:L,y:I,w:p,h:g,radius:H}):s.rect(L,I,p,g),s.fill(),N!==0&&s.stroke()}s.restore()},m=function(b,S,C){zi(s,C.text,b,S+v/2,c,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},y=this.isHorizontal(),x=this._computeTitleHeight();y?f={x:je(r,this.left+u,this.right-i[0]),y:this.top+u+x,line:0}:f={x:this.left+u,y:je(r,this.top+x+u,this.bottom-n[0].height),line:0},$1(this.ctx,e.textDirection);const w=v+u;this.legendItems.forEach((b,S)=>{s.strokeStyle=b.fontColor,s.fillStyle=b.fontColor;const C=s.measureText(b.text).width,N=l.textAlign(b.textAlign||(b.textAlign=o.textAlign)),I=p+d+C;let L=f.x,H=f.y;l.setWidth(this.width),y?S>0&&L+I+u>this.right&&(H=f.y+=w,f.line++,L=f.x=je(r,this.left+u,this.right-i[f.line])):S>0&&H+w>this.bottom&&(L=f.x=L+n[f.line].width+u,f.line++,H=f.y=je(r,this.top+x+u,this.bottom-n[f.line].height));const pe=l.x(L);if(_(pe,H,b),L=DP(N,L+p+d,y?L+I:this.right,e.rtl),m(l.x(L),H,b),y)f.x+=I+u;else if(typeof b.text!="string"){const We=c.lineHeight;f.y+=mx(b,We)}else f.y+=w}),Y1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Pe(n.font),s=qe(n.padding);if(!n.display)return;const r=ys(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=je(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);u=c+je(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=je(a,h,h+d);o.textAlign=r.textAlign(Ff(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,zi(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=Pe(e.font),i=qe(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(un(e,this.left,this.right)&&un(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],un(e,s.left,s.left+s.width)&&un(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!fR(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=cR(s,i);s&&!r&&te(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&te(n.onHover,[e,i,this],this)}else i&&te(n.onClick,[e,i,this],this)}}function uR(t,e,n,i,s){const r=hR(i,t,e,n),o=dR(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function hR(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function dR(t,e,n){let i=t;return typeof e.text!="string"&&(i=mx(e,n)),i}function mx(t,e){const n=t.text?t.text.length+.5:0;return e*n}function fR(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var pR={id:"legend",_element:s_,start(t,e,n){const i=t.legend=new s_({ctx:t.ctx,options:n,chart:t});Ye.configure(t,i,n),Ye.addBox(t,i)},stop(t){Ye.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Ye.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=qe(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class $f extends Ht{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=ce(i.text)?i.text.length:1;this._padding=qe(i.padding);const r=s*Pe(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=je(a,i,r),h=n+e,c=r-i):(o.position==="left"?(u=i+e,h=je(a,s,n),l=fe*-.5):(u=r-e,h=je(a,n,s),l=fe*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Pe(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);zi(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Ff(n.align),textBaseline:"middle",translation:[o,a]})}}function gR(t,e){const n=new $f({ctx:t.ctx,options:e,chart:t});Ye.configure(t,n,e),Ye.addBox(t,n),t.titleBlock=n}var mR={id:"title",_element:$f,start(t,e,n){gR(t,n)},stop(t){const e=t.titleBlock;Ye.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Ye.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _a=new WeakMap;var _R={id:"subtitle",start(t,e,n){const i=new $f({ctx:t.ctx,options:n,chart:t});Ye.configure(t,i,n),Ye.addBox(t,i),_a.set(t,i)},stop(t){Ye.removeBox(t,_a.get(t)),_a.delete(t)},beforeUpdate(t,e,n){const i=_a.get(t);Ye.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gr={average(t){if(!t.length)return!1;let e,n,i=0,s=0,r=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Vh(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Ut(t,e){return e&&(ce(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function nn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function yR(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function r_(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=Pe(e.bodyFont),c=Pe(e.titleFont),u=Pe(e.footerFont),h=r.length,d=s.length,f=i.length,p=qe(e.padding);let g=p.height,v=0,_=i.reduce((x,w)=>x+w.before.length+w.lines.length+w.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),_){const x=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*x+(_-f)*l.lineHeight+(_-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let m=0;const y=function(x){v=Math.max(v,n.measureText(x).width+m)};return n.save(),n.font=c.string,Q(t.title,y),n.font=l.string,Q(t.beforeBody.concat(t.afterBody),y),m=e.displayColors?o+2+e.boxPadding:0,Q(i,x=>{Q(x.before,y),Q(x.lines,y),Q(x.after,y)}),m=0,n.font=u.string,Q(t.footer,y),n.restore(),v+=p.width,{width:v,height:g}}function vR(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function xR(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function wR(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),xR(c,t,e,n)&&(c="center"),c}function o_(t,e,n){const i=n.yAlign||e.yAlign||vR(t,n);return{xAlign:n.xAlign||e.xAlign||wR(t,e,n,i),yAlign:i}}function bR(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function SR(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function a_(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=ki(o);let p=bR(e,a);const g=SR(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+s:a==="right"&&(p+=Math.max(h,f)+s),{x:Oe(p,0,i.width-e.width),y:Oe(g,0,i.height-e.height)}}function ya(t,e,n){const i=qe(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function l_(t){return Ut([],nn(t))}function CR(t,e,n){return li(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function c_(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const _x={beforeTitle:en,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:en,beforeBody:en,beforeLabel:en,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return G(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:en,afterBody:en,beforeFooter:en,footer:en,afterFooter:en};function et(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?_x[e].call(n,i):s}class Qh extends Ht{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new Q1(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=CR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=et(i,"beforeTitle",this,e),r=et(i,"title",this,e),o=et(i,"afterTitle",this,e);let a=[];return a=Ut(a,nn(s)),a=Ut(a,nn(r)),a=Ut(a,nn(o)),a}getBeforeBody(e,n){return l_(et(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Q(e,r=>{const o={before:[],lines:[],after:[]},a=c_(i,r);Ut(o.before,nn(et(a,"beforeLabel",this,r))),Ut(o.lines,et(a,"label",this,r)),Ut(o.after,nn(et(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return l_(et(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=et(i,"beforeFooter",this,e),r=et(i,"footer",this,e),o=et(i,"afterFooter",this,e);let a=[];return a=Ut(a,nn(s)),a=Ut(a,nn(r)),a=Ut(a,nn(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(yR(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),Q(a,u=>{const h=c_(e.callbacks,u);s.push(et(h,"labelColor",this,u)),r.push(et(h,"labelPointStyle",this,u)),o.push(et(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=gr[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=r_(this,i),c=Object.assign({},a,l),u=o_(this.chart,i,c),h=a_(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=ki(a),{x:d,y:f}=e,{width:p,height:g}=n;let v,_,m,y,x,w;return r==="center"?(x=f+g/2,s==="left"?(v=d,_=v-o,y=x+o,w=x-o):(v=d+p,_=v+o,y=x-o,w=x+o),m=v):(s==="left"?_=d+Math.max(l,u)+o:s==="right"?_=d+p-Math.max(c,h)-o:_=this.caretX,r==="top"?(y=f,x=y-o,v=_-o,m=_+o):(y=f+g,x=y+o,v=_+o,m=_-o),w=y),{x1:v,x2:_,x3:m,y1:y,y2:x,y3:w}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=ys(i.rtl,this.x,this.width);for(e.x=ya(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=Pe(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:u}=r,h=Pe(r.bodyFont),d=ya(this,"left",r),f=s.x(d),p=l<h.lineHeight?(h.lineHeight-l)/2:0,g=n.y+p;if(r.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=s.leftForLtr(f,c)+c/2,m=g+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Uh(e,v,_,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Uh(e,v,_,m)}else{e.lineWidth=U(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=s.leftForLtr(f,c-u),_=s.leftForLtr(s.xPlus(f,1),c-u-2),m=ki(o.borderRadius);Object.values(m).some(y=>y!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,_o(e,{x:v,y:g,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),_o(e,{x:_,y:g+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(v,g,c,l),e.strokeRect(v,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(_,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=Pe(i.bodyFont);let d=h.lineHeight,f=0;const p=ys(i.rtl,this.x,this.width),g=function(C){n.fillText(C,p.x(e.x+f),e.y+d/2),e.y+=d+r},v=p.textAlign(o);let _,m,y,x,w,b,S;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=ya(this,v,i),n.fillStyle=i.bodyColor,Q(this.beforeBody,g),f=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,x=0,b=s.length;x<b;++x){for(_=s[x],m=this.labelTextColors[x],n.fillStyle=m,Q(_.before,g),y=_.lines,a&&y.length&&(this._drawColorBox(n,e,x,p,i),d=Math.max(h.lineHeight,l)),w=0,S=y.length;w<S;++w)g(y[w]),d=h.lineHeight;Q(_.after,g)}f=0,d=h.lineHeight,Q(this.afterBody,g),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=ys(i.rtl,this.x,this.width);for(e.x=ya(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Pe(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=ki(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=gr[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=r_(this,e),l=Object.assign({},o,this._size),c=o_(n,e,l),u=a_(e,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=qe(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),$1(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),Y1(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Nl(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),l=n||!Nl(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n;const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=gr[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}D(Qh,"positioners",gr);var ER={id:"tooltip",_element:Qh,positioners:gr,afterInit(t,e,n){n&&(t.tooltip=new Qh({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_x},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},kR=Object.freeze({__proto__:null,Colors:z2,Decimation:V2,Filler:lR,Legend:pR,SubTitle:_R,Title:mR,Tooltip:ER});const MR=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function TR(t,e,n,i){const s=t.indexOf(e);if(s===-1)return MR(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const PR=(t,e)=>t===null?null:Oe(Math.round(t),0,e);function u_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Xh extends ji{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(G(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:TR(i,e,B(n,e),this._addedLabels),PR(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return u_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}D(Xh,"id","category"),D(Xh,"defaults",{ticks:{callback:u_}});function IR(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=r||1,p=u-1,{min:g,max:v}=e,_=!G(o),m=!G(a),y=!G(c),x=(v-g)/(h+1);let w=am((v-g)/p/f)*f,b,S,C,N;if(w<1e-14&&!_&&!m)return[{value:g},{value:v}];N=Math.ceil(v/w)-Math.floor(g/w),N>p&&(w=am(N*w/p/f)*f),G(l)||(b=Math.pow(10,l),w=Math.ceil(w*b)/b),s==="ticks"?(S=Math.floor(g/w)*w,C=Math.ceil(v/w)*w):(S=g,C=v),_&&m&&r&&kP((a-o)/r,w/1e3)?(N=Math.round(Math.min((a-o)/w,u)),w=(a-o)/N,S=o,C=a):y?(S=_?o:S,C=m?a:C,N=c-1,w=(C-S)/N):(N=(C-S)/w,Nr(N,Math.round(N),w/1e3)?N=Math.round(N):N=Math.ceil(N));const I=Math.max(lm(w),lm(S));b=Math.pow(10,G(l)?I:l),S=Math.round(S*b)/b,C=Math.round(C*b)/b;let L=0;for(_&&(d&&S!==o?(n.push({value:o}),S<o&&L++,Nr(Math.round((S+L*w)*b)/b,o,h_(o,x,t))&&L++):S<o&&L++);L<N;++L)n.push({value:Math.round((S+L*w)*b)/b});return m&&d&&C!==a?n.length&&Nr(n[n.length-1].value,a,h_(a,x,t))?n[n.length-1].value=a:n.push({value:a}):(!m||C===a)&&n.push({value:C}),n}function h_(t,e,{horizontal:n,minRotation:i}){const s=At(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Bl extends ji{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return G(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(e){const l=Xt(s),c=Xt(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=IR(s,r);return e.bounds==="ticks"&&k1(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Bo(e,this.chart.options.locale,this.options.ticks.format)}}class Jh extends Bl{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=xe(e)?e:0,this.max=xe(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=At(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}D(Jh,"id","linear"),D(Jh,"defaults",{ticks:{callback:pc.formatters.numeric}});const vo=t=>Math.floor(Rn(t)),di=(t,e)=>Math.pow(10,vo(t)+e);function d_(t){return t/Math.pow(10,vo(t))===1}function f_(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function NR(t,e){const n=e-t;let i=vo(n);for(;f_(t,e,i)>10;)i++;for(;f_(t,e,i)<10;)i--;return Math.min(i,vo(t))}function RR(t,{min:e,max:n}){e=ht(t.min,e);const i=[],s=vo(e);let r=NR(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),d=ht(t.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;d<n;)i.push({value:d,major:d_(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),d=Math.round((l+u+h*Math.pow(10,r))*o)/o;const f=ht(t.max,d);return i.push({value:f,major:d_(f),significand:h}),i}class Zh extends ji{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=Bl.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return xe(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=xe(e)?Math.max(0,e):null,this.max=xe(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xe(this._userMin)&&(this.min=e===di(this.min,0)?di(this.min,-1):di(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=e?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(di(i,-1)),o(di(s,1)))),i<=0&&r(di(s,-1)),s<=0&&o(di(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=RR(n,this);return e.bounds==="ticks"&&k1(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Bo(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Rn(e),this._valueRange=Rn(this.max)-Rn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Rn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}D(Zh,"id","logarithmic"),D(Zh,"defaults",{ticks:{callback:pc.formatters.logarithmic,major:{enabled:!0}}});function ed(t){const e=t.ticks;if(e.display&&t.display){const n=qe(e.backdropPadding);return B(e.font&&e.font.size,Se.font.size)+n.height}return 0}function DR(t,e,n){return n=ce(n)?n:[n],{w:jP(t,e.string,n),h:n.length*e.lineHeight}}function p_(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function OR(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?fe/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));s[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+s[l],a),h=Pe(c.font),d=DR(t.ctx,h,t._pointLabels[l]);i[l]=d;const f=ft(t.getIndexAngle(l)+a),p=Math.round(Af(f)),g=p_(p,u.x,d.w,0,180),v=p_(p,u.y,d.h,90,270);AR(n,e,f,g,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=LR(t,i,s)}function AR(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function LR(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,o=ed(r)/2,a=t.drawingArea,l=r.pointLabels.centerPointLabels?fe/s:0;for(let c=0;c<s;c++){const u=t.getPointPosition(c,a+o+n[c],l),h=Math.round(Af(ft(u.angle+we))),d=e[c],f=BR(u.y,d.h,h),p=FR(h),g=zR(u.x,d.w,p);i.push({x:u.x,y:f,textAlign:p,left:g,top:f,right:g+d.w,bottom:f+d.h})}return i}function FR(t){return t===0||t===180?"center":t<180?"left":"right"}function zR(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function BR(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function WR(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=i.setContext(t.getPointLabelContext(s)),o=Pe(r.font),{x:a,y:l,textAlign:c,left:u,top:h,right:d,bottom:f}=t._pointLabelItems[s],{backdropColor:p}=r;if(!G(p)){const g=ki(r.borderRadius),v=qe(r.backdropPadding);n.fillStyle=p;const _=u-v.left,m=h-v.top,y=d-u+v.width,x=f-h+v.height;Object.values(g).some(w=>w!==0)?(n.beginPath(),_o(n,{x:_,y:m,w:y,h:x,radius:g}),n.fill()):n.fillRect(_,m,y,x)}zi(n,t._pointLabels[s],a,l+o.lineHeight/2,o,{color:r.color,textAlign:c,textBaseline:"middle"})}}function yx(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,he);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function HR(t,e,n,i,s){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),yx(t,n,o,i),r.closePath(),r.stroke(),r.restore())}function VR(t,e,n){return li(t,{label:n,index:e,type:"pointLabel"})}class mr extends Bl{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=qe(ed(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=xe(e)&&!isNaN(e)?e:0,this.max=xe(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ed(this.options))}generateTickLabels(e){Bl.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=te(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?OR(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=he/(this._pointLabels.length||1),i=this.options.startAngle||0;return ft(e*n+At(i))}getDistanceFromCenterForValue(e){if(G(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(G(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return VR(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-we+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),yx(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&WR(this,o),s.display&&this.ticks.forEach((u,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=s.setContext(d),p=r.setContext(d);HR(this,f,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(e.lineWidth=d,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=Pe(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=qe(c.backdropPadding);e.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}zi(e,a.label,0,-r,u,{color:c.color})}),e.restore()}drawTitle(){}}D(mr,"id","radialLinear"),D(mr,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),D(mr,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),D(mr,"descriptors",{angleLines:{_fallback:"grid"}});const vc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nt=Object.keys(vc);function jR(t,e){return t-e}function g_(t,e){if(G(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),xe(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Ns(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function m_(t,e,n,i){const s=nt.length;for(let r=nt.indexOf(t);r<s-1;++r){const o=vc[nt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return nt[r]}return nt[s-1]}function UR(t,e,n,i,s){for(let r=nt.length-1;r>=nt.indexOf(n);r--){const o=nt[r];if(vc[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return nt[n?nt.indexOf(n):0]}function $R(t){for(let e=nt.indexOf(t)+1,n=nt.length;e<n;++e)if(vc[nt[e]].common)return nt[e]}function __(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=Lf(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function YR(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function y_(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:YR(t,i,s,n)}class xo extends ji{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new rN._date(e.adapters.date);s.init(n),Ir(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:g_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=xe(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=xe(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=IP(s,r,o);return this._unit=n.unit||(i.autoSkip?m_(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):UR(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:$R(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),y_(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Oe(n,0,o),i=Oe(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||m_(r.minUnit,n,i,this._getLabelCapacity(n)),a=B(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Ns(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,a,o),f++)__(u,d,p);return(d===i||s.bounds==="ticks"||f===1)&&__(u,d,p),Object.keys(u).sort((g,v)=>g-v).map(g=>+g)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return te(o,[e,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(e,s||(f?h:u))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=At(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,y_(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(g_(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return P1(e.sort(jR))}}D(xo,"id","time"),D(xo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function va(t,e,n){let i=0,s=t.length-1,r,o,a,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=hn(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=hn(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[s]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class td extends xo{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=va(n,this.min),this._tableRange=va(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(va(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return va(this._table,i*this._tableRange+this._minPos,!0)}}D(td,"id","timeseries"),D(td,"defaults",xo.defaults);var GR=Object.freeze({__proto__:null,CategoryScale:Xh,LinearScale:Jh,LogarithmicScale:Zh,RadialLinearScale:mr,TimeScale:xo,TimeSeriesScale:td});const qR=[sN,D2,kR,GR],vx="label";function v_(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function KR(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function xx(t,e){t.labels=e}function wx(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vx;const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function QR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vx;const n={labels:[],datasets:[]};return xx(n,t.labels),wx(n,t.datasets,e),n}function XR(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...d}=t,f=T.useRef(null),p=T.useRef(),g=()=>{f.current&&(p.current=new yc(f.current,{type:o,data:QR(a,r),options:l&&{...l},plugins:c}),v_(e,p.current))},v=()=>{v_(e,null),p.current&&(p.current.destroy(),p.current=null)};return T.useEffect(()=>{!s&&p.current&&l&&KR(p.current,l)},[s,l]),T.useEffect(()=>{!s&&p.current&&xx(p.current.config.data,a.labels)},[s,a.labels]),T.useEffect(()=>{!s&&p.current&&a.datasets&&wx(p.current.config.data,a.datasets,r)},[s,a.datasets]),T.useEffect(()=>{p.current&&(s?(v(),setTimeout(g)):p.current.update(h))},[s,l,a.labels,a.datasets,h]),T.useEffect(()=>{p.current&&(v(),setTimeout(g))},[o]),T.useEffect(()=>(g(),()=>v()),[]),qt.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:i},d),u)}const JR=T.forwardRef(XR);function bx(t,e){return yc.register(e),T.forwardRef((n,i)=>qt.createElement(JR,Object.assign({},n,{ref:i,type:t})))}const Sx=bx("line",Or),ZR=bx("doughnut",Dn);function _u(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,i=t.formats[n]||t.formats[t.defaultWidth];return i}}function rr(t){return function(e,n){var i=n!=null&&n.context?String(n.context):"standalone",s;if(i==="formatting"&&t.formattingValues){var r=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):r;s=t.formattingValues[o]||t.formattingValues[r]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return s[c]}}function or(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.width,s=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],r=e.match(s);if(!r)return null;var o=r[0],a=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?tD(a,function(h){return h.test(o)}):eD(a,function(h){return h.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(o.length);return{value:c,rest:u}}}function eD(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function tD(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function nD(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.match(t.matchPattern);if(!i)return null;var s=i[0],r=e.match(t.parsePattern);if(!r)return null;var o=t.valueCallback?t.valueCallback(r[0]):r[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(s.length);return{value:o,rest:a}}}var iD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sD=function(e,n,i){var s,r=iD[e];return typeof r=="string"?s=r:n===1?s=r.one:s=r.other.replace("{{count}}",n.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+s:s+" ago":s};const rD=sD;var oD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aD={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cD={date:_u({formats:oD,defaultWidth:"full"}),time:_u({formats:aD,defaultWidth:"full"}),dateTime:_u({formats:lD,defaultWidth:"full"})};const uD=cD;var hD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dD=function(e,n,i,s){return hD[e]};const fD=dD;var pD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_D={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xD=function(e,n){var i=Number(e),s=i%100;if(s>20||s<10)switch(s%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},wD={ordinalNumber:xD,era:rr({values:pD,defaultWidth:"wide"}),quarter:rr({values:gD,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:rr({values:mD,defaultWidth:"wide"}),day:rr({values:_D,defaultWidth:"wide"}),dayPeriod:rr({values:yD,defaultWidth:"wide",formattingValues:vD,defaultFormattingWidth:"wide"})};const bD=wD;var SD=/^(\d+)(th|st|nd|rd)?/i,CD=/\d+/i,ED={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kD={any:[/^b/i,/^(a|c)/i]},MD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},TD={any:[/1/i,/2/i,/3/i,/4/i]},PD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ID={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ND={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},RD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},AD={ordinalNumber:nD({matchPattern:SD,parsePattern:CD,valueCallback:function(e){return parseInt(e,10)}}),era:or({matchPatterns:ED,defaultMatchWidth:"wide",parsePatterns:kD,defaultParseWidth:"any"}),quarter:or({matchPatterns:MD,defaultMatchWidth:"wide",parsePatterns:TD,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:or({matchPatterns:PD,defaultMatchWidth:"wide",parsePatterns:ID,defaultParseWidth:"any"}),day:or({matchPatterns:ND,defaultMatchWidth:"wide",parsePatterns:RD,defaultParseWidth:"any"}),dayPeriod:or({matchPatterns:DD,defaultMatchWidth:"any",parsePatterns:OD,defaultParseWidth:"any"})};const LD=AD;var FD={code:"en-US",formatDistance:rD,formatLong:uD,formatRelative:fD,localize:bD,match:LD,options:{weekStartsOn:0,firstWeekContainsDate:1}};const zD=FD;let BD={datasets:[{data:[{x:"2016-2-11",y:0},{x:"2016-1-11",y:0},{x:"2016-1-11",y:0}]}]};const WD={scales:{y:{title:{display:!0,text:"Weight in lbs"}},x:{display:!1,adapters:{date:{locale:zD},type:"time",distribution:"linear",time:{parser:"yyyy-MM-dd",unit:"month"},title:{display:!0,text:"Date"}}}},responsive:!0,plugins:{legend:{display:!1}}};function HD(){function t(i){let s=[];if(!i||!e.current)return;for(let o in i){const a=i[o];for(let l in a){const c=a[l];for(let u in c){const h={x:`${l[3]+l[4]}-${o} ${u[0]+u[1]}:${c[u].MINUTOS}`,y:c[u].VALOR};s.push(h)}}}const r=e.current;r.data.datasets[0].data=s,r.update()}const e=T.useRef(),n=Lo(Fo,"/VAZAMENTO/");return function(){If(n,i=>{const s=i.val()||"";t(s)})}(),E(Sx,{ref:e,data:BD,options:WD})}var Cx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},x_=qt.createContext&&qt.createContext(Cx),Qn=globalThis&&globalThis.__assign||function(){return Qn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Qn.apply(this,arguments)},VD=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function Ex(t){return t&&t.map(function(e,n){return qt.createElement(e.tag,Qn({key:n},e.attr),Ex(e.child))})}function wn(t){return function(e){return qt.createElement(jD,Qn({attr:Qn({},t.attr)},e),Ex(t.child))}}function jD(t){var e=function(n){var i=t.attr,s=t.size,r=t.title,o=VD(t,["attr","size","title"]),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),qt.createElement("svg",Qn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:l,style:Qn(Qn({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),r&&qt.createElement("title",null,r),t.children)};return x_!==void 0?qt.createElement(x_.Consumer,null,function(n){return e(n)}):e(Cx)}function UD(t){return wn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"}}]})(t)}function $D(t){return wn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13 3a9 9 0 00-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0013 21a9 9 0 000-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}}]})(t)}function YD(t){return wn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 3a9 9 0 109 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 01-4.4 2.26 5.403 5.403 0 01-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"}}]})(t)}function GD(t){return wn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 000-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"}}]})(t)}function qD(t){return wn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(t)}function KD(t){return wn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}}]})(t)}function QD(t){return wn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}}]})(t)}function XD(t){return wn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}}]})(t)}const JD="https://jaderadriel.github.io/toxic-gas-monitoring/dist/assets/logo-d0892f41.svg";function ZD(){function t(){document.querySelector(".main-aside").classList.add("hide")}return O("div",{className:"top",children:[O("div",{className:"logo",children:[E("img",{src:JD,alt:"logo",className:"media"}),O("h2",{children:[E("span",{className:"primary",children:"GAS"}),"LEAK"]})]}),E(qD,{className:"close",id:"close-btn",onClick:()=>t()})]})}function Yf({active:t}){const e=[{label:"Painel",path:"/dashboard",icon:E(UD,{className:"sidebar__item__icon"})},{label:"Historico",path:"/reports",icon:E($D,{className:"sidebar__item__icon"})}],n=i=>{if(t===i)return"active"};return O("aside",{className:"main-aside ",children:[E(ZD,{}),E("div",{className:"sidebar",children:e.map(({label:i,path:s,icon:r},o)=>O(oC,{className:`sidebar__item ${n(s)}`,to:s,children:[r,O("h3",{className:"sidebar__item__label",children:[" ",i," "]})]},o))})]})}function eO(){const t=["light_mode","dark_mode"],e=()=>{const r=localStorage.getItem("theme_mode");if(!t.includes(r)){n("dark_mode");return}n(r)},n=r=>{const o=document.querySelector("#light-btn"),a=document.querySelector("#dark-btn");r==="dark_mode"?(a.classList.add("active"),o.classList.remove("active")):(o.classList.add("active"),a.classList.remove("active")),t.includes(r)&&(document.body.setAttribute("data-theme",r),i(r))},i=r=>{localStorage.setItem("theme_mode",r)};T.useEffect(()=>{e()});function s(r){n(r)}return O("div",{className:"theme-toggler",children:[E(GD,{className:"toggler__icon",id:"light-btn",onClick:r=>s("light_mode")}),E(YD,{className:"toggler__icon",id:"dark-btn",onClick:r=>s("dark_mode")})]})}function Gf({changeTheme:t}){function e(){const n=document.querySelector(".main-aside");n.classList.contains("hide")&&n.classList.remove("hide"),n.style.display="block"}return O("div",{className:"navbar",children:[E("button",{id:"menu-btn",children:E(XD,{className:"close",id:"",onClick:n=>e()})}),E(eO,{})]})}function tO(){return O(Hl,{children:[E(Yf,{active:zs().pathname}),O("main",{className:"content",children:[E(Gf,{}),E("h1",{children:"Analytics"}),E("section",{children:E(HD,{})})]})]})}yc.register(...qR);function nO({initialData:t,path:e,size:n,data:i,callbackUpdate:s,dataRef:r,options:o={}}){const a={cutout:"70%",rotation:-90,circumference:180,responsive:!0,events:[],plugins:{legend:{display:!1}},...o},l=T.useRef();T.useEffect(()=>{const u=Lo(Fo,e);return If(u,h=>{const d=h.val();c(d)})},[]);function c(u){if(r.current&&(r.current.innerText=Math.trunc(u)),l.current){const h=l.current;s&&s(h,u,i.verde,i.amarelo,i.vermelho)}}return E(Hl,{children:E(ZR,{ref:l,data:t,options:a,className:`${n} chart`})})}const iO=t=>{const[e,n]=T.useState([]);return T.useEffect(()=>{const i=Lo(Fo,t);x1(i).then(s=>{if(s.exists()){const r=s.val()||"";n(r)}else console.log("No data available")}).catch(s=>{console.error(s)})},[]),e};const sO=({href:t,title:e,className:n,children:i})=>E("a",{href:t,title:e,className:`badge ${n}`,target:"_blank",rel:"noopener noreferrer",children:E("span",{className:"badge-text",children:i})}),Lr="https://jaderadriel.github.io/toxic-gas-monitoring/dist/assets/gas-mask-040a6015.svg";function yu({name:t,icon:e,data:n,callbackUpdate:i,path:s,badges:r,date:o}){const a=iO(s),l=T.useRef();return O("div",{className:"GasMonitor",children:[O("div",{className:"GasMonitor__header",children:[E("img",{src:Lr,alt:"",className:"icon mask-icon"}),O("h3",{className:"GasMonitor__header__title",children:[" ",t," "]}),E("div",{className:"badges",children:r.map((c,u)=>E(sO,{href:c.href,title:c.title,className:c.className,children:c.text},u))})]}),E("div",{className:"GasMonitor__content",children:O("span",{className:"GasMonitor__content__data",children:[E("span",{ref:l,className:"GasMonitor__content__data",children:" "}),E("span",{className:"text-muted",children:"ppm"})]})}),E("div",{className:"GasMonitor__graph",children:a?E(nO,{initialData:n,callbackUpdate:i,path:s+"valor_atual",dataRef:l,data:n}):""}),E("footer",{className:"text-muted",children:"Saiba mais"})]})}function vu(t){return wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M245.975 26c-85.496 0-154.808 69.301-154.82 154.797v118.63h15.261c40.814 0 73.9 33.087 73.9 73.901v5.715h13.477a65.67 65.67 0 0 1-4.332-23.354c.477-36.417 30.136-65.689 66.557-65.689 36.42 0 66.079 29.272 66.556 65.69a65.654 65.654 0 0 1-4.334 23.308h13.5v-5.717c.007-40.802 33.076-73.881 73.88-73.9h15.226V180.797C420.833 95.31 351.534 26.013 266.046 26h-20.071zM180.52 165.896a55.573 55.573 0 0 1 22.11 4.231c20.798 8.613 34.36 28.91 34.36 51.422.006 30.736-24.909 55.656-55.645 55.656-22.512.005-42.812-13.553-51.43-34.35-8.618-20.796-3.856-44.736 12.06-60.656a55.646 55.646 0 0 1 38.545-16.303zm146.526.047a55.54 55.54 0 0 1 22.096 4.223c20.788 8.604 34.348 28.884 34.357 51.383.006 30.736-24.908 55.656-55.645 55.656-22.498-.005-42.78-13.56-51.388-34.346-8.609-20.786-3.849-44.71 12.058-60.62a55.622 55.622 0 0 1 38.522-16.296zm-71.002 140.514a48.581 48.581 0 0 0-34.35 82.932 48.58 48.58 0 0 0 82.932-34.35h-.045c0-26.813-21.724-48.557-48.537-48.582zM256 318a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm-18 34a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm36 0a16 16 0 0 1 16 16 16 16 0 0 1-16 16 16 16 0 0 1-16-16 16 16 0 0 1 16-16zm-68.535 46.773l.01.034c-.012-.035 1.943 18.084 1.943 18.084h23.103a67.155 67.155 0 0 1-25.056-18.118zm101.06 0l-.004.038.004-.004v-.034zm-.004.038a67.163 67.163 0 0 1-25.042 18.08h23.103c1.94-18.047.016-.147 1.94-18.08zm-99.103 34.322v18.289h97.164v-18.29h-97.164zm0 34.578V486h97.164v-18.29h-97.164z"}}]})(t)}const xu={labels:["LGP"],datasets:[{label:"ppm",data:[0,0],backgroundColor:["rgba(255, 255, 255, 0.4)","#a6a9ada9"],borderWidth:[1,0,0,1]}]},rO="#44e657",oO="#e4e418",aO="#ed4f4f";function wu(t,e,...n){if(!t)return;const[i,s,r]=n;let o=rO;t.data.datasets[0].data[0]=Number(e),t.data.datasets[0].data[1]=1024>e?1024-Number(e):0,e>i&&(o=oO),e>=r&&(o=aO),t.data.datasets[0].backgroundColor[0]=o,t.update()}const lO="https://jaderadriel.github.io/toxic-gas-monitoring/dist/assets/chama-b7dfbdff.svg";function cO(){const t=T.useRef();return T.useEffect(()=>{If(Lo(Fo,"/sensores/chama"),e=>{const n=e.val();t.current&&(console.log(n),t.current.checked=n===0?1:0)})},[]),E("form",{action:"",id:"led-form",children:E("ul",{id:"led_list",children:O("li",{className:"field",children:[O("div",{className:"wrapper",children:[E("input",{type:"checkbox",name:"led__state",id:"blue_led",ref:t,disabled:!0}),E("div",{className:"field__image","data-led":"orange",children:E("img",{src:lO,className:"led__icon",alt:"green_led-icon"})})]}),E("label",{htmlFor:"blue_led",className:"led__name",children:"Chamas"})]})})})}function w_(){return O(Hl,{children:[E(Yf,{active:zs().pathname}),O("main",{className:"content",children:[E(Gf,{}),E(cO,{}),E("h1",{children:"Painel"}),O("section",{className:"section",children:[E("header",{className:"section__header",children:E("h2",{className:"section__header__title",children:"Monitoramento dos sensores"})}),O("section",{className:"section__content",children:[E(yu,{name:"MQ-2",icon:E(vu,{color:"red",className:"icon"}),data:xu,callbackUpdate:wu,path:"/sensores/mq2/",badges:[{href:"https://www.google.com/search?q=metano+GAS",title:"Metano",text:"CH4"},{href:"https://www.google.com/search?q=C4H10+GAS",title:"Butano",text:"C4H10"},{href:"https://www.google.com/search?q=H2+GAS",title:"Propano",text:"C3H8"},{href:"https://www.google.com/search?q=H2+GAS",title:"Hidrogênio",text:"H2"},{href:"https://www.google.com/search?q=fumaca+GAS",title:"Fumaça",text:"Fumaça"}]}),E(yu,{name:"MQ-8",icon:E(vu,{color:"red",className:"icon"}),data:xu,callbackUpdate:wu,path:"/sensores/mq8/",badges:[{href:"https://www.google.com/search?q=H2+GAS",title:"Hidrogênio",text:"H2"}]}),E(yu,{name:"MQ-9",icon:E(vu,{color:"red",className:"icon"}),data:xu,callbackUpdate:wu,path:"/sensores/mq9/",badges:[{href:"https://pt.wikipedia.org/wiki/Mon%C3%B3xido_de_carbono",title:"Monóxido de carbono",text:"CO"},{href:"https://www.google.com/search?q=GLP+GAS",title:"Gás de cozinha",text:"GLP"}]})]})]})]})]})}const uO=t=>{const[e,n]=T.useState([]),i=s=>{const r=[];for(let o in s){const a=s[o],[l,c,u]=o.split("-"),h=`${l.padStart(2,"0")}-${c.padStart(2,"0")}-${u}`;for(let d in a){const f={date:h,time:d,mq2:s[o][d].mq2,mq8:s[o][d].mq8,mq9:s[o][d].mq9,chama:s[o][d].chama};r.push(f)}}return r};return T.useEffect(()=>{const s=Lo(Fo,t);x1(s).then(r=>{if(r.exists()){const o=r.val()||"";n(i(o))}else console.log("No data available")}).catch(r=>{console.error(r)})},[]),e};function hO({data:t}){return O("div",{className:"record",children:[E("div",{className:"header",children:O("h3",{className:"title",children:[t.date," às ",t.time]})}),O("div",{className:"body",children:[O("div",{className:"insight",children:[E("span",{className:"small",children:"mq2:"}),O("span",{className:"value",children:["  ",t.mq2?t.mq2+"pm":"Não informado"," "]})]}),O("div",{className:"insight",children:[E("span",{className:"small",children:"mq8"}),E("span",{className:"value",children:t.mq8?t.mq8+"pm":"Não informado"})]}),O("div",{className:"insight",children:[E("span",{className:"small",children:"mq9"}),E("span",{className:"value",children:t.mq9?t.mq9+"pm":"Não informado"})]}),O("div",{className:"insight",children:[E("span",{className:"small",children:"chamas"}),O("span",{className:"value",children:[" ",t.chama?"Sim":"Não"]})]})]})]})}function dO({data:t}){const[e,n]=T.useState(!1),i=fO(t),s=()=>{n(!e)};return O("div",{className:"month_report",onClick:r=>{s()},children:[E("h2",{children:i.date}),O("div",{className:"statistics",children:[e?E(KD,{className:"action",size:20}):E(QD,{className:"action",size:20}),O("div",{className:"card",children:[O("div",{className:"header",children:[E("img",{src:Lr,alt:"",className:"icon mask-icon"}),E("h3",{className:"title",children:"MQ-2"}),E("a",{href:"https://www.google.com/search?q=metano+GAS",title:"Metano",className:"badge",target:"_blank",rel:"noopener noreferrer",children:E("span",{className:"badge-text",children:"CH4"})}),E("a",{href:"https://www.google.com/search?q=C4H10+GAS",title:"Butano",className:"badge",target:"_blank",rel:"noopener noreferrer",children:E("span",{className:"badge-text",children:"C4H10"})}),E("a",{href:"https://www.google.com/search?q=H2+GAS",title:"Propano",className:"badge",target:"_blank",rel:"noopener noreferrer",children:E("span",{className:"badge-text",children:"C3H8"})}),E("a",{href:"https://www.google.com/search?q=H2+GAS",title:"Hidrogênio",className:"badge",target:"_blank",rel:"noopener noreferrer",children:E("span",{className:"badge-text",children:"H2"})}),E("a",{href:"https://www.google.com/search?q=fumaca+GAS",title:"Fumaça",className:"badge",target:"_blank",rel:"noopener noreferrer",children:E("span",{className:"badge-text",children:"Fumaça"})})]}),O("div",{className:"body",children:[O("div",{className:"insight",children:[E("h4",{className:"label",children:"Minímo"}),O("span",{className:"value",children:[i.mq2Min," pm"]})]}),O("div",{className:"insight",children:[E("h4",{className:"label",children:"Média"}),O("span",{className:"value",children:[i.mq2Media," pm"]})]}),O("div",{className:"insight",children:[E("h4",{className:"label",children:"Maxímo"}),O("span",{className:"value",children:[i.mq2Max," pm"]})]})]})]}),O("div",{className:"card",children:[O("div",{className:"header",children:[E("img",{src:Lr,alt:"",className:"icon mask-icon"}),E("h3",{className:"title",children:"MQ-8"}),E("a",{href:"https://www.google.com/search?q=H2+GAS",title:"Hidrogênio",className:"badge",target:"_blank",rel:"noopener noreferrer",children:E("span",{className:"badge-text",children:"H2"})})]}),O("div",{className:"body",children:[O("div",{className:"insight",children:[E("h4",{className:"label",children:"Minímo"}),O("span",{className:"value",children:[i.mq8Min," pm"]})]}),O("div",{className:"insight",children:[E("h4",{className:"label",children:"Média"}),O("span",{className:"value",children:[i.mq8Media," pm"]})]}),O("div",{className:"insight",children:[E("h4",{className:"label",children:"Maxímo"}),O("span",{className:"value",children:[i.mq8Max," pm"]})]})]})]}),O("div",{className:"card",children:[O("div",{className:"header",children:[E("img",{src:Lr,alt:"",className:"icon mask-icon"}),E("h3",{className:"title",children:"MQ-9"}),E("a",{href:"https://pt.wikipedia.org/wiki/Mon%C3%B3xido_de_carbono",title:"Monóxido de carbono",className:"badge",target:"_blank",rel:"noopener noreferrer",children:E("span",{className:"badge-text",children:"CO"})}),E("a",{href:"https://www.google.com/search?q=GLP+GAS",title:"Gás de cozinha",className:"badge",target:"_blank",rel:"noopener noreferrer",children:E("span",{className:"badge-text",children:"GLP"})})]}),O("div",{className:"body",children:[O("div",{className:"insight",children:[E("h4",{className:"label",children:"Minímo"}),O("span",{className:"value",children:[i.mq9Min," pm"]})]}),O("div",{className:"insight",children:[E("h4",{className:"label",children:"Média"}),O("span",{className:"value",children:[i.mq9Media," pm"]})]}),O("div",{className:"insight",children:[E("h4",{className:"label",children:"Maxímo"}),O("span",{className:"value",children:[i.mq9Max," pm"]})]})]})]})]}),e?t.map((r,o)=>E(hO,{data:r},o)):""]})}function fO(t){let e={countChama:0,countMq2:0,mq2Max:Number.MIN_SAFE_INTEGER,mq8Max:Number.MIN_SAFE_INTEGER,mq9Max:Number.MIN_SAFE_INTEGER,mq2Min:Number.MAX_SAFE_INTEGER,mq8Min:Number.MAX_SAFE_INTEGER,mq9Min:Number.MAX_SAFE_INTEGER,mq2Media:0,mq8Media:0,mq9Media:0,date:t[0].date};console.log(t);for(let o=0;o<t.length;o++){const{mq2:a,mq8:l,mq9:c}=t[o];e.countMq2=a?e.countMq2+1:e.countMq2,console.log(e.mq2Media),e.mq2Media=a?e.mq2Media?e.mq2Media+a:a:e.mq2Media,e.mq8Media=l?e.mq8Media?e.mq8Media+l:l:e.mq8Media,e.mq9Media=c?e.mq9Media?e.mq9Media+c:c:e.mq9Media,a>=e.mq2Max&&(e.mq2Max=a),a<e.mq2Min&&(e.mq2Min=a),l>=e.mq8Max&&(e.mq8Max=l),l<e.mq8Min&&(e.mq8Min=l),c>=e.mq9Max&&(e.mq9Max=c),c<e.mq9Min&&(e.mq9Min=c)}console.log(e.countMq2),e.mq2Media=Math.floor(e.mq2Media/e.countMq2),e.mq8Media=Math.floor(e.mq8Media/e.countMq2),e.mq9Media=Math.floor(e.mq9Media/e.countMq2);const n=new Map([[1,"Janeiro"],[2,"Fevereiro"],[3,"Março"],[4,"Abril"],[5,"Maio"],[6,"Junho"],[7,"Julho"],[8,"Agosto"],[9,"Setembro"],[10,"Outubro"],[11,"Novembro"],[12,"Dezembro"]]),[i,s,r]=e.date.split("-");return e.date=`${n.get(Number(s))} de ${r}`,e}function pO({month:t}){return E("div",{className:"yearReport",children:t.map((e,n)=>E(dO,{data:e},n))})}function gO({data:t}){const[e,n]=T.useState(r(new Date().toLocaleDateString(),"/")),i=a=>{const l=a.target.value;n(l)};function s(a,l){const[c,u,h]=a.split(l);return`${h}-${u}-${c}`}function r(a,l){const[c,u,h]=a.split(l);return`${h}-${c<10?"0"+c:c}-${u<10?"0"+u:u}`}const o=t.filter(a=>s(a.date,"-")===e);return O("div",{className:"card",children:[E("h2",{className:"title",children:"Selecione um dia para visualizar"}),E("input",{type:"date",value:e,min:"2023-06-30",className:"date-picker",max:r(new Date().toLocaleDateString(),"/"),onChange:i}),E("div",{className:"historicos",children:E("div",{className:"statistics",children:O("div",{className:"card",children:[O("div",{className:"header",children:[E("img",{src:Lr,alt:"",className:"icon mask-icon"}),E("h3",{className:"title",children:"Gases"})]}),E(Sx,{className:"historyChart",data:{labels:o.map(a=>a.time),datasets:[{label:"MQ-2",data:o.map(a=>a.mq2),color:"#009957",backgroundColor:"#009957",borderColor:"#009957",borderWidth:2,pointRadius:0},{label:"MQ-8",data:o.map(a=>a.mq8),color:"#159ffc",backgroundColor:"#159ffc",borderColor:"#159ffc",borderWidth:2,pointRadius:0},{label:"MQ-9",data:o.map(a=>a.mq9),color:"#EF5B0C",backgroundColor:"#EF5B0C",borderColor:"#EF5B0C",borderWidth:2,pointRadius:0}]},options:{maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Gases"},legend:{display:!0},tooltip:{callbacks:{label:function(a){return" "+a.parsed.y}}}},scales:{y:{ticks:{callback:function(a,l,c){return a}},grid:{display:!1},min:0,max:1024},x:{ticks:{display:!1},grid:{display:!1}}},responsive:!0,interaction:{intersect:!1},parsing:{xAxisKey:"x",yAxisKey:"y"}}})]})})})]})}function mO(){const t=uO("/historico/"),e=n(t);function n(i){if(!i)return;let s={};for(let r=0;r<i.length;r++){const o=i[r],[a,l,c]=o.date.split("-");if(s[c]){if(s[c][l]){s[c][l].push(o);continue}s[c][l]=[o];continue}else s[c]={[l]:[o]}}s=Object.values(s);for(let r=0;r<s.length;r++){const o=s[r];s[r]=Object.values(o)}return s}return O(Hl,{children:[E(Yf,{active:"/reports"}),O("main",{className:"content",children:[E(Gf,{}),E(gO,{data:t}),e.reverse().map((i,s)=>E(pO,{month:i},s))]})]})}function _O(){return E("div",{className:"container main-wrapper",children:O(eC,{children:[E(hr,{path:"/dashboard",element:E(w_,{})}),E(hr,{path:"/",element:E(w_,{})}),E(hr,{path:"/analytics",element:E(tO,{})}),E(hr,{path:"/reports",element:E(mO,{})})]})})}const yO=Su.createRoot(document.getElementById("root"));yO.render(E(rC,{children:E(_O,{})}));
